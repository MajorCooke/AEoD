
//================================================================
//================================================================

actor FQuakeZombie 7130		// imp
{
	DropItem "PowerslaveSpawner" 128
	DropItem "PowerupSpawner" 4
	Health 50
	Radius 16
	Height 56
	PainChance 40
	Speed 7
	Monster	+DONTCORPSE	RipLevelMin 1 
	SeeSound "qzombie/idle"
	PainSound "qzombie/pain"
	DeathSound "qzombie/pain"
	ActiveSound "qzombie/idle"
	Scale 0.4
	+FLOORCLIP
	-LOOKALLAROUND
	Obituary "And then %o was a zombie."
	
	PainChance "Charm", 0		//sorry, due to resurrecting issues
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Undead
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "Holy", 2.0
	DamageFactor "Unholy", 0.5
	DamageFactor "UnholyDisint", 0.5
	DamageFactor "AEMagic", 1.5
	States
	{
	Pain.Chaos:
		TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
		TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
		Goto See
	Pain.ChaosExpl1:
		TNT1 A 0 A_ClearTarget
		TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
		Goto Spawn
	Pain.ChaosExpl2:		TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)		Goto See
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 	
	
	Spawn:
		Q40I A 10 A_Look
		Loop
	See:
		Q40W ABCDEF 8 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		Q40A ABCDE 5 A_FaceTarget
		Q40A F 5 A_CustomMissile("ZombieGib2",34,0,0)		//for balance issues, this wont be affected by gravity
		Goto See
	Pain:
		Q40P A 5
		Q40P A 3 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q40D A 4 A_Scream
		Q40D B 4 A_Fall
		Q40D C 4
		TNT1 A 0 A_PlaySound("quake4/Misc/Body/small")
		Q40D DEF 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		"####" "#"  0 A_Jump(180,2,3,4,5,6)
		"####" "#############" 90
		"####" "#" 0 A_Jump(32,2)
		"####" "#"  0 Thing_Raise(0)
		
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		"####" "#" -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("qzombie/gibdeath")
		TNT1 AA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("ZombieHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		TNT1 A 1 A_Fall
		Stop
	Raise:
		Q40D GHIJKLM 5
		Goto See
	Death.ZombieGibber:
		TNT1 A 0 A_Jump(256,"XDeath")
		Goto XDeath
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}

Actor ZombieHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.32
	BounceFactor 0.4
	//Fun fact: THRUACTORS skips one more collision check than -SOLID does.
	//On the other hand, -SOLID is more often checked first before THRUACTORS
	//so having both does save a tad bit more processing time. :P
	+THRUACTORS
	-NOLIFTDROP
	-SOLID
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A K 4 A_Gravity
		Q99A K 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A K -1 A_Gravity
		Stop
	}
}

actor ZombieGib
{
    Radius 12
    Height 8
    Speed 18
    Damage 2
    Scale 0.5
    Projectile
    MissileType Blood
    SeeSound "qzombie/shot"
    DeathSound "qzombie/fleshhit"
    -NOGRAVITY
    +LOWGRAVITY
    States
    {
    Spawn:
	TNT1 AA 0 ThrustThingZ(0,4,0,0)
	ZOMM B 3 A_SpawnItemEx("GibBloodSmall",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
	Goto Spawn+2
    Death:
	TNT1 A 5
	Stop
    }
}


actor ZombieGib2
{
    Radius 12
    Height 8
    Speed 30
    Damage 2
    Scale 0.5
    Projectile
    MissileType Blood
    SeeSound "qzombie/shot"
    DeathSound "qzombie/fleshhit"
    States
    {
    Spawn:
	ZOMM B 4 A_SpawnItemEx("GibBloodSmall",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
	Loop
    Death:
	TNT1 A 5
	Stop
    }
}



//================================================================
//================================================================
Actor FQuakeDog 7131	//zombieman
{
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerMonsterAmmo" 255
	DropItem "PowerupSpawner" 8
	Health 50
	Radius 12
	Height 48
	Speed 14
	PainChance 250
	Mass 100
	Monster	+DONTCORPSE	RipLevelMin 1 
	+FLOORCLIP
	Scale 0.37
	SeeSound "qdog/sight"
	PainSound "qdog/pain"
	DeathSound "qdog/death"
	ActiveSound "qdog/idle"
	
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q29I A 10 A_Look
		Loop
	See:
		Q29W AABBCCDDEEFFGGHH 2 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Melee:
		TNT1 A 0 A_PlaySound("qdog/attack",6)
		Q29A AB 3 A_FaceTarget
		Q29A C 3 A_CustomMeleeAttack(random(5,20))
		Q29A DE 4 
		Goto See
	Pain:
		Q29P A 8 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q29D A 0 A_Scream
		Q29D A 0 A_Fall
		Q29D ABCE 4
		Q29D F 4 A_PlaySound("quake4/Misc/Body/Small")
		Q29D G 4 
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q29D H -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 AA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("DogHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		TNT1 A 1 A_fall
		Stop
	Raise:
		Q29D HGFEDCBA 4
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowSmallMedium",0,0,18,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksSmallMedium",0,0,18,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}



Actor DogHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.33
	BounceFactor 0.4
	MissileType Blood
	+THRUACTORS
	-NOLIFTDROP
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A B 4 A_Gravity
		Q99A B 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A B -1 A_Gravity
		Stop
	}
}


//================================================================
//================================================================

ACTOR FDeathKnight 7132		// mancubus
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 8
	Health 650
	Radius 20 
	Height 56 
	Speed 10
	PainChance 20
	Mass 1000
	Scale 0.4
	MeleeDamage 5
	MeleeRange 80
	Monster	+DONTCORPSE	RipLevelMin 1 
	+BOSS
	+BOSSDEATH
	+FLOORCLIP
	SeeSound "deathknight/sight"
	PainSound "deathknight/pain"
	DeathSound "deathknight/death"
	ActiveSound "deathknight/idle"
	Obituary "%o was burned by a Death kngiht" 
	HitObituary "%o was cut in half by a death knight" 
	
	PainChance "Charm", 192
	PainChance "Terror", 192
	PainChance "Defile", 255
	PainChance "Drain", 96
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 	
	
	Spawn:
		Q33I A 0
		Q33I A 0 A_Stop
		Q33I A 10 A_Look
		Wait
	See:
		TNT1 a 0 A_ChangeFlag("NODROPOFF",0)
		Q33W AABBCCDDEEFF 2 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		Q33A ABC 4 A_FaceTarget
		TNT1 A 0 A_PlaySound("deathknight/fire",5)
		Q33A C 4 A_CustomMissile("KnightBall",34,0,-35+random(4,-4))
		TNT1 A 0 A_PlaySound("deathknight/fire",5)
		Q33A C 4 A_CustomMissile("KnightBall",34,0,-25+random(4,-4))
		TNT1 A 0 A_PlaySound("deathknight/fire",5)
		Q33A C 4 A_CustomMissile("KnightBall",34,0,-10+random(4,-4))
		TNT1 A 0 A_PlaySound("deathknight/fire",5)
		Q33A C 4 A_CustomMissile("KnightBall",34,0,0+random(4,-4))
		TNT1 A 0 A_PlaySound("deathknight/fire",5)
		Q33A C 4 A_CustomMissile("KnightBall",34,0,10+random(4,-4))
		TNT1 A 0 A_PlaySound("deathknight/fire",5)
		Q33A C 4 A_CustomMissile("KnightBall",34,0,25+random(4,-4))
		TNT1 A 0 A_PlaySound("deathknight/fire",5)
		Q33A C 4 A_CustomMissile("KnightBall",34,0,35+random(4,-4))
		Q33A DE 4
		Goto See
	Melee:
		TNT1 a 0 A_ChangeFlag("NODROPOFF",1)
		Q33C A 0 A_Jump(256,"Melee1","Melee2")
	Melee1:
		Q33C A 5 A_FaceTarget	TNT1 A 0 A_Recoil(-1.8)
		Q33C B 5 A_FaceTarget	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_PlaySound("deathknight/swing")
		Q33C C 5 A_FaceTarget	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget	
		Q33C D 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget	
		Q33C E 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		TNT1 A 0 A_FaceTarget	TNT1 A 0 A_PlaySound("deathknight/swing")
		Q33C F 5 A_FaceTarget	TNT1 A 0 A_Recoil(-1.8)
		Q33C G 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		Q33C H 5 A_Recoil(-1.8)
		Goto See
	Melee2:
		Q33B A 5 A_FaceTarget	TNT1 A 0 A_Recoil(-1.8)
		Q33B B 5 A_FaceTarget	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget	TNT1 A 0 A_PlaySound("deathknight/swing")
		Q33B C 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget
		Q33B D 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget
		Q33B E 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		Q33B F 6 A_FaceTarget
		Goto See
	Pain:
		Q33P A 4
		Q33P A 4 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q33D A 4 A_Scream
		Q33D B 4 A_Fall
		Q33D CDEFGH 4
		Q33D I 0 A_PlaySound("quake4/Misc/Body/Small")
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q33D I -1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("DeathKnightHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		TNT1 A 1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Raise:
		Q33D IHGFEDCBA 5
		Goto See
	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+7
	}
}
Actor DeathKnightHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.31
	BounceFactor 0.4
	-NOLIFTDROP
	+THRUACTORS
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A D 4 A_Gravity
		Q99A D 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A D -1 A_Gravity
		Stop
	}
}

Actor KnightBall
{
	Radius 12
	Height 8
	Speed 10
	Damage 12
	scale 0.4
	DamageType "Fire"
	SeeSound ""
	Translation "0:255=%[0,0,0]:[1.5,0.7,0.0]"
	RenderStyle Add
	PROJECTILE
	+MISSILE
	states
	{
	Spawn:
		TNT1 A 0
		ANFB A 0 Bright A_SpawnItemEx("KBT",-3,0,0,0,1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB A 2 Bright A_SpawnItemEx("KBT",-3,0,0,0,-1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB B 0 Bright A_SpawnItemEx("KBT",-3,0,0,0,1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB B 2 Bright A_SpawnItemEx("KBT",-3,0,0,0,-1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB C 0 Bright A_SpawnItemEx("KBT",-3,0,0,0,1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB C 2 Bright A_SpawnItemEx("KBT",-3,0,0,0,-1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		loop
	Death:
		TNT1 AAAAAAAAA 0 A_SpawnItemEx("KBT2",0,0,0,frandom(0.5,2),0,frandom(2,-2),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB DEFG 3 Bright
		stop
    }
}
actor KBT
{
	+NOINTERACTION
	RenderStyle Add
	Scale 0.1
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(230,2,3,4,5,6,7,8,9)
		X105 ABCDEFGHIJKLMNOPQRSTUVWX 1 Bright A_FadeOut(0.03)
		Goto Spawn+2
	}
}
actor KBT2
{
	+NOINTERACTION
	RenderStyle Add
	Scale 0.15
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(230,2,3,4,5,6,7,8,9)
		X105 ABCDEFGHIJKLMNOPQRSTUVWX 1 Bright A_FadeOut(0.06)
		Goto Spawn+2
	}
}


//================================================================
//================================================================

Actor FQKnight 7133	// demon
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 64
	DropItem "PowerupSpawner" 8
	Health 150
	Radius 20
	Height 56
	Speed 8
	PainChance 50
	Mass 1000
	Monster	+DONTCORPSE	RipLevelMin 1
	+FLOORCLIP
	Scale 0.4
	SeeSound "qknight/sight"
	PainSound "qknight/pain"
	DeathSound "qknight/death"
	ActiveSound "qknight/idle"
	HitObituary "%o was slashed by a knight."
	MeleeDamage 2

	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 153
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 	
	
	Spawn:
		Q34I A 10 A_Look
		Loop
	See:
		Q34W AABBCCDDEEFF 2 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Melee:
		TNT1 A 0 A_Recoil(-1.8)
		Q34A A 4 A_FaceTarget		TNT1 A 0 A_Recoil(-1.8)
		Q34A B 4 A_FaceTarget		TNT1 A 0 A_Recoil(-1.8)
		Q34A C 4 A_FaceTarget		TNT1 A 0 A_PlaySound("deathknight/swing")
		TNT1 A 0 A_Recoil(-1.8)		TNT1 A 0 A_FaceTarget
		Q34A D 4 A_MeleeAttack
		TNT1 A 0 A_Recoil(-1.8)		TNT1 A 0 A_FaceTarget
		Q34A E 4 A_MeleeAttack
		TNT1 A 0 A_Recoil(-1.8)		TNT1 A 0 A_FaceTarget
		Q34A F 4 A_MeleeAttack		TNT1 A 0 A_Recoil(-1.8)
		Q34A G 4 A_FaceTarget		TNT1 A 0 A_Recoil(-1.8)
		Q34A H 4 A_FaceTarget
		Goto See
	Pain:
		Q34P A 4
		Q34P A 4 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q34D A 4 A_Scream
		Q34D B 4 A_Fall
		Q34D CDEFG 3
		Q34D G 0 A_PlaySound("quake4/Misc/Body/Small")
		Q34D HI 3
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q34D J -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("KnightHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		Stop
	Raise:
		Q34D IHGFEDCBA 5
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}


Actor KnightHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.34
	BounceFactor 0.4
	-NOLIFTDROP
	+THRUACTORS
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A E 4 A_Gravity
		Q99A E 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A E -1 A_Gravity
		Stop
	}
}

//================================================================
//================================================================

Actor FEnforcer 7134	//shotguy
{
	DropItem "CellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerShotgunner" 210
	DropItem "PowerupSpawner" 8
	Health 70
	Radius 20 
	Height 56 
	Mass 250 
	Speed 13
	PainChance 64
	Monster	+DONTCORPSE	RipLevelMin 1 
	Scale 0.37
	+FLOORCLIP 
	+MISSILEEVENMORE
	SeeSound "enforcer/sight" 
	PainSound "enforcer/pain" 
	DeathSound "enforcer/death" 
	ActiveSound "enforcer/idle" 
	Obituary "%o was blasted by an enforcer."
	
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 	
	
	Spawn:
		Q30I A 10 A_Look
		Loop
	See:
		Q30W ABCDEF 4 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		Q30A AB 5 A_FaceTarget
		Q30A C 5 A_CustomMissile("EnforcerBeam",32,7,0)
		Q30A D 5
		Q30A B 5 A_FaceTarget
		Q30A C 5 A_CustomMissile("EnforcerBeam",32,7,0)
		Q30A D 5
		Goto See
	Pain:
		Q30P A 8 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q30D A 4 A_Scream
		Q30D B 4 A_Fall
		Q30D CDEFG 4
		Q30D H 4 A_PlaySound("quake4/Misc/Body/Small")
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q30D I -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("EnforcerHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		TNT1 A 1
		Stop
	Raise:
		Q30D HGFEDCBA 4
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}


Actor EnforcerHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.35
	BounceFactor 0.4
	MissileType Blood
	-NOLIFTDROP
	+THRUACTORS
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A F 4 A_Gravity
		Q99A F 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A F -1 A_Gravity
		Stop
	}
}
actor EnforcerBeam
{
	Mass 1
	Radius 8
	Height 6
	Speed 25
	Damage 5
	Scale 0.7
	SeeSound "enforcer/shot"
	DeathSound "enforcer/shotcrash"
	PROJECTILE
	DamageType "Plasma"
	RenderStyle Add
	States
	{
	Spawn:
		ENFL A 1 Bright A_SpawnItemEx("EnforcerBeamExtra",random(0,-4),random(2,-2),random(2,-2),0,0,0,0,SXF_NOCHECKPOSITION)
		Loop
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("EnforcerBeamExtra",0,0,0,frandom(0.2,1.5),0,frandom(1.5,-1.5),random(0,359),SXF_NOCHECKPOSITION)
		ENFL BCD 4 Bright
		Stop
	}
}

ACTOR EnforcerBeamExtra
{
	Scale 0.25
	RenderStyle Add
	+NOINTERACTION
	Translation "0:255=%[0,0,0]:[1.5,0.7,0.0]"
	States
	{
	Spawn:
		RFX1 B 2 Bright
		RFX1 B 0 A_Jump(128,1)
		Loop
		RFX1 B 2 Bright
		RFX1 B 1 Bright A_FadeOut(0.05)
		Wait
	Death:
		TNT1 A 1
		Stop
	}
}


//================================================================
//================================================================

ACTOR FGrunt 7135	// zombie
{
	DropItem "ShellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerMonsterAmmo" 128
	DropItem "PowerupSpawner" 8
	Health 40
	Radius 20 
	Height 56 
	Mass 100 
	Speed 13
	PainChance 200 
	Monster	+DONTCORPSE	RipLevelMin 1 
	Scale 0.42
	+FLOORCLIP 
	SeeSound "qgrunt/idle" 
	AttackSound "qweapons/shotgun"
	PainSound "qgrunt/pain" 
	DeathSound "qgrunt/death" 
	ActiveSound "qgrunt/idle" 
	Obituary "%o was Shot by a Grunt."
	
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 	
	
	Spawn:
		Q32I A 10 A_Look
		Loop
	See:
		Q32W ABCDEF 4 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		Q32A AB 5 A_FaceTarget(0,0)
		"----" A 0 A_CustomMissile("BulletTracerFX",20,0,random(-1,1),CMF_OFFSETPITCH,random(-5,5))
		Q32A C 4 BRIGHT A_CustomBulletAttack(1,5,3,1,"BulletDamagePuff")
		Q32A DB 4
		Goto See
	Pain:
		Q32P A 4
		Q32P A 4 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q32D A 4 A_Scream
		Q32D B 4 A_Fall
		Q32D C 4
		Q32D D 4 A_PlaySound("quake4/Misc/Body/Small")
		Q32D E 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q32D F -1
		Stop	
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("GruntHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		Stop
	Raise:
		Q32D FEDCBA 5
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}

Actor GruntHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.34
	BounceFactor 0.4
	-NOLIFTDROP
	+THRUACTORS
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A C 4 A_Gravity
		Q99A C 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A C -1 A_Gravity
		Stop
	}
}




//================================================================
//================================================================
ACTOR FFiend 7136	// hell knight
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 8
	Health 750
	Radius 24
	Height 52 
	Mass 400 
	Speed 10
	MeleeDamage 7
	MeleeRange 70
	Damage 12
	PainChance 32
	Monster	+DONTCORPSE	RipLevelMin 1 
	Scale 0.4
	SeeSound "fiend/sight"
	PainSound "fiend/pain"
	DeathSound "fiend/death"
	ActiveSound "fiend/idle"
	MeleeSound "fiend/melee"
	
	PainChance "Charm", 192
	PainChance "Terror", 192
	PainChance "Defile", 255
	PainChance "Drain", 110
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 	
	
	Spawn:
		Q31I A 10 A_Look
		Loop
	See:
		Q31R AABBCCDDEEFF 2 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	SeeNoMissile:
		Q31R AABBCCDDEEFF 2 A_Chase("Melee","")
		Goto See
	Melee:
		TNT1 a 0 A_ChangeFlag("NODROPOFF",1)
		Q31M A 4 A_FaceTarget 	TNT1 A 0 A_Recoil(-1.8)
		Q31M B 4 A_FaceTarget 	TNT1 A 0 A_Recoil(-1.8)
		Q31M C 4 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		Q31M D 5 A_FaceTarget	TNT1 A 0 A_Recoil(-1.8)
		Q31M E 4 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		Q31M F 5  A_ChangeFlag("NODROPOFF",0)
		Goto See
		
	Missile:
		Q31L A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("fiend/jump")
		Q31L A 4 A_FaceTarget
		Q31L A 0 A_Recoil(-28)
		Q31L B 1 ThrustThingZ(0,35,0,0)
	LeapLoop:
		Q31L B 0 A_CheckFloor("LeapEnd")
		Q31L B 1 A_JumpIfCloser(70,"LeapMelee")
		Loop
	LeapEnd:
		Q31L A 0 A_PlaySound("fiend/land")
		Q31L A 0 A_ChangeFlag("NOPAIN",0)
		Q31L C 4 A_Stop
		Q31L D 4
		Goto SeeNoMissile  
	LeapMelee:
		Q31L B 1 A_MeleeAttack
		Q31L B 1 A_CheckFloor("LeapEnd")
		Wait
		
	Pain:
		Q31P A 1
		TNT1 A 0 A_ChangeFlag("NODROPOFF",0)
		Q31P A 7 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q31D A 4 A_Scream
		Q31D B 4 A_Fall
		Q31D CD 4
		Q31D E 4 A_PlaySound("quake4/Misc/Body/Small")
		Q31D FG 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q31D H -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("FiendHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		Stop
	Raise:
		Q31D GFEDCBA 4
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}
Actor FiendHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.3
	BounceFactor 0.4
	-NOLIFTDROP
	+THRUACTORS
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A A 4 A_Gravity
		Q99A A 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A A -1 A_Gravity
		Stop
	}
}

Actor JumpCheck : Inventory
{
    Inventory.MaxAmount 1
    Inventory.Amount 1
}





//================================================================
//================================================================

ACTOR FShambler 7137			// arch-vile
{
	var int user_count;
	DropItem "Mana2Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 
	Health 1700	//it has quite some health because it doesnt resurrect and is a flesh monster, which by definition is quite fragile
	Radius 28
	Height 64 
	Mass 1500 
	Speed 14
	MeleeDamage 10
	Scale 0.57
	PainChance 34
	Monster	+DONTCORPSE	RipLevelMin 1 
	+MISSILEMORE
	+BOSS
	+FLOORCLIP 
	+DONTMORPH
	SeeSound "shambler/sight"
	PainSound "shambler/pain"
	DeathSound "shambler/death"
	ActiveSound "shambler/idle"
	MeleeSound "shambler/melee"
	HitObituary "%o was smashed by a shambler"
	Obituary "%o couldn't avoid the shambler's lightning"
	DamageFactor "Wormwood", 0.5
	
	PainChance "Charm", 96
	PainChance "Terror", 96
	PainChance "Drain", 64
	PainChance "Defile", 0
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 128
	PainChance "ChaosExpl2", 128
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q37I A 10 A_Look
		Loop
	See:
		Q37R A 3 A_Chase		Q37R A 2 A_Chase
		Q37R B 3 A_Chase		Q37R B 2 A_Chase
		Q37R C 3 A_Chase		Q37R C 2 A_Chase
		Q37R D 3 A_Chase		Q37R D 2 A_Chase
		Q37R E 3 A_Chase		Q37R E 2 A_Chase
		Q37R F 3 A_Chase		Q37R F 2 A_Chase
		Loop
	Missile:
		"----" A 0 A_PlaySound("shambler/charge",6)
		Q37A ABBBBC 4 Bright A_FaceTarget
		"----" A 0 A_PlaySound("shambler/light",5)
		"----" A 0 A_SetUserVar("user_count",0)
	MissLooper:
		"----" A 0 A_JumpIf(user_count>=20,"EndLoop")
		"----" A 0 A_FaceTarget
		Q37A D 1 Bright A_CustomMissile("ShamblerLightning",40,0,0)
		"----" A 0 A_SetUserVar("user_count",user_count+1)
		Loop
	EndLoop:
		Q37A D 2
		Goto See
	Melee:
		"----" A 0 A_Jump(190,"RightArm")
	BothArms:
		Q37M ABC 5 A_FaceTarget
		Q37M D 5 A_CustomMeleeAttack(random(100,200),"shambler/melee")
		Q37M EF 7
		Goto See
	RightArm:
		TNT1 A 0 A_JumpIfInventory("MeleeSideToken",1,"LeftArm")	//to switch arms betwen attacks
		TNT1 A 0 A_GiveInventory("MeleeSideToken",1)		TNT1 A 0 A_Recoil(-1.4)
		Q37N A 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N B 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N C 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N D 5 A_MeleeAttack			TNT1 A 0 A_Recoil(-1.4)
		Q37N E 5 A_FaceTarget
		Goto See
	LeftArm:
		TNT1 A 0 A_TakeInventory("MeleeSideToken",1)		TNT1 A 0 A_Recoil(-1.4)
		Q37N F 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N G 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N H 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N I 5 A_MeleeAttack			TNT1 A 0 A_Recoil(-1.4)
		Q37N J 5 A_FaceTarget
		Goto See
	Pain:
		Q37P A 2
		Q37P A 2 A_Pain
		Goto See
	Death:
		Q37D A 4 A_Scream
		Q37D B 4 A_Fall
		Q37D CDEF 4
		"----" A 0 A_PlaySound("quake4/Misc/Body/Beefy")
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q37D G -1
		Stop
	XDeath:
		TNT1 C 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("ShamblerHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		TNT1 A 1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Raise:
		Q37D FEDCBA 5
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}

Actor MeleeSideToken : Inventory
{Inventory.MaxAmount 1}

Actor ShamblerLightning 
{
	var int user_x;
	var int user_y;
	var int user_z;
	var int user_life;
	var int user_movement[2];
	Speed 5
	Damage (random(2,5))
	Radius 5
	Height 5
	Scale .75
	RenderStyle None
	Projectile
	+DONTREFLECT
	+EXTREMEDEATH
	+FORCERADIUSDMG
	+NODAMAGETHRUST
	+SEEKERMISSILE
	+SKYEXPLODE
	+EXPLODEONWATER
	DamageType "Electric"
	States
	{
	Spawn:
		TNT1 A 0 NoDelay A_SeekerMissile(90,90,SMF_PRECISE)
	Movement:
		TNT1 A 0 A_JumpIf(z >= ceilingz || z <= floorz,"Death")
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,velx,vely,velz,0,WARPF_ABSOLUTEOFFSET,1) 
		Goto Death
		TNT1 A 0 A_Warp(AAPTR_DEFAULT,velx,vely,velz,0,WARPF_ABSOLUTEOFFSET,1) 
		Goto Death
		TNT1 A 0 A_JumpIf(user_life >= 500,2)
		TNT1 A 0 A_SpawnItemEx("ShamblerLightningTrail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_ABSOLUTEMOMENTUM)
		TNT1 A 0 A_SetUserVar("user_life",user_life+1)
		TNT1 A 0 A_JumpIf(user_life >= 1000,"Death")
		TNT1 A 0 A_JumpIf(user_life < 5,"Movement") //Needed to prevent targeting the shambler itself.
		TNT1 A 0 A_CheckSight("LOFCheck")
		Goto Movement
	LOFCheck:
		TNT1 A 0 A_RearrangePointers(AAPTR_DEFAULT,AAPTR_DEFAULT,AAPTR_NULL)
		TNT1 A 0 A_CheckLOF("Dmg",CLOFF_CHECKPARTIAL|CLOFF_NOAIM|CLOFF_JUMPENEMY|CLOFF_JUMPFRIEND|CLOFF_JUMPNONHOSTILE|CLOFF_MUSTBESHOOTABLE|CLOFF_ALLOWNULL|CLOFF_SETTRACER,0,0,0,0,0,0,AAPTR_NULL)
		Goto Death
	Reset:
		TNT1 A 0 A_RearrangePointers(AAPTR_DEFAULT,AAPTR_DEFAULT,AAPTR_NULL)
		TNT1 A 0 A_TransferPointer(AAPTR_TARGET,AAPTR_DEFAULT,AAPTR_TARGET,AAPTR_TRACER,4)
		Goto Movement
	Dmg:
		TNT1 A 0 A_JumpIf(IsPointerEqual(AAPTR_TARGET,AAPTR_TRACER),"Reset")
		TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
		TNT1 A 0 A_DamageTracer(random(2,5),"Electric",DMSS_AFFECTARMOR)
	Death:
		TNT1 A 1
		Stop
	}
}

Actor ShamblerLightningTrail
{
	+NOINTERACTION
	RenderStyle Add
	Scale 0.15
	States
	{
	Spawn:
		TNT1 A 0
		ZAP8 ABC 0 A_JumpIf(random(1,3) == 1,"Perform")
	Perform:
		"----" A 1 A_SpawnItemEx("ShuricaneSpark",0,0,0,frandom(2.0,-2.0),frandom(2.0,-2.0),frandom(2.0,-2.0),0,SXF_NOCHECKPOSITION,230)
		Stop
	}
}

Actor ShamblerHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.32
	BounceFactor 0.4
	-NOLIFTDROP
	-SOLID
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A I 4 A_Gravity
		Q99A I 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A I -1 A_Gravity
		Stop
	}
}


//================================================================
//================================================================
ACTOR FScrag 7138	// cacodemon
{ 
	DropItem "Mana1Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
	Health 400
	Speed 12
	Radius 31
	Height 56
	PainChance 128
	Mass 400
	Scale 0.4
	Meleedamage 6 
	REACTIONTIME 8 
	Monster	+DONTCORPSE	RipLevelMin 1
	+NOGRAVITY
	+FLOAT
	SeeSound "scrag/sight"
	PainSound "scrag/pain"
	DeathSound "scrag/death"
	ActiveSound "scrag/idle"
	Obituary "%o was scragged by a scrag"

	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 128
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 	
	
	Spawn:
		Q36I A 10 A_Look
		Loop
	See:
		Q36W AABBCCDDEEFF 3 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait

	Missile:
		TNT1 A 0 A_PlaySound("scrag/attack",6)
		Q36A B 8 A_FaceTarget
		TNT1 A 0 A_CustomMissile("ScragBall",28,-8,0)
		Q36A CC 6 A_FaceTarget
		TNT1 A 0 A_CustomMissile("ScragBall",28,8,0)
		Q36A C 8 A_FaceTarget
		Q36A DC 6 A_FaceTarget
		Goto See
	Pain:
		Q36P A 4 
		Q36P A 4 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q36D A 4 A_Scream
		Q36D B 4 A_Fall
		Q36D CDEF 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q36D G -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("ScragHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		Stop
	Raise:
		Q36D GFEDCBA 5
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}
Actor ScragHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.33
	BounceFactor 0.4
	-NOLIFTDROP
	+THRUACTORS
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A J 4 A_Gravity
		Q99A J 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A J -1 A_Gravity
		Stop
	}
}

Actor ScragBall
{
	Radius 12
	Height 8
	Speed 14
	Damage 7
	scale 0.4
	DeathSound "scrag/ballhit"
	DamageType "AEPoison"
	Translation "0:255=%[0,0,0]:[0.74,0.88,0.2]"
	RenderStyle Add
	PROJECTILE
	+MISSILE
	states
	{
	Spawn:
		TNT1 A 0
		ANFB A 0 Bright A_SpawnItemEx("KBT",-3,0,0,0,1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB A 2 Bright A_SpawnItemEx("KBT",-3,0,0,0,-1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB B 0 Bright A_SpawnItemEx("KBT",-3,0,0,0,1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB B 2 Bright A_SpawnItemEx("KBT",-3,0,0,0,-1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB C 0 Bright A_SpawnItemEx("KBT",-3,0,0,0,1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB C 2 Bright A_SpawnItemEx("KBT",-3,0,0,0,-1.5,frandom(0.5,-0.5),0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		loop
	Death:
		TNT1 AAAAAAAAA 0 A_SpawnItemEx("KBT2",0,0,0,frandom(0.5,2),0,frandom(2,-2),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		ANFB DEFG 3 Bright
		stop
    }
}


//================================================================
//================================================================
ACTOR FOgre 7139	// hell knight
{ 
	DropItem "AEoDGrenadeLauncherItem" 32
	DropItem "AEGrenadeBox"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
	Health 600
	Radius 20
	Height 56 
	Speed 14
	PainChance 30
	Mass 1000
	Scale 0.45
	MeleeRange 70
	Monster	+DONTCORPSE	RipLevelMin 1 
	SeeSound "ogre/sight" 
	PainSound "ogre/pain" 
	DeathSound "ogre/death" 
	ActiveSound "ogre/idle" 
	MeleeSound ""
	+BOSS
	+FLOORCLIP
	Obituary "%o was exploded by an ogre" 
	HitObituary "%o was cut in half by and Ogre" 
	
	PainChance "Charm", 192
	PainChance "Terror", 192
	PainChance "Defile", 255
	PainChance "Drain", 110
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 	
	
	Spawn:
		Q35I A 10 A_Look
		Loop
	See:
		Q35W ABCDEF 4 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	PostMelee:
		TNT1 A 0 A_ChangeFlag("NODROPOFF",0)
		Q35W AB 4 A_Chase("","")
		Goto See+2
	Melee:
		TNT1 a 0 A_ChangeFlag("NODROPOFF",1)
		Q33C A 0 A_Jump(256,"Melee1","Melee2")
	Melee1:
		TNT1 A 0 A_Recoil(-1.4)
		Q35A A 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)		TNT1 A 0 A_PlaySound("ogre/melee")
		Q35A B 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)		TNT1 A 0 A_FaceTarget
		Q35A CCCCC 1 A_CustomMeleeAttack(random(1,8))			TNT1 A 0 A_Recoil(-1.4)
		Q35A D 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)
		Q35A E 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)		TNT1 A 0 A_FaceTarget
		Q35A FFFFF 1 A_CustomMeleeAttack(random(1,8))			TNT1 A 0 A_Recoil(-1.4)
		Q35A G 5 A_FaceTarget
		Goto PostMelee
	Melee2:
		Q35B A 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)		TNT1 A 0 A_PlaySound("ogre/melee")
		Q35B B 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)
		Q35B C 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)
		Q35B DDDDD 1 A_CustomMeleeAttack(random(1,8))			TNT1 A 0 A_Recoil(-1.4)
		Q35B EEEEE 1 A_CustomMeleeAttack(random(1,8))
		Goto PostMelee
	Missile:
		Q35C AAA 5 A_FaceTarget
		Q35C B 5 A_CustomMissile("OgreGrenade",35,-5,0)
		Q35C C 5
		Goto See
	Pain:
		Q35P A 3 A_ChangeFlag("NODROPOFF",0)
		Q35P A 3 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q35D A 4 A_Scream
		Q35D B 4 A_Fall
		Q35D CDEF 4
		Q35D G 4 A_PlaySound("quake4/Misc/Body/Small")
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q35D H -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("OgreHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		Stop
	Raise:
		Q35D HGFEDCBA 5
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}

Actor OgreHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.3
	BounceFactor 0.4
	-NOLIFTDROP
	+THRUACTORS
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A G 4 A_Gravity
		Q99A G 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A G -1 A_Gravity
		Stop
	}
}

actor OgreGrenade
{
    Radius 8
    Height 8
    Speed 15
    Scale 0.65
    Gravity 0.7	
    Damage 2
    PROJECTILE
    -NOGRAVITY
    +DOOMBOUNCE
    +GRENADETRAIL
    +CANBOUNCEWATER 
    SeeSound "weapons/grenadebounce"
    DeathSound "weapons/rocklx"
    States
    {
    Spawn:
	TNT1 A 0 
	TNT1 A 0 ThrustThingZ(0,20,0,0)
        QGRP KJIHGFEDCBA 5 Bright
        Goto Spawn+2
    Death:
	  TNT1 A 0 A_SpawnItemEx("MonExplosionMedium",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
        TNT1 A 3 Bright A_Explode(40,64,1)
        Stop
    }
}


//================================================================
//================================================================
ACTOR FVore  7140		// mancubus
{ 
	DropItem "Mana2Ammo"
	DropItem "DarkMana"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
	Health 750
	Radius 20 
	Height 56 
	Speed 8
	PainChance 30
	Mass 1000
	Scale 0.45
	MeleeDamage 3
	Monster	+DONTCORPSE	RipLevelMin 1
	REACTIONTIME 16 
	+BOSS
	+BOSSDEATH
	+FLOORCLIP
	Obituary "%o was exploded by a Vore" 
	SeeSound "vore/sight" 
	PainSound "vore/pain" 
	DeathSound "vore/death" 
	ActiveSound "vore/idle" 
	
	PainChance "Charm", 192
	PainChance "Terror", 192
	PainChance "Defile", 255
	PainChance "Drain", 96
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q39I A 10 A_Look
		Loop
	See:
		Q39W ABCDEF 5 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		Q39A ABCD 4 A_FaceTarget
		Q39A E 5 A_CustomMissile("VoreBall",35,0,0)
		Q39A F 6
		Goto See
	Pain:
		Q39P A 3
		Q39P A 3 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q39D A 4 A_Scream
		Q39D B 4 A_Fall
		Q39D C 4
		TNT1 A 0 A_PlaySound("quake4/Misc/Body/Beefy")
		Q39D DEF 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q39D G -1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		XTRA C 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("VoreHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION)
		TNT1 A 1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Raise:
		Q39D GFEDCBA 5
		Goto See
	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+7
	}
}
Actor VoreHead
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	Speed 7
	Scale 0.31
	BounceFactor 0.4
	-NOLIFTDROP
	+THRUACTORS
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	States
	{
	Spawn:
		Q99A H 4 A_Gravity
		Q99A H 0 A_CustomMissile("GibBloodTrailMediumSize",0,0,0,0)
		Loop
	Death:
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q99A H -1 A_Gravity
		Stop
	}
}

actor VoreBall
{
    Radius 8
    Height 6
    Speed 7
    Damage 10
    +SEEKERMISSILE
    PROJECTILE
    SeeSound "vore/attack"
    DeathSound "q2weapon/rocketexplo"
	DamageType "AEMagic"
    scale 0.67
    States
    {
    Spawn:
        VORS A 3 Bright A_SeekerMissile(5,90)
        VORS A 0 Bright A_CustomMissile("VBTrail",0,0,0)
        VORS B 3 Bright A_SeekerMissile(5,90)
        VORS A 0 Bright A_CustomMissile("VBTrail",0,0,0)
        VORS C 3 Bright A_SeekerMissile(5,90)
        VORS A 0 Bright A_CustomMissile("VBTrail",0,0,0)
        VORS D 3 Bright A_SeekerMissile(5,90)
        VORS A 0 Bright A_CustomMissile("VBTrail",0,0,0)
        Loop
    Death:
	  //TNT1 A 0 A_SpawnItemEx("MonExplosionMediumConcentrated",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	  TNT1 AAAAAAAAAAAAAAAA 0 A_SpawnItemEx("VoreSmoke",0,0,0,frandom(0.1,1.1),0,frandom(-1.1,1.1),random(0,359),SXF_NOCHECKPOSITION)
        TNT1 A 3 Bright A_Explode(64,64,1)
        Stop
    }
}

Actor VoreSmoke
{
	+NOINTERACTION
	Scale 0.4
	RenderStyle Add
	Translation "0:255=%[0,0,0]:[0.6,0.2,1.0]"
	States
	{
	Spawn:
		TNT1 a 0
		TNT1 A 0 A_Jump(256,2,3,4,5,6,7,8,9,10)
		X101 ABCDEFGHIJKLMNOP 2 Bright A_FadeOut(0.02)
		TNT1 A 0 A_ScaleVelocity(0.7)
		Goto Spawn+2
	}
}



Actor VBTrail
{
    Speed 0
    Projectile
    Scale 0.9
    RenderStyle Add
    Alpha 0.6
    States
    {
    Spawn:
	TNT1 A 0 
	TNT1 A 0 A_SpawnItemEx("VoreSmoke2",0,0,0,0,0,frandom(0.1,0.6),0,SXF_NOCHECKPOSITION)
	VORS EEEFFFGGGHHH 1 Bright A_FadeOut(0.05)
	Stop
    }
}

Actor VoreSmoke2 : VoreSmoke
{
	Scale 0.15
}

//================================================================
//================================================================

actor FQuakeMummy 7141		// arachnotron
{
	DropItem "Mana2Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 450
    Radius 18
    Height 56
    PainChance 40
    Mass 500
    Speed 2
    Monster	+DONTCORPSE	RipLevelMin 1 
    SeeSound "qzombie/idle"
    PainSound "qzombie/pain"
    DeathSound "qzombie/pain"
    ActiveSound "qzombie/idle"
    Scale 0.32
    +FLOORCLIP
    +DONTMORPH
    +NOINFIGHTING
//    +NOICEDEATH
    Obituary "%o joins the mummies"
    Species "Pestilence"
    DamageFactor "Pestilence", 0
    DamageFactor "Poison", 0
    PainChance "Pestilence", 0
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 96
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Undead
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "Holy", 2.0
	DamageFactor "Unholy", 0.5
	DamageFactor "UnholyDisint", 0.5
	DamageFactor "AEMagic", 1.5
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto See
	
    Spawn:
	QMUS A 2 A_Look
	QMUS A 0 HealThing(2)
	QMUS A 2 A_Look
	QMUS A 0 HealThing(2)
	Loop
    See:
	QMUW A 2 A_Chase
	QMUW A 0 HealThing(2)
	QMUW A 2 A_Chase
	QMUW A 0 HealThing(2)
	QMUW A 2 A_Chase
	QMUW A 0 HealThing(2)
	QMUW A 2 A_Chase
	QMUW A 0 HealThing(2)
	QMUW B 2 A_Chase
	QMUW B 0 HealThing(2)
	QMUW B 2 A_Chase
	QMUW B 0 HealThing(2)
	QMUW B 2 A_Chase
	QMUW B 0 HealThing(2)
	QMUW B 2 A_Chase
	QMUW B 0 HealThing(2)
	QMUW C 2 A_Chase
	QMUW C 0 HealThing(2)
	QMUW C 2 A_Chase
	QMUW C 0 HealThing(2)
	QMUW C 2 A_Chase
	QMUW C 0 HealThing(2)
	QMUW C 2 A_Chase
	QMUW C 0 HealThing(2)
	QMUW D 2 A_Chase
	QMUW D 0 HealThing(2)
	QMUW D 2 A_Chase
	QMUW D 0 HealThing(2)
	QMUW D 2 A_Chase
	QMUW D 0 HealThing(2)
	QMUW D 2 A_Chase
	QMUW D 0 HealThing(1)
	QMUW E 2 A_Chase
	QMUW E 0 HealThing(2)
	QMUW E 2 A_Chase
	QMUW E 0 HealThing(2)
	QMUW E 2 A_Chase
	QMUW E 0 HealThing(2)
	QMUW E 2 A_Chase
	QMUW E 0 HealThing(2)
	QMUW F 2 A_Chase
	QMUW F 0 HealThing(2)
	QMUW F 2 A_Chase
	QMUW F 0 HealThing(2)
	QMUW F 2 A_Chase
	QMUW F 0 HealThing(2)
	QMUW F 2 A_Chase
	QMUW F 0 HealThing(2)
	QMUW G 2 A_Chase
	QMUW G 0 HealThing(2)
	QMUW G 2 A_Chase
	QMUW G 0 HealThing(2)
	QMUW G 2 A_Chase
	QMUW G 0 HealThing(2)
	QMUW G 2 A_Chase
	QMUW G 0 HealThing(2)
	QMUW H 2 A_Chase
	QMUW H 0 HealThing(2)
	QMUW H 2 A_Chase
	QMUW H 0 HealThing(2)
	QMUW H 2 A_Chase
	QMUW H 0 HealThing(2)
	QMUW H 2 A_Chase
	QMUW H 0 HealThing(2)
	QMUW I 2 A_Chase
	QMUW I 0 HealThing(2)
	QMUW I 2 A_Chase
	QMUW I 0 HealThing(2)
	QMUW I 2 A_Chase
	QMUW I 0 HealThing(2)
	QMUW I 2 A_Chase
	QMUW I 0 HealThing(2)
	Loop

    Missile:
	QMUA A 2 A_FaceTarget
	QMUA A 0 HealThing(2)
	QMUA A 2 A_FaceTarget
	QMUA A 0 HealThing(2)
	QMUA A 2 A_FaceTarget
	QMUA A 0 HealThing(2)
	QMUA A 2 A_FaceTarget
	QMUA A 0 HealThing(2)
	QMUA B 2 A_FaceTarget
	QMUA B 0 HealThing(2)
	QMUA B 2 A_FaceTarget
	QMUA B 0 HealThing(2)
	QMUA C 2 A_FaceTarget
	QMUA C 0 HealThing(2)
	QMUA C 2 A_FaceTarget
	QMUA C 0 HealThing(2)
	QMUA D 2 A_FaceTarget
	QMUA D 0 HealThing(2)
	QMUA D 2 A_FaceTarget
	QMUA D 0 HealThing(2)
	QMUA E 2 A_FaceTarget
	QMUA E 0 HealThing(2)
	QMUA E 2 A_FaceTarget
	QMUA E 0 HealThing(2)
	QMUA F 2 A_FaceTarget
	QMUA F 0 HealThing(2)
	QMUA F 2 A_FaceTarget
	QMUA F 0 HealThing(2)
	QMUA G 2 A_CustomMissile("MummyGib",32,0,0)
	QMUA G 2 HealThing(2)
	QMUA G 2 HealThing(2)
	Goto See
    Melee:
	QMUA A 2 A_FaceTarget
	QMUA A 0 HealThing(2)
	QMUA A 2 A_FaceTarget
	QMUA A 0 HealThing(2)
	QMUA A 2 A_FaceTarget
	QMUA A 0 HealThing(2)
	QMUA A 2 A_FaceTarget
	QMUA A 0 HealThing(2)
	QMUA B 2 A_FaceTarget
	QMUA B 0 HealThing(2)
	QMUA B 2 A_FaceTarget
	QMUA B 0 HealThing(2)
	QMUA C 2 A_FaceTarget
	QMUA C 0 HealThing(2)
	QMUA C 2 A_FaceTarget
	QMUA C 0 HealThing(2)
	QMUA D 2 A_FaceTarget
	QMUA D 0 HealThing(2)
	QMUA D 2 A_FaceTarget
	QMUA D 0 HealThing(2)
	QMUA E 2 A_FaceTarget
	QMUA E 0 HealThing(2)
	QMUA E 2 A_FaceTarget
	QMUA E 0 HealThing(2)
	QMUA F 2 A_FaceTarget
	QMUA F 0 HealThing(2)
	QMUA F 2 A_FaceTarget
	QMUA F 0 HealThing(2)
	QMUA G 2 A_CustomMissile("MummyGib2",32,0,0)
	QMUA G 2 HealThing(2)
	QMUA G 2 HealThing(2)
	Goto See
    Death:
	QMUF A 3
	QMUF B 3 A_Scream
	QMUF C 3 A_NoBlocking
	QMUF DEFGHI 3
	QMUF J 200 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"####" "#" 0 A_ChangeFlag("CORPSE",1)
	QMUF J -1 Thing_Raise(0)
	Stop
    XDeath:
	XTRA C 0 A_PlaySound("qzombie/gibdeath")
	TNT1 A 0 A_SpawnItemEx("MummyPoisonSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	EXPL A 0 A_SpawnItemEx("PoisonCloud",0,0,16,0,0,0,0,SXF_NOCHECKPOSITION,0)
	TNT1 AA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
	TNT1 AAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
	TNT1 A 0 A_CustomMissile("ZombieHead", 32, 0, random(0,360))
	TNT1 a 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	TNT1 A 1 A_Fall
	Stop
    Raise:
	TNT1 A 0 A_PlaySound("qzombie/idle")
	QMUF KLMNOPQRSTUVWX 3
	Goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	QMUW A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
	QMUW AA 2 A_FadeOut(0.03)
	Goto Disintegrate+7
	
	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
    }
}

actor MummyGib
{
    Radius 12
    Height 8
    Speed 22
    Damage 6
    PoisonDamage 30
    Scale 0.5
    Projectile
    MissileType Blood
    SeeSound "qzombie/shot"
    DeathSound "qzombie/fleshhit"
    -NOGRAVITY
    +LOWGRAVITY
    States
    {
    Spawn:
	TNT1 AA 0 ThrustThingZ(0,4,0,0)
	ZOMM B 3 A_SpawnItemEx("GibBloodSmall",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
	Goto Spawn+2
    Death:
	TNT1 A 5
	Stop
    }
}

actor MummyGib2
{
    Radius 12
    Height 8
    Speed 30
    Damage 6
    PoisonDamage 30
    Scale 0.5
    Projectile
    MissileType Blood
    SeeSound "qzombie/shot"
    DeathSound "qzombie/fleshhit"
    -NOGRAVITY
    +LOWGRAVITY
    States
    {
    Spawn:
	ZOMM B 4 A_SpawnItemEx("GibBloodSmall",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
	Loop
    Death:
	TNT1 A 5
	Stop
    }
}

ACTOR MummyPoisonSpawner
{
    Radius 0
    Height 0
    States
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("PoisonSpawnerCheck",100,3)
	TNT1 A 2 A_SpawnItemEx("GlyphPoison",random(-50,50),random(-50,50),random(5,15),0,0,0,random(1,360),SXF_NOCHECKPOSITION,0)
	TNT1 A 0 A_GiveInventory("PoisonSpawnerCheck",1)
	Loop
	TNT1 A 0
	Stop
    }
}

ACTOR PoisonSpawnerCheck : Inventory
{
    Inventory.Amount 1
    Inventory.MaxAmount 100
}

//================================================================
//================================================================

ACTOR DeathShroud 7412		// baron
{
	DropItem "Mana2Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 900
    Speed 12
    Radius 24
    Height 56
    PainChance 15
    Mass 400
    Scale 0.35
    Meleedamage 6
    REACTIONTIME 8
    Monster	RipLevelMin 1
    +NOGRAVITY
    +FLOAT
    +DONTFALL
    +BOSS
    +BOSSDEATH
    +DONTMORPH
    +NOFEAR
    +NOICEDEATH
    RenderStyle Translucent
    Alpha 0.25
    SeeSound "deathshroud/active"
    PainSound "deathshroud/pain"
    DeathSound "deathshroud/death"
    ActiveSound "deathshroud/active"
    Obituary "%o was terrified by a death shroud"
    DamageFactor "Wormwood", 0.2
    PainChance "Charm", 96
    PainChance "Terror", 96
    PainChance "Drain", 64
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Ethereal
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.75
	DamageFactor "AEBullet", 0.5
	DamageFactor "Holy", 0.75
	DamageFactor "Unholy", 1.5
	DamageFactor "UnholyDisint", 1.5
	DamageFactor "AEMagic", 1.5
	DamageFactor "Plasma", 1.5
	DamageFactor "PlasmaDisint", 1.5
    States
    {
	Pain.Charm:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
		Goto Pain
    Pain.Drain:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto Pain
    Spawn:
		DSHR A 3 A_Look
		Loop
    See:
		DSHR A 0 //A_UnSetShootable
		DSHR AABBCC 3 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,2)
		TNT1 A 0
		Loop
		TNT1 A 0 A_Jump(5,"Death")
		Loop
    Missile:
		DSHR A 0
		DSHR A 0 A_PlaySound("deathshroud/attack")
		DSHR A 0 A_Jump(170,"Mark1","Mark2")
		DSHR A 0 A_SetTranslucent(0.375)
		DSHR D 3 A_FaceTarget
		DSHR D 0 A_SetTranslucent(0.5)
		DSHR E 3 A_FaceTarget
		DSHR E 0 A_SetTranslucent(0.625)
		DSHR F 3 A_FaceTarget
		DSHR F 0 A_SetTranslucent(0.75)
		DSHR F 3 A_FaceTarget
		DSHR F 0 A_SetTranslucent(0.875)
		DSHR F 3 A_FaceTarget
		DSHR F 0 A_SetTranslucent(1.0)
		DSHR G 0 //A_SetShootable
		DSHR G 3 A_FaceTarget
		DSHR H 0 A_Jump(128,"Mark3")
		DSHR H 0 A_CustomMissile("DSSpell",40,0,-18)	// ScragBall
		DSHR H 2 A_CustomMissile("DSSkull",40,0,-18)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,-13.5)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,-13.5)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,-9)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,-9)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,-4.5)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,-4.5)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,0)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,0)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,4.5)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,4.5)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,9)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,9)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,13.5)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,13.5)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,18)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,18)
		DSHR H 10 
		DSHR H 3 //A_UnSetShootable
		DSHR H 3 A_SetTranslucent(0.875)
		DSHR H 3 A_SetTranslucent(0.75)
		DSHR H 3 A_SetTranslucent(0.625)
		DSHR H 3 A_SetTranslucent(0.5)
		DSHR H 3 A_SetTranslucent(0.375)
		DSHR H 3 A_SetTranslucent(0.25)
		Goto See
Mark3:
		DSHR H 0 A_CustomMissile("DSSpell",40,0,-18)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,-18)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,-13.5)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,-13.5)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,-9)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,-9)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,-4.5)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,-4.5)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,0)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,0)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,4.5)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,4.5)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,9)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,9)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,13.5)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,13.5)
		DSHR H 0 A_CustomMissile("DSSpell",40,0,18)
		DSHR H 2 A_CustomMissile("DSSkull",40,0,18)
		DSHR H 10 
		DSHR H 3 //A_UnSetShootable
		DSHR H 3 A_SetTranslucent(0.875)
		DSHR H 3 A_SetTranslucent(0.75)
		DSHR H 3 A_SetTranslucent(0.625)
		DSHR H 3 A_SetTranslucent(0.5)
		DSHR H 3 A_SetTranslucent(0.375)
		DSHR H 3 A_SetTranslucent(0.25)
		Goto See
	Mark1:
		DSHR A 0 A_SetTranslucent(0.375)
		DSHR I 3 A_FaceTarget
		DSHR I 0 A_SetTranslucent(0.5)
		DSHR J 3 A_FaceTarget
		DSHR J 0 A_SetTranslucent(0.625)
		DSHR K 3 A_FaceTarget
		DSHR K 0 A_SetTranslucent(0.75)
		DSHR K 3 A_FaceTarget
		DSHR K 0 A_SetTranslucent(0.875)
		DSHR K 3 A_FaceTarget
		DSHR K 0 A_SetTranslucent(1.0)
		DSHR L 0 A_SetShootable
		DSHR L 5 A_FaceTarget
		DSHR M 5 A_CustomMissile("DSSpell2",40,0,0)
		DSHR M 10 A_FaceTarget
		DSHR M 3 //A_UnSetShootable
		DSHR M 3 A_SetTranslucent(0.875)
		DSHR M 3 A_SetTranslucent(0.75)
		DSHR M 3 A_SetTranslucent(0.625)
		DSHR M 3 A_SetTranslucent(0.5)
		DSHR M 3 A_SetTranslucent(0.375)
		DSHR M 3 A_SetTranslucent(0.25)
		Goto See
	Mark2:
		DSHR A 0 A_SetTranslucent(0.375)
		DSHR N 3 A_FaceTarget
		DSHR N 0 A_SetTranslucent(0.5)
		DSHR O 3 A_FaceTarget
		DSHR O 0 A_SetTranslucent(0.625)
		DSHR O 3 A_FaceTarget
		DSHR O 0 A_SetTranslucent(0.75)
		DSHR O 3 A_FaceTarget
		DSHR O 0 A_SetTranslucent(0.875)
		DSHR P 3 A_FaceTarget
		DSHR P 0 A_SetTranslucent(1.0)
		DSHR Q 0 A_SetShootable
		DSHR Q 2 A_FaceTarget
		DSHR R 2 A_CustomMissile("SkullWizardSpell",40,0,random(-3,3))
		DSHR R 2 A_FaceTarget
		DSHR R 2 A_CustomMissile("SkullWizardSpell",40,0,random(-3,3))
		DSHR R 2 A_FaceTarget
		DSHR R 2 A_CustomMissile("SkullWizardSpell",40,0,random(-3,3))
		DSHR R 2 A_FaceTarget
		DSHR R 2 A_CustomMissile("SkullWizardSpell",40,0,random(-3,3))
		DSHR R 2 A_FaceTarget
		DSHR R 2 A_CustomMissile("SkullWizardSpell",40,0,random(-3,3))
		DSHR R 10 A_FaceTarget
		DSHR R 2 //A_UnSetShootable
		DSHR R 3 A_SetTranslucent(0.875)
		DSHR R 3 A_SetTranslucent(0.75)
		DSHR R 3 A_SetTranslucent(0.625)
		DSHR R 3 A_SetTranslucent(0.5)
		DSHR R 3 A_SetTranslucent(0.375)
		DSHR R 3 A_SetTranslucent(0.25)
		Goto See
    Pain:
		DSHR S 0 A_SetTranslucent(1.0)
		DSHR S 4 A_Pain
		DSHR S 0 //A_UnSetShootable
		DSHR T 2 A_SetTranslucent(0.875)
		DSHR T 2 A_SetTranslucent(0.75)
		DSHR U 2 A_SetTranslucent(0.625)
		DSHR U 2 A_SetTranslucent(0.5)
		DSHR V 2 A_SetTranslucent(0.375)
		DSHR V 2 A_SetTranslucent(0.25)
		Goto See
    Death:
		DSHR A 0 A_SetTranslucent(1.0)
		DSH2 ABCDEFGHIJ 3
		DSH2 K 6
		DSH2 K 0 A_PlaySound("q2weapon/rocketexplo")
		DSH2 K 0 A_Explode(40,64)
		TNT1 A 0 A_SpawnItemEx("Q2SeekerRocketExploAlt",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 AA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		TNT1 A 1 A_Fall
		Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		TNT1 A 0 A_SetTranslucent(1.0,0)
		TNT1 A 0 Thing_SetTranslation(0,50)	
		TNT1 a 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		DSHR A 1 A_FadeOut(0.015)
		TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
		TNT1 a 0 A_Stop	
		TNT1 a 0 A_Fall
		TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		DSHR AA 2 A_FadeOut(0.03)
		Goto Disintegrate+8

	Ice:	//has the flag to prevent it, but anyway -dbt
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
    }
}

ACTOR DSSpell
{
    Height 8
    Radius 8
    Speed 17
    Damage 8
    RenderStyle Add
    Alpha 0.6
    Scale 0.5
    PROJECTILE
    +DONTREFLECT
    SeeSound "diablo2/necromancercast/bonespear"
    Translation "80:111=176:191","4:4=176:176","168:168=176:176","208:208=176:176","224:224=176:176","3:3=188:188"
    DeathSound "greatwraith/death"
	DamageType "Unholy"
    States
    {
    Spawn:
	TSFX A 1 A_CustomMissile("DSSpellTrail",0+random(10,-10),0+random(10,-10),random(15,-15),0)
	TSFX A 0 A_CustomMissile("DSSpellTrail",0+random(10,-10),0+random(10,-10),random(15,-15),0)
	Loop
    Death:
    	SRBA E 0 A_Scream
	SRBA E 0 A_Explode(15,80,0)
	SRBA EFGHIJ 2 Bright A_FadeOut
	Wait
    }
}

ACTOR DSSkull
{
    Height 8
    Radius 8
    Speed 17
    Damage 0
    PROJECTILE
    +DONTREFLECT
    Scale 0.15
    RenderStyle Add
    States
    {
    Spawn:
	TSSH ABCDE 3 Bright
	Loop
    Death:
	TNT1 A 0
	Stop
    }
}

ACTOR DSSpellTrail
{
    Mass 1
    Radius 8
    Height 6
    Speed 3
    Scale 0.4
    Damage 0
    RenderStyle Add
    Alpha 0.25
    Translation "112:127=176:191", "224:231=176:178", "208:215=176:178", "160:166=177:187"
    PROJECTILE
    States
    {
    Spawn:
        CFIR ABCDEFGHIJKLMOP 2 Bright 
        Stop
    }
}

ACTOR DSSpell2
{
    Speed 14
    Damage 7
    Scale 0.35
    Radius 6
    Height 12
    RenderStyle Add
    Alpha 0.75
    PROJECTILE
    +SEEKERMISSILE
    SeeSound "whiteballbsee"
    DeathSound "whiteballbdeth"
	DamageType "Unholy"
    states
    {
    Spawn:
	PSMM A 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	PSMM A 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	PSMM B 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	PSMM B 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	PSMM C 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	PSMM C 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	PSMM D 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	PSMM E 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	PSMM F 2 Bright A_SeekerMissile(25,10)
	TNT1 A 0 A_CustomMissile("SLM2Trail",0,0,0)
	Goto Spawn+12
    Death:
	PSMM GGHHIIJJKKLLMM 2 Bright A_FadeOut(0.05)
	Stop
    }
}











//===========================================================================
//===========================================================================

// Quake monsters variations :D

//===========================================================================
//===========================================================================

actor QUndeadDog	 	// demon
{
	DropItem "PowerslaveSpawner" 64
	DropItem "PowerupSpawner" 4
	Translation "0:255=%[0.0,0.0,0.0]:[0.9,0.9,1.0]", "32:47=32:47", "176:191=176:191"
	Health 150
	Radius 18
	Height 40
	Speed 19
	PainChance 200
	Mass 200
	Monster	+DONTCORPSE	RipLevelMin 1 
	+FLOORCLIP
	SeeSound "diablo2/bighead/sight"
	PainSound "diablo2/bighead/pain"
	DeathSound "diablo2/bighead/death"
	ActiveSound "diablo2/bighead/idle"
	MeleeSound "diablo2/bighead/attack"
	Scale 0.39
	HitObituary "%o was mauled by a rottweiler."
	Damage 7
	MeleeDamage 6
	MaxTargetRange 256
	MeleeRange 70
	
	PainChance "Charm", 0	//also resurrecting issues
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 153
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q29I A 10 A_Look
		Loop
	See:
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)		//just in case
		Q29W AABBCCDDEEFFGGHH 2 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait 
	SeeNoMissile:
		Q29W AABBCCDDEEFFGGHH 2 A_Chase("Melee","")
		Goto See
	Melee:
		TNT1 A 0 A_PlaySound("diablo2/bighead/attack",6)
		Q29A AB 3 A_FaceTarget
		Q29A C 4 A_CustomMeleeAttack(random(5,20))
		Q29A DE 4 
		Goto See
	Missile:
		TNT1 A 0 A_PlaySound("diablo2/bighead/attack",6)
		Q29B A 0 A_ChangeFlag("NOPAIN",1)
		Q29B AB 3 A_FaceTarget
		Q29B A 0 A_Recoil(-20)
		Q29B B 1 ThrustThingZ(0,26,0,0)
	LeapLoop:
		Q29B C 0 A_CheckFloor("LeapEnd")
		Q29B C 1 A_JumpIfCloser(70,"LeapMelee")
		Loop
	LeapEnd:
		Q29B A 0 A_PlaySound("fiend/land")
		Q29B A 0 A_ChangeFlag("NOPAIN",0)
		Q29B DE 3 
		Q29B F 3 A_Stop
		Goto SeeNoMissile  
	LeapMelee:
		Q29B C 0 A_MeleeAttack
		Q29B C 1 A_CheckFloor("LeapEnd")
		Wait
	Pain:
		Q29P A 8 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q29D A 0 A_Scream
		Q29D A 0 A_Fall
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q29D ABCE 4
		"----" A 0 A_PlaySound("quake4/Misc/Body/small")
		Q29D FG 4
		
		"----" A 0 A_jump(200,2,3,4)
		Q29D HHHHHHHHH 100
		"####" "#" 0 A_Jump(32,2)
		"####" "#" 0 Thing_Raise(0)
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q29D H -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 AA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("DogHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 1 A_fall
		Stop
	Raise:
		Q29D HGFECBA 4
		Goto See
	Death.ZombieGibber:
		TNT1 A 0 A_Jump(256,"XDeath")
		Goto XDeath
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowSmallMedium",0,0,18,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksSmallMedium",0,0,18,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}



//================================================================
//================================================================

//================================================================
//================================================================

ACTOR SilverKnight	// revenant
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 8
	Translation "0:255=%[0.0,0.0,0.0]:[1.48,1.48,1.48]", "32:47=32:47", "176:191=176:191"
	Health 350
	Radius 20 
	Height 56 
	Speed 11
	PainChance 30
	Mass 1000
	Scale 0.36
	MeleeDamage 4
	Monster	+DONTCORPSE	RipLevelMin 1 
	+BOSS
	+BOSSDEATH
	+FLOORCLIP
	SeeSound "hr2/plagueelf/sight/idle"
	PainSound "hr2/plagueelf/sight/pain"
	DeathSound "hr2/plagueelf/sight/death"
	ActiveSound "hr2/plagueelf/sight/idle"
	Obituary "%o was cleansed by a silver knight." 
	HitObituary "%o was sliced by a silver knight." 
	
	PainChance "Charm", 192
	PainChance "Terror", 192
	PainChance "Defile", 255
	PainChance "Drain", 110
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q33I A 0
		Q33I A 0 A_Stop
		Q33I A 10 A_Look
		Wait
	See:
		TNT1 a 0 A_ChangeFlag("NODROPOFF",0)
		Q33W AABBCCDDEEFF 2 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		TNT1 A 0 A_Jump(128,"Missile2")
		Q33A ABC 4 A_FaceTarget
		Q33A C 4 A_Custommissile ("SilverKnightBall", 36, 0, 0) 
		Q33A C 0 A_Custommissile ("SilverKnightBall", 36, 0, 15) 
		Q33A C 4 A_Custommissile ("SilverKnightBall", 36, 0, -15) 
		Q33A C 0 A_Custommissile ("SilverKnightBall", 36, 0, 30) 
		Q33A C 4 A_Custommissile ("SilverKnightBall", 36, 0, -30) 
		Q33A C 0 A_Custommissile ("SilverKnightBall", 36, 0, 45) 
		Q33A C 4 A_Custommissile ("SilverKnightBall", 36, 0, -45) 
		Q33A C 0 A_Custommissile ("SilverKnightBall", 36, 0, 60) 
		Q33A C 4 A_Custommissile ("SilverKnightBall", 36, 0, -60) 
		Q33A DE 4
		Goto See
	Missile2:
		Q33A ABC 4 A_FaceTarget
		TNT1 A 0 A_PlaySound("diablo2/sorceresscast/icespike") 
		Q33A DDDDDDD 4 A_CustomRailgun(random(1,8),0,"none",LightGray,RGF_FULLBRIGHT|RGF_SILENT,0,0,"Nothing", 0,0,0, 10,1.0,1.0)
		Q33A DE 4
		Goto See
	Melee:
		TNT1 a 0 A_ChangeFlag("NODROPOFF",1)
		Q33C A 0 A_Jump(256,"Melee1","Melee2")
	Melee1:
		Q33C A 5 A_FaceTarget	TNT1 A 0 A_Recoil(-1.8)
		Q33C B 5 A_FaceTarget	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_PlaySound("deathknight/swing")
		Q33C C 5 A_FaceTarget	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget	
		Q33C D 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget	
		Q33C E 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		TNT1 A 0 A_FaceTarget	TNT1 A 0 A_PlaySound("deathknight/swing")
		Q33C F 5 A_FaceTarget	TNT1 A 0 A_Recoil(-1.8)
		Q33C G 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		Q33C H 5 A_Recoil(-1.8)
		Goto See
	Melee2:
		Q33B A 5 A_FaceTarget	TNT1 A 0 A_Recoil(-1.8)
		Q33B B 5 A_FaceTarget	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget	TNT1 A 0 A_PlaySound("deathknight/swing")
		Q33B C 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget
		Q33B D 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-2)
		TNT1 A 0 A_FaceTarget
		Q33B E 5 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		Q33B F 6 A_FaceTarget
		Goto See
	Pain:
		Q33P A 4
		Q33P A 4 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q33D A 4 A_Scream
		Q33D B 4 A_Fall
		Q33D CDEFGH 4
		Q33D I 0 A_PlaySound("quake4/Misc/Body/Small")
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q33D I -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("DeathKnightHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Raise:
		Q33D IHGFEDCBA 5
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}

Actor SilverKnightBall
{
	Projectile
	Speed 13
	Damage 2
	Radius 8
	Height 12
	RenderStyle Add
//	Alpha 0.7
	Scale 0.45
	+SeekerMissile
	DeathSound "weapons/hornrodhit"
	Translation "0:255=%[0.5,0.5,0.5]:[1.5,1.5,1.5]"
	States
	{
	Spawn:
		FX00 C 0
		FX00 C 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 C 1 Bright //A_SeekerMissile(8,8)
		FX00 C 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 C 1 Bright
		FX00 C 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 C 1 Bright A_SeekerMissile(8,8)
		FX00 D 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 D 1 Bright
		FX00 D 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 D 1 Bright A_SeekerMissile(8,8)
		FX00 D 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 D 1 Bright
		FX00 E 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 E 1 Bright A_SeekerMissile(8,8)
		FX00 E 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 E 1 Bright
		FX00 E 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 E 1 Bright A_SeekerMissile(8,8)
		FX00 F 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 F 1 Bright
		FX00 F 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 F 1 Bright A_SeekerMissile(8,8)
		FX00 F 0 A_SpawnItemEx("SilvKniBall1Trail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		FX00 F 1 Bright
		Loop
	Death:
		FX00 IJKLM 3 Bright 
		Stop
	}
}


Actor SilvKniBall1Trail
{
	+NOINTERACTION
	Translation "0:255=%[0.5,0.5,0.5]:[1.5,1.5,1.5]"
	RenderStyle Add
	Scale 0.25
	Alpha 0.6
	States
	{
	Spawn:
		FX00 AB 3 Bright A_FadeOut
		Stop
	}
}
	


//================================================================
//================================================================

//================================================================
//================================================================
Actor LaserEnforcer		//fatso
{
	DropItem "CellBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
	DropItem "AEoDPrismaCannonItem" 32
	Translation "0:255=%[0.0,0.0,0.0]:[0.7,0.7,0.7]", "32:47=32:47", "176:191=176:191"
	Health 600
	Radius 20 
	Height 56 
	Mass 250 
	Speed 13
	PainChance 64
	Monster	+DONTCORPSE	RipLevelMin 1 
	Scale 0.37
	+FLOORCLIP 
	+MISSILEEVENMORE
	+BOSSDEATH
	SeeSound "enforcer/sight" 
	PainSound "enforcer/pain" 
	DeathSound "enforcer/death" 
	ActiveSound "enforcer/idle" 
	Obituary "%o was blasted by an enforcer."	
	
	PainChance "Charm", 192
	PainChance "Terror", 192
	PainChance "Defile", 255
	PainChance "Drain", 96
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q30I A 10 A_Look
		Loop
	See:
		Q30W ABCDEF 4 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		TNT1 A 0 A_JumpIfCloser(380,"Hitscan")
		Goto "Projectile"
	Hitscan:
		Q30A AABBB 5 A_FaceTarget
		TNT1 A 0 A_PlaySound("Nutcracker/Laser")
		Q30A A 0 A_FaceTarget(0,0)
		"----" AA 0 A_CustomMissile("BulletTracerFX",20,0,random(-8,8),CMF_OFFSETPITCH,random(-7,7))
		Q30A B 1 A_CustomBulletAttack(8, 7, 2, 2, "LaserPuff2")
		TNT1 A 0 A_PlaySound("Nutcracker/Laser")
		Q30A A 0 A_FaceTarget(0,0)
		"----" AA 0 A_CustomMissile("BulletTracerFX",20,0,random(-8,8),CMF_OFFSETPITCH,random(-7,7))
		Q30A B 1 A_CustomBulletAttack(8, 7, 2, 2, "LaserPuff2")
		TNT1 A 0 A_PlaySound("Nutcracker/Laser")
		Q30A A 0 A_FaceTarget(0,0)
		"----" AA 0 A_CustomMissile("BulletTracerFX",20,0,random(-8,8),CMF_OFFSETPITCH,random(-7,7))
		Q30A B 1 A_CustomBulletAttack(8, 7, 2, 2, "LaserPuff2")
		TNT1 A 0 A_PlaySound("Nutcracker/Laser")
		Q30A A 0 A_FaceTarget(0,0)
		"----" AA 0 A_CustomMissile("BulletTracerFX",20,0,random(-8,8),CMF_OFFSETPITCH,random(-7,7))
		Q30A B 1 A_CustomBulletAttack(8, 7, 2, 2, "LaserPuff2")
		TNT1 A 0 A_PlaySound("Nutcracker/Laser")
		Q30A A 0 A_FaceTarget(0,0)
		"----" AA 0 A_CustomMissile("BulletTracerFX",20,0,random(-8,8),CMF_OFFSETPITCH,random(-7,7))
		Q30A B 1 A_CustomBulletAttack(8, 7, 2, 2, "LaserPuff2")
		TNT1 A 0 A_PlaySound("Nutcracker/Laser")
		Q30A A 0 A_FaceTarget(0,0)
		"----" AA 0 A_CustomMissile("BulletTracerFX",20,0,random(-8,8),CMF_OFFSETPITCH,random(-7,7))
		Q30A B 1 A_CustomBulletAttack(8, 7, 2, 2, "LaserPuff2")
		Q30A B 0 A_SentinelRefire
		Goto Hitscan+5
	Projectile:
		Q30A AB 5 A_FaceTarget
		TNT1 a 0 A_PlaySound("weapons/prototypepistolattack2")
		TNT1 AA 0 A_CustomMissile("RazorShotMonster",37,6,random(6,-6))
		Q30A CD 7 A_FaceTarget
		Q30A B 5 A_FaceTarget
		TNT1 a 0 A_PlaySound("weapons/prototypepistolattack2")
		TNT1 AA 0 A_CustomMissile("RazorShotMonster",37,6,random(6,-6))
		Q30A CD 7 A_FaceTarget
		TNT1 A 0 A_SentinelRefire
		Loop
	Pain:
		Q30P A 8 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q30D A 4 A_Scream
		Q30D B 4 A_Fall
		Q30D CDEFG 4
		Q30D H 4 A_PlaySound("quake4/Misc/Body/Small")
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q30D I -1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("EnforcerHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Raise:
		Q30D HGFEDCBA 4
		Goto See
	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+7
	}
}

Actor RazorShotMonster : RazorShot1
{
	Damage 2
}



//================================================================
//================================================================

//================================================================
//================================================================

Actor NailgunGrunt 		//chainguy
{
	DropItem "AEoDNailGunItem" 32
	DropItem "BulletAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerMonsterAmmo" 128
	DropItem "PowerupSpawner" 8
	Translation "0:255=%[0.0,0.0,0.0]:[0.3,0.35,0.3]", "32:47=32:47", "176:191=176:191"
	Health 80
	Radius 20 
	Height 56 
	Mass 100 
	Speed 13
	PainChance 200 
	Monster	+DONTCORPSE	RipLevelMin 1 
	Scale 0.4
	+FLOORCLIP 
	SeeSound "qgrunt/idle" 
	AttackSound "qweapons/shotgun"
	PainSound "qgrunt/pain" 
	DeathSound "qgrunt/death" 
	ActiveSound "qgrunt/idle" 
	Obituary "%o was Shot by a Grunt."
	
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q32I A 10 A_Look
		Loop
	See:
		Q32W ABCDEF 4 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		TNT1 A 0 A_Jump(128,"Missile2")
		Q32A AB 5 A_FaceTarget
		Q32A B 2 A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/nailshot", CHAN_WEAPON, 0.7, 0)
		Q32A C 1 BRIGHT A_CustomMissile("NailMonster",32,5,0)
		Q32A B 2 A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/nailshot", CHAN_WEAPON, 0.7, 0)
		Q32A C 1 BRIGHT A_CustomMissile("NailMonster",32,5,0)
		TNT1 A 0 A_SentinelRefire
		Goto Missile+3
	Missile2:
		Q32A A 5 A_FaceTarget
		Q32A B 1 A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/nailshot", CHAN_WEAPON, 0.7, 0)
		Q32A C 1 BRIGHT A_CustomMissile("NailMonster",32,5,0)
		Q32A B 1 A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/nailshot", CHAN_WEAPON, 0.7, 0)
		Q32A C 1 BRIGHT A_CustomMissile("NailMonster",32,5,0)
		Q32A B 1 A_FaceTarget
		TNT1 A 0 A_PlaySound("weapons/nailshot", CHAN_WEAPON, 0.7, 0)
		Q32A C 1 BRIGHT A_CustomMissile("NailMonster",32,5,0)
		Q32A B 10
		Q32A B 0 A_SentinelRefire
		Goto Missile2+1
	Pain:
		Q32P A 4
		Q32P A 4 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q32D A 4 A_Scream
		Q32D B 4 A_Fall
		Q32D C 4
		Q32D D 4 A_PlaySound("quake4/Misc/Body/Small")
		Q32D E 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q32D F -1
		Stop	
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("GruntHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	Raise:
		Q32D FEDCBA 5
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}



Actor NailMonster : Nail
{
	Damage (random(0,1))
}



//================================================================
//================================================================

//================================================================
//================================================================
Actor InfernoBee 	//pain elem
{
	DropItem "Mana2Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 8
	Translation "0:255=%[0.0,0.0,0.0]:[1.0,0.4,0.4]", "32:47=32:47", "176:191=176:191"
	Health 550
	Speed 12
	Radius 31
	Height 56
	PainChance 128
	Mass 1400
	Scale 0.5
	REACTIONTIME 8 
	Monster	+DONTCORPSE	RipLevelMin 1
	+NOGRAVITY
	+FLOAT
	SeeSound "diablo2/deathmauler/sight"
	PainSound "diablo2/deathmauler/pain"
	DeathSound "diablo2/deathmauler/death"
	ActiveSound "diablo2/deathmauler/idle"
	
	PainChance "Charm", 192
	PainChance "Terror", 192
	PainChance "Defile", 0
	PainChance "Drain", 128
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 128
	PainChance "ChaosExpl2", 128	
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q36I A 10 A_Look
		Loop
	See:
		Q36W AABBCCDDEEFF 3 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(10,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
	Missile:
		TNT1 A 0 A_Jump(128,"Missile2")
		TNT1 A 0 A_PlaySound("diablo2/deathmauler/attack")
		Q36A B 8 A_FaceTarget
		TNT1 A 0 A_CustomMissile("Scrag2Fireball1",28,-8,0)
		Q36A CC 4 A_FaceTarget
		TNT1 A 0 A_CustomMissile("Scrag2Fireball1",28,8,0)
		Q36A C 4 A_FaceTarget
		Q36A DC 6 A_FaceTarget
		Goto See
	Missile2:
		TNT1 A 0 A_PlaySound("diablo2/deathmauler/attack")
		Q36A B 8 A_FaceTarget
		TNT1 A 0 A_CustomMissile("Scrag2Fireball2",28,-8,0)
		Q36A CC 4 A_FaceTarget
		TNT1 A 0 A_CustomMissile("Scrag2Fireball2",28,8,0)
		Q36A C 4 A_FaceTarget
		Q36A DC 6 A_FaceTarget
		Goto See
	Pain:
		Q36P A 4 
		Q36P A 4 A_Pain
		Goto See
	Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		Q36D A 4 A_Scream
		Q36D B 4 A_Fall
		Q36D CDEF 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q36D G -1
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1		
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("ScragHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	Raise:
		Q36D GFEDCBA 5
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}

Actor Scrag2Fireball1
{
	Projectile
	Speed 20
	Radius 6
	Height 12
	Damage 12
	RenderStyle Add
	Scale 0.5
	SeeSound "DragonAttack"
	DeathSound "DragonFireballExplode"
	DamageType Fire
	States
	{
	Spawn:
		DRFX AABBCCDDEEFF 2 Bright A_SpawnItemEx("Scrag2FBTrail1",0,0,-5,0,0,0,0,SXF_NOCHECKPOSITION)
		Loop
	Death:
		TNT1 A 0 A_Explode(64,64)
		TNT1 AAAA 0 A_SpawnItemEx("Scrag2FBTrail1",random(5,-5),random(5,-5),random(5,-5),0,0,0,0,SXF_NOCHECKPOSITION)
		DRFX GHIJKL 3 Bright
		Stop
	}
}


Actor Scrag2FBTrail1
{
	+NOINTERACTION
	Scale 0.4
	RenderStyle Add
	States
	{
	Spawn:
		BRNR CDEFGH 2 Bright A_FadeOut(0.04)
		BRNR H 1 Bright A_FadeOut(0.04)
		Wait
	}
}
//********************************
Actor Scrag2Fireball2
{
	Projectile
	Speed 16
	Radius 6
	Height 12
	Damage 8
	RenderStyle Add
	Scale 0.5
	SeeSound "DragonAttack"
	DeathSound "DragonFireballExplode"
	DamageType Fire
	+SEEKERMISSILE
	Translation "192:197=215:223", "198:207=176:191"
	States
	{
	Spawn:
		ANFB A 0
		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB A 1 Bright A_SeekerMissile(5,5)
		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB A 1 Bright A_SeekerMissile(5,5)
		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB A 1 Bright A_SeekerMissile(5,5)

		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB B 1 Bright A_SeekerMissile(5,5)
		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB B 1 Bright A_SeekerMissile(5,5)
		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB B 1 Bright A_SeekerMissile(5,5)

		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB C 1 Bright A_SeekerMissile(5,5)
		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB C 1 Bright A_SeekerMissile(5,5)
		ANFB A 0 A_SpawnItemEx("Scrag2FB2Trail",random(2,-2),random(2,-2),random(2,-2),0,0,frandom(0.1,0.8),0,SXF_NOCHECKPOSITION)
		ANFB C 1 Bright A_SeekerMissile(5,5)
		Loop
	Death:
		TNT1 A 0 A_SpawnItemEx("Scrag2FB2Xplo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		TNT1 A 3
		Stop
	}
}


Actor Scrag2FB2Trail
{
	+NOINTERACTION
	Scale 0.3
	RenderStyle Add
	States
	{
	Spawn:
		BAL8 I 0
		BAL8 I 1 Bright A_FadeOut(0.03)
		Wait
	}
}
Actor Scrag2FB2Xplo
{
	+NOINTERACTION
	Scale 0.55
	RenderStyle Add
	States
	{
	Spawn:
		FX61 ABCDEF 3 Bright A_FadeOut(0.04)
		FX61 G 1 Bright A_FadeOut(0.1)
		Wait
	}
}

//================================================================
//================================================================

//================================================================
//================================================================
Actor FOgre2 	//baron
{
	DropItem "AEoDMissileLauncherItem" 32
	DropItem "ExploAmmo"
	DropItem "ExploAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
	Translation "0:255=%[0.0,0.0,0.0]:[0.7,0.7,0.7]", "32:47=32:47", "176:191=176:191"
	Health 1200
	Radius 20
	Height 56 
	Speed 14
	PainChance 30
	Mass 1000
	Scale 0.45
	MeleeDamage 3
	Monster	+DONTCORPSE	RipLevelMin 1 
	SeeSound "ogre/sight" 
	PainSound "ogre/pain" 
	DeathSound "ogre/death" 
	ActiveSound "ogre/idle" 
	MeleeSound ""
	+BOSSDEATH
	+BOSS
	+FLOORCLIP
	Obituary "%o was exploded by an ogre" 
	HitObituary "%o was cut in half by and Ogre" 
	
	PainChance "Charm", 96
	PainChance "Terror", 96
	PainChance "Drain", 64
	PainChance "Defile", 0
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 128
	PainChance "ChaosExpl2", 128
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q35I A 10 A_Look
		Loop
	See:
		Q35W ABCDEF 4 A_Chase
		Loop
	PostMelee:
		TNT1 A 0 A_ChangeFlag("NODROPOFF",0)
		Q35W AB 4 A_Chase("","")
		Goto See+2
	Melee:
		TNT1 a 0 A_ChangeFlag("NODROPOFF",1)
		Q33C A 0 A_Jump(256,"Melee1","Melee2")
	Melee1:
		TNT1 A 0 A_Recoil(-1.4)
		Q35A A 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)		TNT1 A 0 A_PlaySound("ogre/melee")
		Q35A B 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)		TNT1 A 0 A_FaceTarget
		Q35A CCCCC 1 A_CustomMeleeAttack(random(1,8))			TNT1 A 0 A_Recoil(-1.4)
		Q35A D 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)
		Q35A E 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)		TNT1 A 0 A_FaceTarget
		Q35A FFFFF 1 A_CustomMeleeAttack(random(1,8))			TNT1 A 0 A_Recoil(-1.4)
		Q35A G 5 A_FaceTarget
		Goto PostMelee
	Melee2:
		Q35B A 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)		TNT1 A 0 A_PlaySound("ogre/melee")
		Q35B B 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)
		Q35B C 5 A_FaceTarget		TNT1 A 0 A_Recoil(-1.4)
		Q35B DDDDD 1 A_CustomMeleeAttack(random(1,8))			TNT1 A 0 A_Recoil(-1.4)
		Q35B EEEEE 1 A_CustomMeleeAttack(random(1,8))
		Goto PostMelee
	Missile:
		TNT1 A 0 A_JumpIfCloser(256,"Grenade")
	MiniMissiles:
		Q35C AAA 5 A_FaceTarget
		TNT1 A 0 A_PlaySound("reilsss/weapons/minirocketlauncherfire", CHAN_WEAPON, 1.0, 0)
		Q35C B 5 A_CustomMissile("FMiniMissile",35,-5,0)
		Q35C C 5
		Q35C A 5 A_FaceTarget
		TNT1 A 0 A_PlaySound("reilsss/weapons/minirocketlauncherfire", CHAN_WEAPON, 1.0, 0)
		Q35C B 5 A_CustomMissile("FMiniMissile",35,-5,0)
		Q35C C 5
		TNT1 A 0 A_CPosRefire
		Goto MiniMissiles+2
	Grenade:
		TNT1 a 0 A_Jump(128,"MiniMissiles")	
		Q35C AAA 5 A_FaceTarget
		TNT1 A 0 A_PlaySound("reilsss/weapons/grenadelauncherfire", CHAN_WEAPON, 1.0, 0)
		Q35C B 5 A_CustomMissile("NapalmGrenadeMonster",35,-5,0)
		Q35C C 5
		Goto See
	Pain:
		Q35P A 3 A_ChangeFlag("NODROPOFF",0)
		Q35P A 3 A_Pain
		Goto See
	Death:
		Q35D A 4 A_Scream
		Q35D B 4 A_Fall
		Q35D CDEF 4
		Q35D G 4 A_PlaySound("quake4/Misc/Body/Small")
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q35D H -1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"Defilement")
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 1 A_SpawnItemEx("OgreHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Raise:
		Q35D HGFEDCBA 5
		Goto See
	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+7

	}
}


actor Ogre2Head : OgreHead
{
	Translation "0:255=%[0.0,0.0,0.0]:[0.7,0.7,0.7]", "32:47=32:47", "176:191=176:191"
}


Actor NapalmGrenadeMonster : NapalmGrenade
{
    Speed 32
    Damage 20
    States
    {
    Death:
	NAGR A 1 A_Explode(50,100,1)
	TNT1 A 0 A_SpawnItemEx("NewExplosionMedium",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAA 0 A_SpawnItemEx("Napalm",0,0,0,random(1,3),0,random(8,12),random(1,360),SXF_NOCHECKPOSITION,0)
	Stop
    }
}
	

//================================================================
//================================================================

//================================================================
//================================================================

Actor SilentWanderer 		//archvile
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner"
	Translation "0:255=%[0.0,0.0,0.0]:[0.3,0.5,0.3]", "32:47=32:47", "176:191=176:191"
	Health 1000
	Radius 24
	Height 52 
	Mass 400 
	Speed 10
	MeleeDamage 10
	MeleeRange 70
	Damage 20
	PainChance 32
	Scale 0.4
	Monster	+DONTCORPSE	RipLevelMin 1 
	SeeSound "fiend/sight"
	PainSound "fiend/pain"
	DeathSound "fiend/death"
	ActiveSound "fiend/idle"
	MeleeSound "fiend/melee"
	AttackSound ""
	+BOSS
	+FLOORCLIP 
	+STEALTH
	Obituary "%o was gutted by a silent wanderer."
	
	PainChance "Charm", 96
	PainChance "Terror", 96
	PainChance "Drain", 64
	PainChance "Defile", 0
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 128
	PainChance "ChaosExpl2", 128
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	States
	{
	Pain.Charm:			TNT1 A 0 A_ChangeFlag("FRIENDLY",1)				Goto See
	Pain.Terror:		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)			Goto See
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	Pain.Defile:		TNT1 A 0 A_GiveInventory("DefileCheck",1)			Goto See 
	
	Spawn:
		Q31I A 10 A_Look
		Loop
	See:
		//TNT1 A 0 A_UnSetShootable
		//Sorry DBThanatos, but this guy is WAAAAAAAY too strong.
		Q31R AABBCCDDEEFF 2 A_Chase
		Loop
	SeeNoMissile:
		//TNT1 A 0 A_UnSetShootable
		Q31R AABBCCDDEEFF 2 A_Chase("Melee","")
		Goto See
	Melee:
		TNT1 A 0 A_SetShootable
		TNT1 a 0 A_ChangeFlag("NODROPOFF",1)
		Q31M A 4 A_FaceTarget 	TNT1 A 0 A_Recoil(-1.8)
		Q31M B 4 A_FaceTarget 	TNT1 A 0 A_Recoil(-1.8)
		Q31M C 4 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		Q31M D 5 A_FaceTarget	TNT1 A 0 A_Recoil(-1.8)
		Q31M E 4 A_MeleeAttack	TNT1 A 0 A_Recoil(-1.8)
		Q31M F 5  A_ChangeFlag("NODROPOFF",0)
		Goto See
		
	Missile:
		TNT1 A 0 A_SetShootable
		Q31L A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("fiend/jump")
		Q31L A 4 A_FaceTarget
		Q31L A 0 A_Recoil(-28)
		Q31L B 1 ThrustThingZ(0,35,0,0)
	LeapLoop:
		Q31L B 0 A_CheckFloor("LeapEnd")
		Q31L B 1 A_JumpIfCloser(70,"LeapMelee")
		Loop
	LeapEnd:
		Q31L A 0 A_PlaySound("fiend/land")
		Q31L A 0 A_ChangeFlag("NOPAIN",0)
		Q31L C 4 A_Stop
		Q31L D 4
		Goto SeeNoMissile  
	LeapMelee:
		Q31L B 1 A_MeleeAttack
		Q31L B 1 A_CheckFloor("LeapEnd")
		Wait
		
	Pain:
		Q31P A 1
		TNT1 A 0 A_ChangeFlag("NODROPOFF",0)
		Q31P A 7 A_Pain
		Goto See
	Death:
		Q31D A 4 A_Scream
		Q31D B 4 A_Fall
		Q31D CD 4
		Q31D E 4 A_PlaySound("quake4/Misc/Body/Small")
		Q31D FG 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q31D H -1
		Stop
	XDeath:
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 10 A_SpawnItemEx("FiendHead",0,0,20,random(1,7),0,random(1,7),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		Stop
	Raise:
		Q31D GFEDCBA 4
		Goto See
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	}
}

//================================================================
//================================================================

//================================================================
//================================================================
Actor Mephistopheles 
{
	DropItem "AEoDLichStaffItem" 64
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 
	DropItem "PowerupSpawner" 
	Translation "0:255=%[0.0,0.0,0.0]:[0.9,0.9,1.2]", "32:47=32:47", "176:191=176:191"
	Health 5000
	Radius 64 
	Height 90 
	Speed 5
	PainChance 10
	Scale 0.75
	Mass 8000
	Monster	+DONTCORPSE	RipLevelMin 1
	REACTIONTIME 16 
	+BOSS
	+BOSSDEATH
	+FLOORCLIP
	+NORADIUSDMG
	+NOICEDEATH
	Obituary "%o soul and body was frozen by the lord of hatred: Mephistopheles" 
	SeeSound "mephisto/sight" 
	PainSound "mephisto/pain" 
	DeathSound "mephisto/death" 
	ActiveSound "" 
	
	PainChance "Charm", 0
	PainChance "Terror", 0
	PainChance "Defile", 0
	PainChance "Drain", 40
	PainChance "Chaos", 255
	DamageFactor "ChaosExpl1", 0
	DamageFactor "ChaosExpl2", 0
//Ice
	DamageFactor "Fire", 1.5
	DamageFactor "Ice", 0.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEMagic", 0.75
	PainChance "Ice", 64
	States
	{
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain
	
	Spawn:
		Q39I A 0 
		Q39I A 0 A_PlaySound("mephisto/active",5,0.8,1)
	Idle:
		Q39I A 10 A_Look
		Loop
	See:
		Q39W A 5 A_Chase		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39W B 5 A_Chase		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39W C 5 A_Chase		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39W D 5 A_Chase		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39W E 5 A_Chase		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39W F 5 A_Chase		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Loop
	Missile: 
		TNT1 A 0 A_Jump(255,"IceBall","IceSpike","IceSpheres","IceDragon")
	IceSpheres:
		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_PainAttack ("IceHadesSphere") 		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_PainAttack ("IceHadesSphere") 		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_PainAttack ("IceHadesSphere") 		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget	
		Goto See
	IceDragon:
		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_Custommissile ("IceDragonHead", 32, 0, 0) 	TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget					TNT1 A 0 A_UnSetInvulnerable	//this is for the end of pain.fire
		Goto See
	IceBall:
		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_Custommissile ("BoneDragonIceShot", 32, 0, 0)  		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_Custommissile ("BoneDragonIceShot", 32, 0, 0)  		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget	
		Goto See
	IceSpike:
		TNT1 A 0 A_PlaySound("mephisto/cast")		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_Custommissile ("IceGroundSpike", 32, 0, 0) 		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_Custommissile ("IceGroundSpike", 32, 0, 0) 		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A A 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A B 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A C 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A D 5 A_FaceTarget					TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A E 5 A_Custommissile ("IceGroundSpike", 32, 0, 0)  		TNT1 A 0 A_SpawnItemEx("FreezeVaporIdle",random(30,-30),random(30,-30),random(20,70),0,0,0,0,SXF_NOCHECKPOSITION)
		Q39A F 5 A_FaceTarget	
		Goto See
	Pain:
		Q39P A 3
		Q39P A 3 A_Pain
		Goto See
	Pain.Fire:
		TNT1 A 0 A_SetInvulnerable
		Q39P P 2 A_Pain 
		Goto "IceDragon"
	Death:
		TNT1 F 0 A_CustomMissile("PentaLine3B",0,0,-72,2)
		TNT1 F 0 A_CustomMissile("PentaLine3B",0,0,-144,2)
		TNT1 F 0 A_CustomMissile("PentaLine3B",0,0,-216,2)
		TNT1 F 0 A_CustomMissile("PentaLine3B",0,0,-288,2)
		TNT1 F 0 A_CustomMissile("PentaLine3B",0,0,0,2)
		TNT1 a 0 A_CustomMissile("IceCorpseDropper",0,0,random(1,360))
		TNT1 A 0 A_StopSound(5)
		Q39D A 6
		Q39D B 6 A_Scream			
		TNT1 a 0 A_CustomMissile("IceCorpseDropper",0,0,random(1,360))
		Q39D CD 6				
		TNT1 a 0 A_CustomMissile("IceCorpseDropper",0,0,random(1,360))
		Q39D EF 6				
		TNT1 a 0 A_CustomMissile("IceCorpseDropper",0,0,random(1,360))
	Looper:
		TNT1 A 0 A_JumpIfInventory("Counter",25,"Ender")
		TNT1 A 0 A_GiveInventory("Counter",1)
		TNT1 a 0 A_CustomMissile("IceCorpseDropper",0,0,random(1,360))
		Q39D G 12 
		Loop
	Ender:
		Q39D G 1 A_Fall
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q39D G -1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowBig",0,0,45,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksBig",0,0,45,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+7
	}
}

Actor Iwasactivebefore : Inventory
{	Inventory.MaxAmount 1		}

//****************************************
Actor IceCorpseDropper
{
	Radius 20
	Projectile
	Speed 25
	Damage 0
	+RIPPER	RipperLevel 1
	+BLOODLESSIMPACT
	+CEILINGHUGGER
	+SPAWNCEILING
	RenderStyle None
   +NOTIMEFREEZE
	States
	{
	Spawn:
		TNT1 AAA 3
		TNT1 A 3 A_CustomMissile("IceCDropped",0,0,0)
		Stop
	}
}

Actor IceCDropped
{
	radius 8
	height 8
	speed 0
	+NOBLOCKMAP
	+DROPOFF
	+NOTELEPORT
	+CORPSE
	SeeSound "qzombie/pain"
	states
	  {
	  Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(255,"Type1","Type2","Type3","Type4","Type5","Type6")
	  Type1:
		  BDY1 A 4
		  Loop
	  Type2:
		  BDY2 A 4
		  Loop
	  Type3:
		  BDY3 A 4
		  Loop
	  Type4:
		  BDY4 A 4
		  Loop
	  Type5:
		  BDY5 A 4
		  Loop
	  Type6:
		  BDY6 A 4
		  Loop
	  Crash:
		  TNT1 A 0 A_SpawnItemEx("IceHadesSphere",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS)
		  TNT1 AAAAAAAA 0 A_TossGib
		  TNT1 A 1
		  Stop
	}
}

//********************************************
// Misc effects

ACTOR FreezeVaporIdle
{
   Speed 0
   Damage 0
   PROJECTILE
   Radius 2
   Height 2
   RENDERSTYLE TRANSLUCENT
   +NOCLIP
   ALPHA 0.2
   States
   {
   Spawn:
	PLSK A 1
   Death:
	  TNT1 A 0 ThrustThingZ(0,7,0,1)
      PLSK AB 1
      PLSS CDEFGHIJKLMNOPQRSTUVWXYZ 1
      PLSZ ABC 1
      Stop
   } 
}

//********************************************
// Death effects
ACTOR PentaLine1B
{
	Radius 0
	Height 32
	Speed 200
        RenderStyle NONE
	Alpha 0.85
	PROJECTILE
        +FLOORHUGGER
        +NOCLIP
	+DONTSPLASH
        SeeSound "weapons/diasht"
	states
	{
	Spawn:
           TNT1 A 1
           TNT1 A 0 A_CustomMissile("PentaLine2B",0,0,-198,2)
           TNT1 A 0 A_CustomMissile("PentaLine2B",0,0,198,2)
	   stop
	}
}

ACTOR PentaLine2B
{
	Radius 0
	Height 32
	Speed 16
        RenderStyle NONE
	Alpha 0.85
	PROJECTILE
        +FLOORHUGGER
        +NOCLIP
	+DONTSPLASH
	states
	{
	Spawn:
           TNT1 AAAAAAAAAAAAAAAA 1 A_SpawnItem("PentaFireB",0,0)
	   stop
	}
}


ACTOR PentaLine3B
{
	Radius 0
	Height 32
	Speed 200
        RenderStyle NONE
	Alpha 0.85
	PROJECTILE
        +FLOORHUGGER
        +NOCLIP
	+DONTSPLASH
        SeeSound "weapons/diasht"
	states
	{
	Spawn:
           TNT1 A 1
           TNT1 A 0 A_CustomMissile("PentaLine4B",0,0,-198,2)
           TNT1 A 0 A_CustomMissile("PentaLine4B",0,0,198,2)
	   stop
	}
}

ACTOR PentaLine4B
{
	Radius 0
	Height 32
	Speed 16
        RenderStyle NONE
	Alpha 0.85
	PROJECTILE
        +FLOORHUGGER
        +NOCLIP
	+DONTSPLASH
	states
	{
	Spawn:
           TNT1 AAAAAAAAAAAAAAAA 1 A_SpawnItem("PentaFire2B",0,0)
	   stop
	}
}

ACTOR PentaFire2B
{
	Radius 0
	Height 32
	Speed 0
        DamageType Ice
        RenderStyle Add
	Alpha 0.85
        ReactionTime 9
	PROJECTILE
        +FLOORHUGGER
        -NOGRAVITY
	+DONTSPLASH
	Translation "0:255=%[0.0,0.0,0.5]:[0.9,0.9,2.0]"
	states
	{
	Spawn:
           CFCF A 1 Bright A_Explode(1,32,1)
           CFCF A 2 Bright A_PlaySound("weapons/onfire")
           CFCF BCDEFGHIJKLM 3 Bright A_Explode(1,32,1)
           CFCF A 0 Bright A_CountDown
	   loop
        Death:
           CFCF NOP 3 Bright A_Explode(1,32,1)
           stop
	}
}


ACTOR PentaFireB
{
	Radius 0
	Height 32
	Speed 0
        DamageType Ice
        RenderStyle Add
	Alpha 0.85
        ReactionTime 2
	PROJECTILE
        +FLOORHUGGER
        -NOGRAVITY
	+DONTSPLASH
	Translation "0:255=%[0.0,0.0,0.5]:[0.9,0.9,2.0]"
	states
	{
	Spawn:
           CFCF A 1 Bright A_Explode(1,32,1)
           CFCF A 2 Bright A_PlaySound("weapons/onfire")
           CFCF BCDEFGHIJKLM 3 Bright A_Explode(1,32,1)
           CFCF A 0 Bright A_CountDown
	   loop
        Death:
           CFCF NOP 3 Bright A_Explode(2,32,1)
           stop
	}
}


//*********************************
Actor IceGroundSpike
{
    Projectile
    Speed 25
    Radius 8
    Height 8
    Damage 5
    +RIPPER	RipperLevel 1
    +BLOODLESSIMPACT
    +FLOORHUGGER
	+DONTSPLASH
	Reactiontime 30
    States
    {
    Spawn:	
	TNT1 A 0
	TNT1 D 2 A_CustomMissile("IceGroundSpikeExt",0,0,0)
	TNT1 A 0 A_CountDown
	Loop
    Death:
	TNT1 A 1
	Stop
    }
}
		
Actor IceGroundSpikeExt
{
    Projectile
    Speed 0
    Scale 0.6
    Radius 8
    Height 8
    Damage 2
    +FLOORHUGGER
    +RIPPER	RipperLevel 1
	Translation "0:255=%[0.0,0.0,0.5]:[0.3,0.3,1.5]"
	RenderStyle Add
	DamageType Ice
    States
    {
    Spawn:
	TNT1 A 0
	TNT1 AAAA 0 A_SpawnItemEx("IceSpkParticle",0,0,4,frandom(1.0,2.0),0,0,random(0,359),SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_SpawnItemEx("IceSpkParticle2",0,0,4,frandom(1.0,2.0),0,0,random(0,359),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_RadiusThrust(20,15,0)
	RSPK DCBA 3
	RSPK A 5
	RSPK BCD 3
	Stop
    }
}
Actor IceSpkParticle
{
    Height 4
    Radius 3
    Speed 6
    Scale 0.3
    +NOCLIP
    PROJECTILE
    -NOGRAVITY
    +LOWGRAVITY
    +DONTSPLASH
	RenderStyle Translucent
    States
    {
    Spawn:
        HHPF A 0
        HHPF AA 1 Bright ThrustThingZ(0,random(2,6),0,1)
        HHPF AAAAAAAAAAAAAAAAAAAAAA 1 
        HHPF A 1 A_FadeOut
        Wait
    }
}

Actor IceSpkParticle2 : IceSpkParticle
{	
	Translation "0:255=%[0.0,0.0,0.5]:[0.3,0.3,1.0]"
	RenderStyle Add
    States
    {
    Spawn:
        HHPF A 0
        HHPF AA 1 Bright ThrustThingZ(0,random(2,6),0,1)
        HHPF AAAAAAAAAAAAAAAAAAAAAA 1 Bright
        HHPF A 1 Bright A_FadeOut
        Wait
	}
}

//**************************************
ACTOR IceHadesSphere 	
{ 
    Health 20
    Radius 16 
    Height 32 
    Mass 3000 
    Speed 15
    RENDERSTYLE Add
    Obituary "%o's soul was frozen by Mephistopheles."
    PAINCHANCE 30 
    MONSTER
    +LOOKALLAROUND
    +DONTGIB
    +NOTARGET
    +NOGRAVITY 
    +FLOAT
    +DONTFALL
    +FLOATBOB
    +LONGMELEERANGE
    +NOICEDEATH
	+FOILINVUL
	-COUNTKILL
	-SOLID
    SeeSound "monster/hadsit"
	Scale 0.7
	DamageFactor "Ice", 0.0
	Translation "0:255=%[0.0,0.0,0.5]:[0.9,0.9,2.0]"
    States
    {
    Spawn:
        TNT1 A 1 Bright A_Look      
        Loop
    See:
        HADE EFGH 4 Bright
        HADE A 2 Bright A_Playsound("monster/hadwlk")
        HADE ABBCCDD 2 Bright A_Chase	
        HADE D 0 Bright A_Jump (16,"Phase2") 
        Goto See+4
	Phase2:
        HADE H 0 Bright A_UnSetSolid
        HADE H 0 Bright A_UnSetShootable
        HADE H 5 Bright A_Playsound("monster/hadtel")
        HADE GFEIJKL 2 Bright
	Phase3:
        TNT1 AAAAAAAAAAAAA 0 Bright A_Chase
        TNT1 A 0 Bright A_Jump (96,"Phase4") 
        Loop
	Phase4:
        HADE L 3 Bright A_Playsound("monster/hadtel")
        HADE KJIEFG 2 Bright
        HADE H 0 Bright A_SetShootable
        HADE H 0 Bright A_SetSolid
        Goto See+4
    Melee:
        HADE H 0 A_SetInvulnerable
	   HADE H 1 A_Die
		Goto Death
    Death:
        HADE E 0 Bright A_Noblocking
        TNT1 A 2 Bright A_CustomMissile("IHSBoom",0,0,0,0)
        Stop
    } 
}

ACTOR IHSBoom
{
	+NOINTERACTION
    Alpha 0.90
    RENDERSTYLE ADD
	Scale 0.67
	Translation "0:255=%[0.0,0.0,0.5]:[0.9,0.9,2.0]"
	DamageType "Ice"
    SeeSound "monster/hadexp"
	+FOILINVUL
	+FORCERADIUSDMG
    States
    {
    Spawn:
	HADE A 0
	TNT1 AAAAAAAAAAA 0 A_SpawnItemEx("CrystalSmoke22B",0,0,15,frandom(1.0,-1.0),frandom(1.0,-1.0),frandom(-1.0,1.0),random(1,359),SXF_NOCHECKPOSITION)
	HADE M 3 Bright A_Explode(64,80,0)
	HADE NOPQ 3 Bright
	Stop
    }
}

Actor CrystalSmoke22B : CrystalSmoke22
{
	Scale 0.8
}


//================================================================
//================================================================

//================================================================
//================================================================
Actor DarkShambler
{
	DropItem "AEoDThunderBoltItem" 32
	DropItem "AEoDProteusDynamoItem" 32
	DropItem "CellBigAmmo"
	DropItem "CellBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
	var int user_something;
	Translation "0:255=%[0.0,0.0,0.0]:[0.6,0.5,0.5]", "32:47=32:47", "176:191=176:191"
	Health 6000
	Radius 40
	Height 100 
	Mass 8000 
	Speed 8
	MeleeDamage 40
	Scale 0.85
	PainChance 7
	Monster	+DONTCORPSE	RipLevelMin 1 
	+MISSILEMORE
	+MISSILEEVENMORE
	+BOSS
	+BOSSDEATH
	+FLOORCLIP 
	+DONTMORPH
	SeeSound "shambler/sight"
	PainSound "shambler/pain"
	DeathSound "shambler/death"
	ActiveSound "shambler/idle"
	MeleeSound "shambler/melee"
	HitObituary "%o was eviscerated by a dark shambler."
	Obituary "%o rode the lighning of the dark shambler."
	DamageFactor "Wormwood", 0.3
	MeleeRange 110
	
	PainChance "Charm", 0
	PainChance "Terror", 0
	PainChance "Defile", 0
	PainChance "Drain", 40
	PainChance "Chaos", 255
	DamageFactor "ChaosExpl1", 0
	DamageFactor "ChaosExpl2", 0
//Unholy
	DamageFactor "Holy", 2.0
	DamageFactor "Unholy", 0.5
	DamageFactor "UnholyDisint", 0.5
	DamageFactor "Fire", 0.75
	DamageFactor "Ice", 0.75
	DamageFactor "AEPoison", 0.75
	DamageFactor "AEMagic", 0.75
	States
	{
	Pain.Drain:			TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)	Goto Pain	
	
	Spawn:
		Q37I A 10 A_Look
		Loop
	See:
		TNT1 A 0 A_PlaySound("eidolon/stomp")
		Q37W AA 3 A_Chase		TNT1 A 0 A_SpawnItem("DSWShadowA",0,0)
		Q37W BB 3 A_Chase		TNT1 A 0 A_SpawnItem("DSWShadowB",0,0)
		Q37W CC 3 A_Chase		TNT1 A 0 A_SpawnItem("DSWShadowC",0,0)
		TNT1 A 0 A_PlaySound("eidolon/stomp")
		Q37W DD 3 A_Chase		TNT1 A 0 A_SpawnItem("DSWShadowD",0,0)
		Q37W EE 3 A_Chase		TNT1 A 0 A_SpawnItem("DSWShadowE",0,0)
		Q37W FF 3 A_Chase		TNT1 A 0 A_SpawnItem("DSWShadowF",0,0)
		Loop
	Missile:
	CommonStage:
		Q37A A 0 A_PlaySound("shambler/charge")	TNT1 AAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)	  
		Q37A A 4 A_FaceTarget				TNT1 AAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)
		Q37A B 4 A_FaceTarget				TNT1 AAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAAAAAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAAAAAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A B 4 A_FaceTarget				TNT1 AAAAAAAAAAA 0 A_SpawnItemEx("LighningChargeParticles",30,15,120,random(15,-15),random(15,-15),random(10,-10),random(0,359),SXF_NOCHECKPOSITION)		  
		Q37A BBBBBBBB 4 A_FaceTarget
		TNT1 A 0 A_Jump(255,"ProteusDynChain","ProteusDynRailer","StaticRailAttack","LightningStream")	//select the attack
		
	ProteusDynChain:
		Q37A C 4 A_FaceTarget
		Q37A D 30 A_CustomMissile("ChainLightShambler1",64,0,0)
		Goto See

	ProteusDynRailer:
		Q37A C 4 A_FaceTarget
		Q37A D 30 A_CustomMissile("ThunderlightningShambler",64,0,0)
		Goto See

	StaticRailAttack:
		TNT1 a 0 A_FaceTarget
		TNT1 A 0 A_CustomMissile("ShamTargeter",80,0,0)	//to make the target chase this guy if friendly
		TNT1 A 0 A_SpawnItemEx("LightningBallLooker",30,10,118,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS)
		TNT1 A 0 A_SpawnItemEx("Sham2LightningBallFakeA",30,10,125,0,0,0,0,SXF_NOCHECKPOSITION)
		Q37A B 5 Bright A_FaceTarget
		TNT1 A 0 A_SpawnItemEx("LightningBallLooker",30,10,118,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS)
		TNT1 A 0 A_SpawnItemEx("Sham2LightningBallFakeB",30,10,125,0,0,0,0,SXF_NOCHECKPOSITION)
		Q37A B 5 Bright A_FaceTarget
		TNT1 A 0 A_Jump(15,"QuitAtt")
		TNT1 A 0 A_CPosRefire
		Loop

	LightningStream:
		Q37A C 4 A_FaceTarget
		Q37A A 0 A_PlaySound("shambler/light")
		TNT1 A 0 A_FaceTarget
		Q37A D 4 Bright A_CustomMissile("ShamblerLightningProjectile",64,0,random(7,-7))
		TNT1 A 0 A_FaceTarget
		Q37A D 4 Bright A_CustomMissile("ShamblerLightningProjectile",64,0,random(7,-7))
		TNT1 A 0 A_FaceTarget
		Q37A D 4 Bright A_CustomMissile("ShamblerLightningProjectile",64,0,random(7,-7))
		TNT1 A 0 A_FaceTarget
		Q37A D 4 Bright A_CustomMissile("ShamblerLightningProjectile",64,0,random(7,-7))
		TNT1 A 0 A_Jump(20,"QuitAtt")
		TNT1 A 0 A_CposRefire
		Goto LightningStream+1
	QuitAtt:
		Q37A D 5 
		Goto See

	Melee:
		TNT1 A 0 A_Jump(40,"Missile")
		TNT1 A 0 A_Jump(190,"RightArm")
	BothArms:
		Q37M ABC 5 A_FaceTarget
		Q37M D 5 A_CustomMeleeAttack(random(100,400),"shambler/melee")
		Q37M EF 7
		Goto See
	RightArm:
		TNT1 A 0 A_JumpIfInventory("MeleeSideToken",1,"LeftArm")	//to switch arms betwen attacks
		TNT1 A 0 A_GiveInventory("MeleeSideToken",1)		TNT1 A 0 A_Recoil(-1.4)
		Q37N A 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N B 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N C 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N D 5 A_MeleeAttack			TNT1 A 0 A_Recoil(-1.4)
		Q37N E 5 A_FaceTarget
		Goto See
	LeftArm:
		TNT1 A 0 A_TakeInventory("MeleeSideToken",1)		TNT1 A 0 A_Recoil(-1.4)
		Q37N F 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N G 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N H 5 A_FaceTarget			TNT1 A 0 A_Recoil(-1.4)
		Q37N I 5 A_MeleeAttack			TNT1 A 0 A_Recoil(-1.4)
		Q37N J 5 A_FaceTarget
		Goto See
		
	Pain:
		Q37P A 2
		Q37P A 2 A_Pain
		Goto See
	OhMy:
		TNT1 A 0 A_ChangeFlag("NOPAIN",1)
		TNT1 A 0 A_PlaySound("castspell/electric", CHAN_WEAPON, 1.0, 0) 
		Q37P A 3 
		Q37P A 12 A_Pain
	NovaLooper:
		TNT1 A 0 A_SetUserVar("user_something",0)
		TNT1 A 0 A_JumpIf(user_something>=360,"NovaEnd")
		TNT1 A 0 A_CustomMissile("NovaLightningSham",40,0,user_something)
		TNT1 A 0 A_SetUserVar("user_something",user_something+10)
		Goto NovaLooper+1
	NovaEnd:
		TNT1 A 0 A_ChangeFlag("NOPAIN",0)
		Q37P A 50
		Goto See

	Death:
		Q37D A 5 A_Scream
		Q37D B 5 A_Fall
		Q37D CDEF 5
		TNT1 A 0 A_PlaySoundEx("halflife/monsters/gonarch/step","SoundSlot6")
		"####" "#" 0 A_QueueCorpse
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		Q37D G -1 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowBig",0,0,45,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksBig",0,0,45,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+7
	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
	}
}

Actor DSWShadowA
{
	Translation "0:255=%[0.0,0.0,0.0]:[0.6,0.5,0.5]", "32:47=32:47", "176:191=176:191"
	+NOINTERACTION
	Scale 0.85
	RenderStyle Translucent
	Alpha 0.7
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DisintegrateSparkBig",random(30,-30),random(30,-30),random(20,100),frandom(4.5,-4.5),frandom(4.5,-4.5),frandom(0.99,-0.99),random(0,359),SXF_NOCHECKPOSITION,128)
		Q37W A 3 A_FadeOut(0.05)
		Wait
	}
}

Actor DSWShadowB : DSWShadowA
{	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DisintegrateSparkBig",random(30,-30),random(30,-30),random(20,100),frandom(4.5,-4.5),frandom(4.5,-4.5),frandom(0.99,-0.99),random(0,359),SXF_NOCHECKPOSITION,128)
		Q37W B 3 A_FadeOut(0.05)
		Wait
	}
}

Actor DSWShadowC : DSWShadowA
{	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DisintegrateSparkBig",random(30,-30),random(30,-30),random(20,100),frandom(4.5,-4.5),frandom(4.5,-4.5),frandom(0.99,-0.99),random(0,359),SXF_NOCHECKPOSITION,128)
		Q37W C 3 A_FadeOut(0.05)
		Wait
	}
}
Actor DSWShadowD : DSWShadowA
{	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DisintegrateSparkBig",random(30,-30),random(30,-30),random(20,100),frandom(4.5,-4.5),frandom(4.5,-4.5),frandom(0.99,-0.99),random(0,359),SXF_NOCHECKPOSITION,128)
		Q37W D 3 A_FadeOut(0.05)
		Wait
	}
}
Actor DSWShadowE : DSWShadowA
{	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DisintegrateSparkBig",random(30,-30),random(30,-30),random(20,100),frandom(4.5,-4.5),frandom(4.5,-4.5),frandom(0.99,-0.99),random(0,359),SXF_NOCHECKPOSITION,128)
		Q37W E 3 A_FadeOut(0.05)
		Wait
	}
}
Actor DSWShadowF : DSWShadowA
{	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DisintegrateSparkBig",random(30,-30),random(30,-30),random(20,100),frandom(4.5,-4.5),frandom(4.5,-4.5),frandom(0.99,-0.99),random(0,359),SXF_NOCHECKPOSITION,128)
		Q37W F 3 A_FadeOut(0.05)
		Wait
	}
}


actor NovaLightningSham : NovaLightning
{
	Damage 5
}
Actor ShamTargeter : FastProjectile
{
	Projectile
	Speed 180
	+RIPPER	RipperLevel 1
	+BLOODLESSIMPACT
	Damage 1
	RenderStyle None
	States
	{
	Spawn:
		PLAY A 3
		Loop
	Death:
		PLAY A 2
		Stop
	}
}


Actor LighningChargeParticles	//projectile particles trail
{
	Translation "112:127=80:111"
    +NOINTERACTION
    Scale 0.65
	RenderStyle Add
    States
    {
    Spawn:
	TNT1 AAAAA 3 A_ScaleVelocity(0.5)
	EBLT A 2 A_ScaleVelocity(-1.0)
	EBLT BCDEF 3 A_ScaleVelocity(1.5)
	Stop
    }
}


//******************************************************
Actor LightningBallLooker
{
	Monster
	Speed 0
	Radius 5
	Height 10
	-COUNTKILL
	+LOOKALLAROUND
	-SOLID
	-SHOOTABLE
	+NOGRAVITY
	+NOCLIP
	RendersTyle None
	Scale 0.4
	AttackSound "reilsss/weapons/thunderboltfire2"
	States
	{
	Spawn:
		ZAP7 a 0
		ZAP7 A 1 A_Look
	See:
		ZAP7 A 0 A_Chase
	Missile:
		ZAP7 A 1 A_FaceTarget
		TNT1 A 0 A_Jump(128,2)
		ZAP7 A 3 A_CustomRailgun(random(15,40),0,none,"white",0,10,2,"ElectricInvisiblePuff", 0,0,0, 10,0.3,0.0)
		Stop
		ZAP7 A 3 A_CustomRailgun(random(15,40),0,none,"Lightblue",0,10,2,"ElectricInvisiblePuff", 0,0,0, 10,0.3,0.0)
		Stop
	}
}


Actor Sham2LightningBallFakeA
{
	+NOINTERACTION
	RendersTyle Add
	Scale 0.4
	States
	{
	Spawn:
		ZAP7 ABC 2 Bright
		Stop
	}
}

Actor Sham2LightningBallFakeB : Sham2LightningBallFakeA
{	States
	{
	Spawn:
		ZAP7 CDE 2 Bright
		Stop
	}
}

//*********************************************
Actor ShamblerLightningProjectile : FastProjectile
{
    Projectile
    Speed 80
    Damage 15
    Radius 5
    Height 5
    Scale 0.5
	RenderStyle Add
	MissileType "ShLiProjTrail"
	DamageType "Electric"
    DeathSound "diablo2/sorceresscast/thunderbolt"
    States
    {
    Spawn:
	TNT1 A 1
	Loop
    Death:
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut
	ZAP7 E 1 A_FadeOut
	Stop
    }
}

Actor ShLiProjTrail
{
	+NOINTERACTION
	RenderStyle Add
	Scale 0.3
	States
	{
	Spawn:
		TNT1 A 0 
		TNT1 A 0 A_Jump(170,8)
		ZAP6 ABCABC 3 Bright
		ZAP6 A 1 Bright A_FadeOut
		Wait
		TNT1 A 0 A_Jump(128,8)
		ZAP6 BCABCA 3 Bright
		ZAP6 B 1 Bright A_FadeOut
		Wait
		ZAP6 CABCAB 3 Bright
		ZAP6 C 1 Bright A_FadeOut
		Wait
	Death:
		TNT1 A 1
		Stop
	}
}
//********************************************

Actor ThunderlightningShambler
{
Projectile
Speed 46
Damage 20
Radius 5
Height 5
SeeSound "reilsss/weapons/thundercannonaltfire"
DeathSound "reilsss/weapons/thunderexplosion"
DamageType "Electric"
States
{
Spawn:
	TNT1 A 1 A_SpawnItem("LightSpellTrailWizard",1)
	Loop
Death:
	TNT1 AA 0 A_SpawnItemEx("TBRailShooterShambler",0,0,0,1,1,1,random(1,360),SXF_NOCHECKPOSITION+SXF_TRANSFERPOINTERS)
	TNT1 AAAAAAAAA 0 A_CustomRailgun(random(60,340),0,none,"FF FF FF",1,0,3,"ElectricPuff", 100,100,0, 10,1.0,0.0)
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut
	ZAP7 E 1 A_FadeOut
	Stop
}
}

ACTOR TBRailShooterShambler : TBRailShooter
{ 
-COUNTKILL
States
{
Spawn:
   TNT1 A 0 
   PLAY A 1 A_Look
See:
   PLAY A 0 A_Chase
Missile:
   PLAY A 0 A_FaceTarget
   PLAY A 0 A_CustomRailgun(random(70,130),0,none,"FF FF FF",1,10,3,"ElectricPuff", 0,0,0, 10,1.0,0.0)
   Stop
}
}

//*********************************************
Actor ChainLightShambler1
{
Projectile
Speed 46
Damage 25
Radius 5
Height 5
SeeSound "reilsss/weapons/thundercannonaltfire"
DeathSound "reilsss/weapons/thunderexplosion"
DamageType "Electric"
RenderStyle Add
States
{
Spawn:
	TNT1 A 1 A_SpawnItem("LightSpellTrailWizard",1)
	Loop
Death:
	TNT1 AA 0 A_SpawnItemEx("ChainLightninReshooter1",0,0,0,1,1,1,random(1,360),SXF_NOCHECKPOSITION+SXF_TRANSFERPOINTERS)
	TNT1 A 4
	Stop
}
}

ACTOR ChainLightninReshooter1
{ 
+FRIENDLY
MONSTER
Radius 1
Height 1
Speed 0
+NOGRAVITY
+NOCLIP
+LOOKALLAROUND
+MISSILEMORE
+MISSILEEVENMORE
+NOTARGET
-SOLID
-SHOOTABLE
-COUNTKILL
DamageType "Electric"
MinMissileChance 0
RenderStyle None
ReactionTime 25
States
{
   Spawn:
   TNT1 A 0 A_CountDown
   PLAY A 1 A_Look
//    loop
See:
   PLAY A 0 A_Chase
Missile:
   PLAY A 0 A_FaceTarget
   PLAY A 0 A_CustomMissile("ChainLightShambler2",0,0,0)
   TNT1 A 2
   Stop
}
}

Actor ChainLightShambler2 : ChainLightShambler1
{ States {
Death:
	TNT1 A 4
	Stop } }
	




//================================================================
//================================================================

//================================================================
//================================================================

ACTOR LostSpirit 		// lost soul
{
	DropItem "Mana1Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 180
	DropItem "PowerupSpawner" 8
    Health 80
    //+Stealth
    Speed 15
    Radius 20
    Height 40
    PainChance 180
    Mass 400
    Scale 0.12
    Meleedamage 3
    Monster	+DONTCORPSE	RipLevelMin 1
    +NOGRAVITY
    +FLOAT
    +DONTFALL
    RenderStyle Translucent
    Alpha 0.5
    SeeSound "wisp/sight"
    PainSound "wisp/pain"
    DeathSound "wisp/death"
    ActiveSound "wisp/active"
    Obituary "%o was killed by a lost spirit"
    Translation "0:255=%[0,0,0]:[0.7,0.7,0.7]", "176:191=176:191"
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
	PainChance "Slow", 255
//Ethereal
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.75
	DamageFactor "AEBullet", 0.5
	DamageFactor "Holy", 0.75
	DamageFactor "Unholy", 1.5
	DamageFactor "UnholyDisint", 1.5
	DamageFactor "AEMagic", 1.5
	DamageFactor "Plasma", 1.5
	DamageFactor "PlasmaDisint", 1.5
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See 


    Spawn:
	DSHR A 3 A_Look
	Loop
    See:
		DSHR AABBCC 3 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
    Melee:
		TNT1 a 0 A_PlaySound("wisp/attack")
		DSHR CDEFG 3 A_FaceTarget
		DSHR H 6 A_CustomMeleeAttack(random(10,28))
		Goto See
    Pain:
		DSHR S 8 A_Pain
		Goto See
    Death:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		  TNT1 A 0 A_Fall
		TNT1 A 0 A_Scream
		DSH2 ABCDEFGHIJ 3 A_FadeOut(0.02)
		DSH2 K 1 A_FadeOut(0.05)
		Stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto XDeath+1
	
    XDeath:
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
		  XTRA C 0 A_PlaySound("other/gibdeath")
		TNT1 AA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 AAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,SXF_TRANSFERTRANSLATION)
		TNT1 A 1 A_fall
	Stop
	
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 A_SetTranslucent(1.0,0)
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowSmallMedium",0,0,18,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksSmallMedium",0,0,18,0,0,0,0,SXF_NOCHECKPOSITION)
		"####" "##" 2 A_FadeOut(0.03)
		Goto Disintegrate+7
    }
}






//================================================================
//================================================================

//================================================================
//================================================================

Actor Q1Spawn
{
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 8
	var int user_lurch;
	Monster +DONTCORPSE	RipLevelMin 1
	Radius 16
	Height 34
	+FORCERADIUSDMG
	+NOICEDEATH
	+DONTMORPH
	+MISSILEMORE
	+MISSILEEVENMORE
	+BOUNCEONWALLS
	+BOUNCEONACTORS
	+NOEXPLODEFLOOR
	+BOUNCEONCEILINGS
	BounceFactor 0.7
	WallBounceFactor 1
	MinMissileChance 0
	BloodColor Purple
	Health 150
	Mass 800
	Speed 8
	Scale 0.35
	//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
	DamageFactor "Defile", 666 //Yup.
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
	PainChance "Slow", 255
	Obituary "%o was slimingly sucker-punched by a Spawn"
	PainChance "Normal", 0
	PainChance "RedSyphon", 64
	PainChance "BlueSyphon", 64
	PainChance "GreenSyphon", 64
	SeeSound "Quake/Spawn/See"
	DeathSound "Quake/Spawn/Death"
	+EXTREMEDEATH
	States
	{
	Pain.Charm:
		TNT1 A 1 A_ChangeFlag("FRIENDLY",1)
		Goto See
    Pain.Terror:
		TNT1 A 1 A_ChangeFlag("FRIGHTENED",1)
		Goto See
    Pain.Drain:
		TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto See
    Pain.Defile:
		"####" "#" 1 A_ChangeFlag("NOPAIN",1)
		"####" "#" 1 A_Die
		Goto Death
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_GiveInventory("AliveChecker",1)
	Idle:
		TNT1 A 0 A_SetUserVar("user_lurch",0)
		Q38I A 10 A_Look
		Loop
	Reset:
		TNT1 A 0 A_SetUserVar("user_lurch",0)
	See:
		Q38A D 1 A_CheckFloor("Chasing")
		Loop
	Chasing:
		Q38W AABBCCDDEE 4 A_Chase("","Missile")
		Loop
	Missile:
		Q38A A 0 A_JumpIfCloser(64,"SmackSpec")
		Q38A A 0 A_CheckFloor("Lurch")
		Goto Airborne
	Lurch:
		Q38A A 0 A_Stop
		Q38A A 0 A_JumpIfTargetInLOS(1,0)
		Goto See
		Q38A A 0 A_JumpIf(user_lurch==1,"Airborne")
		Q38A A 0 A_FaceTarget
		Q38A A 0 A_PlaySound("Quake/Spawn/Land",CHAN_VOICE,1,0)
		Q38A ABC 4 A_FaceTarget
		Q38A D 0 A_CustomMissile("SpawnHitterPrep",17,0,0)
		Q38A D 1 A_ChangeVelocity(random(25,45),0,random(6,10),1)
		Q38A D 0 A_SetUserVar("user_lurch",1)
	Airborne:
		Q38A D 0 A_JumpIfCloser(20,"SmackSpec")
		Q38A D 1 A_JumpIf(user_lurch==0,"Smack")//A_JumpIfCloser(48,"Smack")
		Q38A D 0 A_CheckFloor("Reset")
		Loop
	SmackSpec:
		TNT1 A 0 A_GiveInventory("QuakeSpawnResetter",1)
		TNT1 A 0 A_Explode(random(5,20),64,0,0,64)
	Smack:
		Q38A D 0 A_PlaySound("Quake/Spawn/Hit",CHAN_BODY,1,0)
		//Q38A D 0 A_CustomMissile("SpawnSmiter",17)
		Q38A D 0 A_ChangeVelocity(-15,0,3,3)
		//TNT1 A 0 A_SetUserVar("user_lurch",0)
		Goto See
	Death:
		TNT1 A 0 A_TakeInventory("AliveChecker",1)
		TNT1 A 0 A_Fall
		Q38A B 2 bright A_Stop
		TNT1 A 0 A_Stop
		TNT1 A 0 A_PlaySound("weapons/rockexplo",CHAN_VOICE,1,0)
		TNT1 A 0 A_PlaySound("Quake/Spawn/Death",CHAN_BODY,1,0)
		TNT1 A 0 A_PlaySound("other/gibdeath",CHAN_WEAPON,0.5,0)
		TNT1 A 0 A_Explode(random(30,100),192,1,0,64)
		TNT1 A 0 A_SpawnItemEx("GibberPurplish",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		TNT1 A 0 A_SpawnItemEx("PBExplosionSpawnerSmokeless",0,0,10,0,0,0,0,SXF_NOCHECKPOSITION)
		Stop
	}
}

Actor SpawnHitterPrep
{
	Projectile
	+NOINTERACTION
	+SEEKERMISSILE
	+DONTSPLASH
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("SpawnHitter",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPOINTERS)
		Stop
	}
}

Actor SpawnHitter
{
	Projectile
	+DONTREFLECT
	+CANBOUNCEWATER
	+SKYEXPLODE
	+SEEKERMISSILE
	+BOUNCEONFLOORS
	+BOUNCEONWALLS
	+BOUNCEONCEILINGS
	+DONTSPLASH
	Damage 2
	Speed 1
	Radius 48
	Height 36
	RenderStyle None
	States
	{
	Spawn:
		TNT1 A 0
//		TNT1 A 0 A_RearrangePointers(AAPTR_MASTER,AAPTR_NULL,AAPTR_DEFAULT,PTROP_NOSAFEGUARDS)
		TNT1 A 0 A_CopyFriendliness(AAPTR_TARGET)
		TNT1 A 0 A_ChangeFlag("NOCLIP",0)
		TNT1 A 0 A_ChangeFlag("THRUACTORS",0)
		TNT1 A 0 A_JumpIfInventory("SpawnLurching",1,"End",AAPTR_TARGET)
		TNT1 A 0 A_GiveInventory("SpawnLurching",1,AAPTR_TARGET)
	Movement:
		PLAY A 1 A_Warp(AAPTR_TARGET,8,0,-2,0,WARPF_NOCHECKPOSITION|WARPF_INTERPOLATE)
		TNT1 A 0 A_JumpIfInventory("AliveChecker",1,"Movement",AAPTR_TARGET)
		Stop
	Crash:
	XDeath:
		TNT1 A 0 A_GiveInventory("QuakeSpawnResetter",1,AAPTR_TARGET)
		TNT1 A 0 A_Explode(random(5,20),64,0,0,64)
	End:
		TNT1 A 0
		Stop
	}
}

Actor AliveChecker : Inventory
{	Inventory.MaxAmount 1	}

Actor SpawnLurching : Inventory
{	Inventory.MaxAmount 1	}

Actor QuakeSpawnResetter : CustomInventory
{
	States
	{
	Pickup:
		TNT1 A 0 A_ChangeFlag("MISSILE",0)
		TNT1 A 0 A_TakeInventory("SpawnLurching",1)
		TNT1 A 0 A_SetUserVar("user_lurch",0)
		Stop
	}
}

Actor GibberPurplish
{
	var int user_count[2];
	+NOINTERACTION
	Translation "0:255=%[0,0,0]:[0.5,0,1]"
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SetUserArray("user_count",0,random(25,80))
		TNT1 A 0 A_SetUserArray("user_count",1,random(30,90))
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(5,20),0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
	Looping1:
		TNT1 A 0 A_SpawnItemEx("TarbabyParticle",frandom(0,5),0,frandom(-2.5,2.5),random(-20,20),0,random(-20,20),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 0 A_SetUserArray("user_count",0,user_count[0]-1)
		TNT1 A 0 A_JumpIf(user_count[0]<=0,1)
		Loop
	Looping2:
		TNT1 A 0 A_SpawnItemEx("TarbabyParticle",frandom(0,5),0,frandom(-2.5,2.5),random(-20,20),0,random(-20,20),random(0,359),SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION,128)
		TNT1 A 0 A_SetUserArray("user_count",1,user_count[1]-1)
		TNT1 A 0 A_JumpIf(user_count[1]<=0,1)
		Loop
		TNT1 A 0
		Stop
	}
}


Actor TarbabyParticle
{
	+NOINTERACTION
	RenderStyle Translucent
	Alpha 0.75
	Scale 0.2
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(256,"S1","S2","S3","S4","S5","S6","S7","S8","S9","S10")
	S1:				X006 C 0		
	Goto Playoff
	S2:				X006 F 0		
	Goto Playoff
	S3:				X006 I 0		
	Goto Playoff
	S4:				X006 L 0		
	Goto Playoff
	S5:				X007 D 0		
	Goto Playoff
	S6:				X007 G 0		
	Goto Playoff
	S7:				X033 B 0		
	Goto Playoff
	S8:				X033 C 0		
	Goto Playoff
	S9:				X033 E 0		
	Goto Playoff
	S10:			X033 H 0		
	Goto Playoff
	
	Playoff:
		"####" "#" 0 A_ScaleVelocity(0.95)
		"####" "#" 1 A_FadeOut(0.03)
		Loop
	}
}