//================================================================================================================
//================================================================================================================
//
//
//					AEons Of Death v6: Class 3 weapons
//
//
//================================================================================================================
//================================================================================================================


//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================
//Mephisto Shellshocker Shotgun
//Originally by Xaser from Psychic

Actor AEoDShellShockerItem : CustomInventory 6125
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.PickupMessage "You picked up the Mephisto sawn-off shotgun!"
	Inventory.PickupSound "weapons/mephistopickup"
	States
	{
	Spawn:
		SHOP A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDShellShocker",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("ShellShockerDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDShellShocker",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,1,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDShellShocker",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,33,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDShellShocker",1)
		Stop
	}
}
 
Actor AEoDShellShocker : Weapon // 6125
{
	//+NOEXTREMEDEATH
	+WEAPON.CHEATNOTWEAPON
	+INVENTORY.IGNORESKILL
	//Weapon.SisterWeapon "ShotgunsPowered"
	Inventory.PickupMessage "You picked up the Mephisto sawn-off shotgun!"
	Inventory.PickupSound "weapons/mephistopickup"
	Weapon.upsound "weapons/mephistoswitch"
	Weapon.Kickback 400
	Weapon.AmmoType1 "AEShell"
	Weapon.AmmoType2 "AECell"
	Weapon.AmmoUse1 2
	Weapon.AmmoUse2 20
	Weapon.AmmoGive1 6
	Weapon.AmmoGive2 20
	Weapon.SelectionOrder 3000
	Decal "BulletChip"
	Tag "Shellshocker"
	States
	{
	Spawn:
		SHOP A -1
		Loop
	Ready:
		SHOG A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		SHOG A 1 A_Lower
		SHOG AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 //ACS_NamedExecute("s799",0,1,0,0)
		SHOG A 1 A_Raise
		SHOG AA 0 A_Raise
		Loop
	Fire:
		SHOG A 0 A_GunFlash
		SHOG A 0 A_AlertMonsters
		SHOG A 0 A_PlaySoundEx("weapons/shotgunfire","Body",0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,5,8)
		TNT1 A 0 A_SetPitch(pitch-6)
		SHOF A 1 Bright A_FireBullets(7,7,20,5,"BulletDamagePuff",1)
		SHOF A 0 Bright A_JumpIfInventory("PowerQuickFire",1,"PostFireQuick")
		Goto PostFire
	PostFire:
		SHOF B 1 Bright A_SetPitch(pitch+2)
		SHOG BC 1 A_SetPitch(pitch+2)
		SHOG D 2
		SHOG EFGHIJK 1
		SHOG L 1 A_PlaySoundEx("weapons/shotguncock","Weapon",0)
		SHOG M 0 A_FireCustomMissile("ShellCasingSpawner", -4, 0, 0, 0)
		SHOG M 0 A_FireCustomMissile("ShellCasingSpawner2", -4, 0, 0, 0)
		SHOG MNOPQ 1
		SHOG R 3
		SHOG STUVWXYZAAA 1
		Goto Ready
	PostFireQuick:
		SHOF B 1 Bright A_SetPitch(pitch+2)
		SHOG BC 1 A_SetPitch(pitch+2)
		SHOG D 1
		SHOG EGIK 1
		SHOG L 1 A_PlaySoundEx("weapons/shotguncock","Weapon",0)
		SHOG M 0 A_FireCustomMissile("ShellCasingSpawner", -4, 0, 0, 0)
		SHOG M 0 A_FireCustomMissile("ShellCasingSpawner2", -4, 0, 0, 0)
		SHOG MOQ 1
		SHOG R 2
		SHOG SUWYAA 1
		Goto Ready
	Flash:  
		TNT1 A 1 Bright A_Light1
		TNT1 A 2 Bright A_Light2
		TNT1 A 1 Bright A_Light1
		TNT1 A 1 Bright A_Light0
		Stop
	AltFire:
		SHOG A 0 A_JumpIfInventory("AEShell",2,1)
		Goto Ready
		SHOG A 0 A_GunFlash
		SHOG A 0 A_AlertMonsters
		SHOG A 0 A_PlaySoundEx("weapons/shotgunfire","Body",0)
		SHOG A 0 A_PlaySound("psychic/thunder3",CHAN_WEAPON,1.0,0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,5,8)
		//SHOF A 0 A_JumpIfInventory("PowerEconomizer",1,3)
		//TNT1 A 0 A_JumpIfInventory("InfiniteAmmo",1,2)
		SHOF A 0 A_TakeInventory("AEShell",2,1) //New flag as of 2.5, which means we dont need the above. Just add 1 and
		SHOF A 0 Bright //A_FireBullets(7,7,20,7,"ElectricBulletPuff",1) //it checks to ensure it's a legit ammo type.
		SHOF A 1 Bright A_FireCustomMissile("PsychLightning",0,1,7)
		SHOF A 1 Bright A_FireCustomMissile("PsychLightning",0,0,8)
		TNT1 A 0 A_SetPitch(pitch-6)
		SHOF A 0 Bright A_JumpIfInventory("PowerQuickFire",1,"PostFireQuick")
		Goto PostFire
	}
}
 
Actor ShellCasingSpawner
{
	Radius 1
	Height 1
	Speed 18
	PROJECTILE
	States
	{
	Spawn:
		TNT1 A 1
		TNT1 A 0 A_Die
		Goto Death
	Death:
		TNT1 A 0 A_CustomMissile("ShotgunCasing",-8,8,random(-60,-80),2,random(30,40))
		Stop
	}
}
 
Actor ShellCasingSpawner2 : ShellCasingSpawner
{
	States
	{
	Spawn:
		TNT1 A 1
		TNT1 A 0 A_Die
		Goto Death
	Death:
		TNT1 A 0 A_CustomMissile("ShotgunCasing",-9,5,random(-60,-80),2,random(30,40))
		Stop
	}
}
 
Actor ShellCasing
{
	Scale 0.5
	Radius 3
	Height 3
	Speed 5
	Mass 5
	BounceFactor 0.4
	-NOBLOCKMAP +DROPOFF +MISSILE +NOTELEPORT +FLOORCLIP
	+THRUACTORS
	+FORCEXYBILLBOARD
	BounceType "Doom"
	SeeSound   "weapons/shotguncasing"
	DeathSound "weapons/shotguncasing"
	States
	{
	Spawn:
		CAS2 A 0
		CAS2 A 0 A_StopSoundEx("Voice")
		CAS3 D 3
		CAS2 A 0 A_ChangeFlag(NOCLIP,0)
		CAS3 EEEFFFGGGHHHAAABBBCCCDDD 1 A_JumpIf(waterlevel == 3, "Water")
		Goto Spawn+4
	Death:
		CAS3 K 0
		CAS3 K 0 A_Jump(128,22)
		CAS3 I 100
		CAS3 IIIIIIIIIIIIIIIIIIII 1 A_FadeOut(0.05)
		Stop
		CAS3 J 100
		CAS3 JJJJJJJJJJJJJJJJJJJJ 1 A_FadeOut(0.05)
		Stop
	Water:
		TNT1 A 0
		Stop
	}
}
 
 
Actor PsychLightning : FastProjectile
{
	var int user_angle;
	Height 8
	Radius 6
	Damage 20
	Speed 150
	RenderStyle Add
	Alpha 0.8
	+NODAMAGETHRUST
	+EXTREMEDEATH
	+DONTREFLECT
	DeathSound "psychic/thunder3"
	DamageType "Electric"
	States
	{
	Spawn:
		TNT1 A 1 
		Loop
	Death:
		TNT1 AAAAA 0 A_SpawnItemEx("PsychLightningSpark",0,0,0,frandom(0.6,2.5),0,frandom(1.5,-1.5),random(0,359),SXF_NOCHECKPOSITION,64)
		ZAP1 A 2 Bright
		ZAP1 ABCD 2 Bright
		ZAP1 E 2 Bright A_SetTranslucent(0.40, 1)
		ZAP1 F 2 Bright A_SetTranslucent(0.55, 1)
		ZAP1 E 2 Bright A_SetTranslucent(0.30, 1)
		ZAP1 D 2 Bright A_SetTranslucent(0.10, 1)
		Stop
	Crash:
	XDeath:
		TNT1 A 0 A_SetUserVar("user_angle",0)
	Splitter:
		TESL E 0 A_SpawnItemEx("TeslaTracer1",0,0,0,100,0,0,user_angle,SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_SetUserVar("user_angle",user_angle+20)
		TNT1 A 0 A_JumpIf(user_angle>=360,1)
		Loop
		TNT1 A 0
		Goto Death
	}
}

 
Actor PsychLightningSpark
{
	Translation "0:255=%[0,0,0]:[0.75,0.75,2.0]"
	+NOINTERACTION
	Scale 0.18
	RenderStyle Add
	Alpha 1.0
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Jump(256,"S1","S2","S3","S4","S5","S6","S7","S8")
	S1:	X079 A 0	
	Goto Perform
	S2:	X079 B 0	
	Goto Perform
	S3:	X079 C 0	
	Goto Perform
	S4:	X079 D 0	
	Goto Perform
	S5:	X079 E 0	
	Goto Perform
	S6:	X079 F 0	
	Goto Perform
	S7:	X079 G 0	
	Goto Perform
	S8: X079 H 0	
	Goto Perform
	Perform:
		"####" "#" 1 Bright A_SetScale(ScaleX+0.005)
		"####" "#" 0 A_FadeOut(0.05)
		Loop
	}
}

 
Actor TeslaTracer1 : FastProjectile
{
	var int user_angle;
	Speed 85
	Damage 2
	Radius 8
	Height 6
	DamageType "Electric"
	+DONTREFLECT
	+STRIFEDAMAGE
	+EXTREMEDEATH
	+NOCLIP
	DeathSound ""
	RenderStyle Add
	States
	{
	Spawn:
		TNT1 A 1 
		TNT1 A 1 A_ChangeFlag("NoClip",0)
		Stop
	Death:
		TNT1 A 1
		Stop
	XDeath:
		TESL E 0 A_PlaySound("psychic/thunder2")
		TNT1 A 0 A_SetUserVar("user_angle",0)
	Splitter:
		TESL E 0 A_SpawnItemEx("TeslaTracer2",0,0,0,100,0,0,user_angle,SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_SetUserVar("user_angle",user_angle+20)
		TNT1 A 0 A_JumpIf(user_angle>=360,1)
		Loop
		TNT1 AA 0 A_SpawnItemEx("PsychLightningSpark",0,0,0,frandom(0.3,2.0),0,frandom(1.5,-1.5),random(0,359),SXF_NOCHECKPOSITION,64)
		ZAP1 ABCD 2 Bright
		ZAP1 E 2 Bright A_SetTranslucent(0.40, 1)
		ZAP1 F 2 Bright A_SetTranslucent(0.55, 1)
		ZAP1 E 2 Bright A_SetTranslucent(0.30, 1)
		ZAP1 D 2 Bright A_SetTranslucent(0.10, 1)
		Stop
	}
}
 
Actor TeslaTracer2 : TeslaTracer1
{
	Scale 0.33
	RenderStyle Add
	Damage 3
	Translation "0:255=%[0,0,0]:[0.7,0.7,1.3]"
	States
	{
	XDeath:
		TESL E 0 A_PlaySound("psychic/thunder3")
		TNT1 A 0 A_SetUserVar("user_angle",0)
	Splitter:
		TESL E 0 A_SpawnItemEx("TeslaTracer3",0,0,0,100,0,0,user_angle,SXF_NOCHECKPOSITION|SXF_SETMASTER)
		TNT1 A 0 A_SetUserVar("user_angle",user_angle+20)
		TNT1 A 0 A_JumpIf(user_angle>=360,1)
		Loop
		TNT1 A 0 A_Jump(220,2,3,4,5,6,7)
	Looper:
		HSPL ABCDEFGHI 2 Bright A_FadeOut(0.07)
		Loop
	}
}
 
Actor TeslaTracer3 : TeslaTracer1
{
	Damage 4
	States
	{
	XDeath:
		TNT1 AA 0 A_SpawnItemEx("PsychLightningSpark",0,0,0,frandom(0.3,2.0),0,frandom(1.5,-1.5),random(0,359),SXF_NOCHECKPOSITION,64)
		TESL E 0 A_PlaySound("psychic/thunder2")
		ZAP1 A 2 Bright A_SetTranslucent(0.6, 1)
		ZAP1 B 2 Bright A_SetTranslucent(0.5, 1)
		ZAP1 C 2 Bright A_SetTranslucent(0.4, 1)
		ZAP1 D 2 Bright A_SetTranslucent(0.3, 1)
		ZAP1 E 2 Bright A_SetTranslucent(0.2, 1)
		ZAP1 F 2 Bright A_SetTranslucent(0.1, 1)
		Stop
	}
}


Actor ShellShockerDrop : CustomInventory
{
	Inventory.MaxAmount 1
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedShellShocker",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}
 
Actor DroppedShellShocker
{
	Radius 16
	Height 20
	States
	{
	Spawn:
		SHOP A 15
		TNT1 A 0 A_SpawnItemEx("AEoDShellShockerNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}
 
Actor AEoDShellShockerNoAmmo : AEoDShellShockerItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.PickupMessage "You picked up the Mephisto sawn-off shotgun!"
	Inventory.PickupSound "weapons/mephistopickup"
	States
	{
	Spawn:
		SHOP A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEShell",6,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AECell",20,"Ammo3")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("ShellShockerDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDShellShocker",1)
		TNT1 A 0 A_TakeInventory("AEShell",6)
		TNT1 A 0 A_TakeInventory("AECell",20)
		TNT1 A 0 //ACS_NamedExecute("s799",0,1,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDShellShocker",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,33,0)
		Fail
	Ammo:
		TNT1 A 0 A_JumpIfInventory("AECell",20,"Ammo")
		Goto Ammo2
		TNT1 A 0 A_TakeInventory("AEShell",6)
		TNT1 A 0 A_TakeInventory("AECell",20)
		TNT1 A 0 A_JumpIfInventory("AEoDShellShocker",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("ShellShockerDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDShellShocker",1)
		Stop
	Ammo2:
		TNT1 A 0 A_TakeInventory("AEShell",6)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("ShellShockerDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDShellShocker",1)
		TNT1 A 0 A_TakeInventory("AECell",20)
		Stop
	Ammo3:
		TNT1 A 0 A_TakeInventory("AECell",20)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("ShellShockerDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDShellShocker",1)
		TNT1 A 0 A_TakeInventory("AEShell",6)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

Actor AEoDDesertEagleItem : CustomInventory 6036
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.285
	Inventory.Amount 1
	Inventory.PickupMessage "You got the Desert Eagle."
	Inventory.PickupSound "weapons/pistol/pickup"
	States
	{
	Spawn:
		DEAG K -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDDesertEagle",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("DesertEagleDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDDesertEagle",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,2,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDDesertEagle",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,30,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDDesertEagle",1)
		Stop
	}
}

Actor AEoDDesertEagle : Weapon // 6036
{
	+FLOORCLIP
	+WEAPON.CHEATNOTWEAPON
	+INVENTORY.IGNORESKILL
	+WEAPON.AMMO_OPTIONAL
	+WEAPON.NOAUTOFIRE
	Weapon.AmmoType1 "AENails"
	Weapon.AmmoType2 "AENails"
	Weapon.AmmoGive1 48
	Weapon.AmmoUse1 6
	Weapon.AmmoUse2 12
	Weapon.SelectionOrder 3400
	Inventory.PickupMessage "You got the Desert Eagle."
	Inventory.PickupSound "weapons/pistol/pickup"
	AttackSound "reilsss/weapons/deserteaglefire"
	weapon.upsound "weapons/draw"
	Scale 0.285
	Tag "Desert Eagle"
	States
	{
	Spawn:
		DEAG K 6
		Loop
	Ready: 
		DEAG A 1 A_WeaponReady
		Loop
	Deselect: 
		TNT1 A 0 
		DEAG A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0
		DEAG A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Fire: 
		DEAG A 0 A_JumpIfInventory("AENails",1,1)
		Goto Ready
		TNT1 A 0 A_Light1
		DEAG A 2
		TNT1 A 0 Bright
		TNT1 A 0 A_Light0
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,7.75,9.6)
		DEAG B 0 A_FireBullets(0, 0, 1, 60, "BulletDamagePuff")
		DEAG B 3 A_SetPitch(pitch-6)
		TNT1 A 0 A_SetPitch(pitch+3)
		DEAG C 1 A_FireCustomMissile("RevolverCasingSpawner",-45,0, 0,0)
		DEAG C 2 A_SetPitch(pitch+3)
		DEAG DE 2
		DEAG FGHIJ 2 A_WeaponReady(WRF_NOBOB)
		Goto Ready
	AltFire:
		DEAG A 0 A_JumpIfInventory("AENails",2,1)
		Goto Ready
		TNT1 A 0 A_Light1
		DEAG A 2
		TNT1 A 0 Bright
		TNT1 A 0 A_Light0
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,7.75,9.6)
		DEAG B 0 A_FireBullets(1, 1, 1, 120, "DesertEagleExploPuff")
		DEAG B 3 A_SetPitch(pitch-8)
		DEAG B 0 A_SetPitch(pitch+4)
		DEAG C 1 A_FireCustomMissile("RevolverCasingSpawner",-45,0, 0,0)
		DEAG C 2 A_SetPitch(pitch+4)
		DEAG DEFGH 3
		DEAG IJ 3 A_WeaponReady(WRF_NOBOB)
		Goto Ready
	} 
}

Actor DesertEagleExploPuff : NewExplosionSmall
{
	DamageType "AEBullet"
	+PUFFONACTORS
}



Actor DesertEagleDrop : CustomInventory
{
	Inventory.MaxAmount 1
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedDesertEagle",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

Actor DroppedDesertEagle
{
	Radius 16
	Height 20
	Scale 0.285
	States
	{
	Spawn:
		DEAG K 15
		TNT1 A 0 A_SpawnItemEx("AEoDDesertEagleNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDDesertEagleNoAmmo : AEoDDesertEagleItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.285
	Inventory.Amount 1
	Inventory.PickupMessage "You got the Desert Eagle."
	Inventory.PickupSound "weapons/pistol/pickup"
	States
	{
	Spawn:
		DEAG K -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AENails",48,"Ammo")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("DesertEagleDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDDesertEagle",1)
		TNT1 A 0 A_TakeInventory("AENails",48)
		TNT1 A 0 //ACS_NamedExecute("s799",0,2,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDDesertEagle",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,30,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("AENails",48)
		TNT1 A 0 A_JumpIfInventory("AEoDDesertEagle",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("DesertEagleDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDDesertEagle",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================
Actor AEoDGoldenColtsItem : CustomInventory 6037
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.35
	Inventory.Amount 1
	Inventory.PickupMessage "You got the Golden Colts."
	Inventory.PickupSound "weapons/pistol/pickup"
	States
	{
	Spawn:
		GCLT Q -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDGoldenColts",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("GoldenColtsDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDGoldenColts",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,3,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDGoldenColts",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,26,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDGoldenColts",1)
		Stop
	}
}

Actor AEoDGoldenColts : Weapon // 6037
{
	+FLOORCLIP
	+WEAPON.CHEATNOTWEAPON
	+INVENTORY.IGNORESKILL
	Weapon.AmmoType1 "AEClip"
	Weapon.AmmoType2 "AEClip"
	Weapon.AmmoGive1 40
	Weapon.AmmoUse1 4
	Weapon.AmmoUse2 4
	Weapon.SelectionOrder 7000
	Inventory.PickupMessage "You got the Golden Colts."
	Inventory.PickupSound "weapons/pistol/pickup"
	AttackSound "reilsss/weapons/pistolfire2"
	weapon.upsound "weapons/draw"
	Scale 0.35
	Tag "Golden Colts"
	States
	{
	Spawn:
		GCLT Q 6
		Loop
	Ready: 
		GCLT A 1 A_WeaponReady
		Loop
	Deselect: 
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		GCLT A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 //ACS_NamedExecute("s799",0,3,0,0)
		GCLT A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Fire: 
		"----" A 0 A_Light1
		"----" A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,10)
		GCLT H 0 A_FireBullets(1, 1, 1, 25, "BulletDamagePuff")
		"----" A 1 A_SetPitch(pitch+1)
		"----" A 1 A_SetPitch(pitch-1)
		"----" A 0 A_Light0
		GCLT I 2 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		GCLT J 2
		"----" A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-4,10)
		"----" A 0 A_Light1
		GCLT K 0 A_FireBullets(1, 1, 1, 25, "BulletDamagePuff")
		"----" A 1 A_SetPitch(pitch+1)
		"----" A 1 A_SetPitch(pitch-1)
		"----" A 0 A_Light0
		GCLT L 2 A_FireCustomMissile("PistolCasingSpawner",50,0, 0,0)
		GCLT MN 2
		GCLT OP 1
		"----" A 0 A_Refire
		Goto Ready
	AltFire:
		GCLT A 3
		TNT1 A 0 A_Light1
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,10)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-4,10)
		GCLT B 0 A_FireBullets(2, 2, 2, 25, "BulletDamagePuff")
		"----" A 1 A_SetPitch(pitch+2)
		"----" A 1 A_SetPitch(pitch-1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		GCLT C 0 A_FireCustomMissile("PistolCasingSpawner",50,0, 0,0)
		"----" A 2 A_SetPitch(pitch-1)
		GCLT DE 1
		GCLT FG 1
		TNT1 A 0 A_Refire
		Goto Ready
	} 
}

Actor GoldenColtsDrop : CustomInventory
{
	Inventory.MaxAmount 1
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedGoldenColts",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

Actor DroppedGoldenColts
{
	Radius 16
	Height 20
	Scale 0.35
	States
	{
	Spawn:
		GCLT Q 15
		TNT1 A 0 A_SpawnItemEx("AEoDGoldenColtsNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDGoldenColtsNoAmmo : AEoDGoldenColtsItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.35
	Inventory.Amount 1
	Inventory.PickupMessage "You got the Golden Colts."
	Inventory.PickupSound "weapons/pistol/pickup"
	States
	{
	Spawn:
		GCLT Q -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEClip",40,"Ammo")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("GoldenColtsDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDGoldenColts",1)
		TNT1 A 0 A_TakeInventory("AEClip",40)
		TNT1 A 0 //ACS_NamedExecute("s799",0,3,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDGoldenColts",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,26,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("AEClip",40)
		TNT1 A 0 A_JumpIfInventory("AEoDGoldenColts",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("GoldenColtsDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDGoldenColts",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

Actor AEoDMac10Item : CustomInventory 6101
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.PickupMessage "You got a Mac10 SMG." 
	Inventory.PickupSound "reilsss/weappickup/uzi"
	States
	{
	Spawn:
		USMG B -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",1,"Pickup2")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("Mac10Drop",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10Count",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,4,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDMac10")
		TNT1 A 0
		Stop
	Pickup2:
		TNT1 A 0 A_GiveInventory("Mac10Drop",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10Count",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,4,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDMac10")
		TNT1 A 0
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",1,"Pickup2")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,31,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDMac10",1)
		Stop
	}
}

Actor AEoDMac10 : Weapon // 6101
{ 
	+FLOORCLIP
	Inventory.MaxAmount 2 
	Weapon.AmmoType1 "AEClip"
	Weapon.AmmoType2 "AEClip"
	Weapon.AmmoGive1 32
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 1
	Weapon.SelectionOrder 9000
	+INVENTORY.IGNORESKILL
	Inventory.PickupMessage "You got a Mac10 SMG." 
	Inventory.PickupSound "reilsss/weappickup/uzi" 
	weapon.upsound "weapons/draw"
	Tag "Mac 10 SMG"
	States 
	{ 
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("AEoDMac10Pickup",0,0,0,0,0,0,0,0)
		Stop
	Ready:
		TNT1 A 0 A_TakeInventory("Mac10DropCheck",1)
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"Ready2")
		UZI2 G 1 A_WeaponReady
		Loop
	Ready2:
		TNT1 A 0 A_JumpIfInventory("Mac10DropCheck",1,"Ready")
		UZI2 A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"Deselect2")
		UZI2 G 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Deselect2:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		UZI2 A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 //ACS_NamedExecute("s799",0,4,0,0)
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"Select2")
		UZI2 G 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Select2:
		TNT1 A 0 //ACS_NamedExecute("s799",0,4,0,0)
		UZI2 A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Fire:
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"Fire2")
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-8,8),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,7,7)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		UZI2 H 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		UZI2 I 1 Bright //ACS_NamedExecute("s851",0,-10,0,0)
		UZI2 J 1 Bright //ACS_NamedExecute("s851",0,-10,0,0)
		UZI2 K 1
		UZI2 L 1 A_ReFire
		Goto Ready
	Fire2:
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,15,random(-2,2),0)
		UZI2 B 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,15,random(-8,8),0)
		UZI2 C 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",50,0, 0,0)
		UZI2 DE 1 Bright //ACS_NamedExecute("s851",0,-15,0,0)
		UZI2 F 0 A_ReFire
		Goto "Ready2"
	AltFire:
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"AltFire2")
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,25,random(-2,2),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,7,7)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		UZI2 H 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		UZI2 I 1 Bright //ACS_NamedExecute("s851",0,-25,0,0)
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,25,random(-2,2),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,7,7)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		UZI2 H 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		UZI2 I 1 Bright //ACS_NamedExecute("s851",0,-25,0,0)
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,25,random(-2,2),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,7,7)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		UZI2 H 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		UZI2 I 1 Bright //ACS_NamedExecute("s851",0,-25,0,0)
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,25,random(-2,2),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,7,7)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		UZI2 H 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		UZI2 I 1 Bright //ACS_NamedExecute("s851",0,-25,0,0)
		UZI2 G 8
		UZI2 J 0 A_ReFire
		Goto Ready
	AltFire2:
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-2,2),0)
		UZI2 B 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-2,2),0)
		UZI2 C 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",50,0, 0,0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		UZI2 E 1 Bright //ACS_NamedExecute("s851",0,-40,0,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-2,2),0)
		UZI2 B 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-2,2),0)
		UZI2 C 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",50,0, 0,0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		UZI2 E 1 Bright //ACS_NamedExecute("s851",0,-40,0,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-2,2),0)
		UZI2 B 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-2,2),0)
		UZI2 C 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",50,0, 0,0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		UZI2 E 1 Bright //ACS_NamedExecute("s851",0,-40,0,0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-2,2),0)
		UZI2 B 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/uzifire",CHAN_WEAPON,0.7,0)
		TNT1 A 0 A_GunFlash
		TNT1 A 0 //ACS_NamedExecute("s851",0,20,random(-2,2),0)
		UZI2 C 1 Bright A_FireBullets(2,2,1,5,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 A_Recoil(0.04)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-6,6)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",50,0, 0,0)
		UZI2 E 1 Bright //ACS_NamedExecute("s851",0,-40,0,0)
		UZI2 A 8
		UZI2 D 0 A_ReFire
		Goto Ready2
	} 
} 

Actor AEoDMac10Pickup : CustomInventory //6042
{
	Inventory.PickupSound "reilsss/weappickup/uzi" 
	Inventory.PickupMessage "You got the Mac10 SMG!"
	States
	{
	Spawn:
		USMG B -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,4)
		TNT1 A 0 A_GiveInventory("AEoDMac10Count",1)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDMac10")
		TNT1 A 0 A_GiveInventory("AEoDMac10",1)
		TNT1 A 0
		Stop
	}
}

Actor AEoDMac10Count : Inventory { Inventory.MaxAmount 2 }

Actor Mac10DropCheck : Inventory {}

Actor Mac10Drop : CustomInventory
{
	Inventory.MaxAmount 2
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedMac10",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_TakeInventory("AEoDMac10Count",1)
		Stop
	}
}

Actor DroppedMac10
{
	Radius 16
	Height 20
	States
	{
	Spawn:
		USMG B 15
		TNT1 A 0 A_SpawnItemEx("AEoDMac10NoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDMac10NoAmmo : AEoDMac10Item
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.PickupMessage "You got a Mac10 SMG." 
	Inventory.PickupSound "reilsss/weappickup/uzi"
	States
	{
	Spawn:
		USMG B -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEClip",32,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",1,"Pickup2")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("Mac10Drop",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10Count",1)
		TNT1 A 0 A_TakeInventory("AEClip",32)
		TNT1 A 0 //ACS_NamedExecute("s799",0,4,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDMac10")
		TNT1 A 0
		Stop
	Pickup2:
		TNT1 A 0 A_JumpIfInventory("AEClip",32,"Ammo")
		TNT1 A 0 A_GiveInventory("Mac10Drop",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10Count",1)
		TNT1 A 0 A_TakeInventory("AEClip",32)
		TNT1 A 0 //ACS_NamedExecute("s799",0,4,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDMac10")
		TNT1 A 0
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",1,"Pickup2")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,31,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("AEClip",32)
		TNT1 A 0 A_JumpIfInventory("AEoDMac10Count",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10Count",1)
		TNT1 A 0 A_GiveInventory("Mac10Drop",1)
		TNT1 A 0 A_GiveInventory("AEoDMac10",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

Actor AEoDSPASShotgunItem : CustomInventory 6187
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.25
	Inventory.Amount 1
	Inventory.PickupMessage "You got the SPAS Shotgun!"
	Inventory.PickupSound "reilsss/weappickup/shotgun"
	States
	{
	Spawn:
		3SGH A 1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDSPASShotgun",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("SPASShotgunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDSPASShotgun",1)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDSPASShotgun",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,27,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDSPASShotgun",1)
		Stop
	}
}

Actor AEoDSPASShotgun : Weapon
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Weapon.Kickback 10
	Weapon.AmmoType1 "AEShell"
	Weapon.AmmoGive1 16
	Weapon.AmmoUse1 1
	Weapon.SelectionOrder 27000
	Inventory.PickupMessage "You got the SPAS Shotgun!"
	Inventory.PickupSound "reilsss/weappickup/shotgun"
	weapon.upsound "weapons/draw"
	Scale 0.25
	Tag "SPAS Shotgun"
	States
	{
	Spawn:
		3SGH A 1
		Loop
	Ready: 
		3SGN A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		3SGN A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 //ACS_NamedExecute("s799",0,5,0,0)
		3SGN A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Fire:
		3SGN A 0
		3SGN A 0 A_JumpIfInventory("AEShell",1,1)
		Goto Ready
		3SGN A 0 A_GunFlash
		3SGN A 0 A_Recoil(1)
		3SGN A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,4,8)
		3SGN A 0 A_FireBullets(3, 2, 8, 5, "BulletDamagePuff", 1)
		3SGN A 0 //ACS_NamedExecute("s851",0,50,random(-4,4),0)
		3SGN A 2 A_PlaySound("reilsss/weapons/riflefire2", CHAN_WEAPON, 1.0, 0)
		3SGN AA 1 //ACS_NamedExecute("s851",0,-25,0,0)
		3SGN A 5
		3SGN A 0 A_FireCustomMissile("ShotgunCasingSpawnerInverted",-30,0, 0,0)
		3SGN B 5 A_PlaySound("reilsss/weapons/riflereload2", 7, 1.0, 0)
		3SGN C 5
		3SGN B 5
		3SGN A 3 A_ReFire
		Goto Ready
	Flash:
		3SGF A 1 A_Light1
		TNT1 A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,7,8)
		3SGF A 2
		3SGF B 2
		3SGF A 0 A_Light0
		Stop
	}
}

Actor Doom3ShotgunClip : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.Amount 0
	Inventory.MaxAmount 8
	Ammo.BackpackMaxAmount 8
	Ammo.BackpackAmount 0
	Inventory.Icon "IESCA0"
	States
	{
	Spawn:
		TNT1 A 4
		Loop
	}
}

Actor SPASShotgunDrop : CustomInventory
{
	Inventory.MaxAmount 1
	States
	{
	Use:
	   TNT1 A 0
	   TNT1 A 0 A_SpawnItemEx("DroppedSPASShotgun",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
	   Stop
	}
}

Actor DroppedSPASShotgun
{
	Radius 16
	Height 20
	Scale 0.25
	States
	{
	Spawn:
		3SGH A 15
		TNT1 A 0 A_SpawnItemEx("AEoDSPASShotgunNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDSPASShotgunNoAmmo : AEoDSPASShotgunItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.25
	Inventory.Amount 1
	Inventory.PickupMessage "You got the SPAS Shotgun!"
	Inventory.PickupSound "reilsss/weappickup/shotgun"
	States
	{
	Spawn:
		3SGH A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEShell",16,"Ammo")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("SPASShotgunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDSPASShotgun",1)
		TNT1 A 0 A_TakeInventory("AEShell",16)
		TNT1 A 0 //ACS_NamedExecute("s799",0,5,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDSPASShotgun",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,27,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("AEShell",16)
		TNT1 A 0 A_JumpIfInventory("AEoDSPASShotgun",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("SPASShotgunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDSPASShotgun",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

Actor AEoDMP5Item : CustomInventory 6005
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.25
	Inventory.Amount 1
	Inventory.PickupMessage "You got a MP5 SMG."
	Inventory.PickupSound "reilsss/weappickup/uzi"
	States
	{
	Spawn:
		USMG A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDMP5",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("MP5Drop",1)
		TNT1 A 0 A_GiveInventory("AEoDMP5",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,6,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDMP5",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,24,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDMP5",1)
		Stop
	}
}

Actor AEoDMP5  : Weapon // 6005
{ 
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Weapon.AmmoType1 "AEClip"
	Weapon.AmmoType2 "AEClip"
	Weapon.AmmoGive1 40
	Weapon.AmmoUse1 2
	Weapon.AmmoUse2 1
	Weapon.SelectionOrder 26000
	Inventory.PickupMessage "You got a MP5 SMG."
	Inventory.PickupSound "reilsss/weappickup/uzi"
	AttackSound "reilsss/weapons/mp5fire2"
	weapon.upsound "weapons/draw"
	Scale 0.25
	Tag "MP5"
	States
	{
	Spawn:
		USMG A -1
		Loop
	Ready:
		UZIG A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		UZIG A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 //ACS_NamedExecute("s799",0,6,0,0)
		UZIG A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Fire:
		UZIG A 0 A_Light1
		TNT1 A 0 //ACS_NamedExecute("s851",0,30,random(-8,8),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-40,0, 0,0)
		UZIG C 1 Bright A_FireBullets(2,2,1,20,"BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		UZIG BA 1 Bright //ACS_NamedExecute("s851",0,-15,0,0)
		UZIG A 1 A_ReFire
		Goto Ready
	Hold:
		UZIG A 1
		UZIG A 1 A_ReFire
		Goto Ready
	AltFire:
		UZIG A 0 A_JumpIfInventory("PowerQuickFire",1,"AltFireQuick")
		UZIG A 3
		TNT1 A 0 A_Light1
		TNT1 A 0 A_Recoil(0.1)
		TNT1 A 0 //ACS_NamedExecute("s851",0,30,random(-8,8),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		UZIG C 1 Bright A_FireBullets(4,3,1,10,"BulletDamagePuff",1)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-40,0, 0,0)
		UZIG B 1 Bright A_Light0
		UZIG AA 1 //ACS_NamedExecute("s851",0,-15,0,0)
		TNT1 A 0 A_Recoil(0.1)
		TNT1 A 0 //ACS_NamedExecute("s851",0,30,random(-8,8),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		UZIG C 1 Bright A_FireBullets(4,3,1,15,"BulletDamagePuff",1)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-40,0, 0,0)
		UZIG B 1 Bright A_Light0
		UZIG AA 1 //ACS_NamedExecute("s851",0,-15,0,0)
		TNT1 A 0 A_Recoil(0.1)
		TNT1 A 0 //ACS_NamedExecute("s851",0,30,random(-8,8),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		UZIG C 1 Bright A_FireBullets(4,3,1,15,"BulletDamagePuff",1)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-40,0, 0,0)
		UZIG B 1 Bright A_Light0
		UZIG AA 1 //ACS_NamedExecute("s851",0,-15,0,0)
		UZIG A 5 
		UZIG A 1 A_ReFire
		Goto Ready
	AltFireQuick:
		UZIG A 0 A_JumpIfInventory("PowerQuickFire",1,1)
		Goto AltFire
		UZIG A 2
		TNT1 A 0 A_Light1
		TNT1 A 0 A_Recoil(0.1)
		TNT1 A 0 //ACS_NamedExecute("s851",0,30,random(-8,8),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		UZIG C 0 Bright A_FireBullets(4,3,1,15,"BulletDamagePuff",1)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-40,0, 0,0)
		UZIG B 1 Bright A_Light0
		UZIG AA 1 //ACS_NamedExecute("s851",0,-15,0,0)
		TNT1 A 0 A_Recoil(0.1)
		TNT1 A 0 //ACS_NamedExecute("s851",0,30,random(-8,8),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		UZIG C 0 Bright A_FireBullets(4,3,1,15,"BulletDamagePuff",1)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-40,0, 0,0)
		UZIG B 1 Bright A_Light0
		UZIG AA 1 //ACS_NamedExecute("s851",0,-15,0,0)
		TNT1 A 0 A_Recoil(0.1)
		TNT1 A 0 //ACS_NamedExecute("s851",0,30,random(-8,8),0)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4,8)
		UZIG C 0 Bright A_FireBullets(4,3,1,15,"BulletDamagePuff",1)
		TNT1 A 0 A_FireCustomMissile("PistolCasingSpawner",-40,0, 0,0)
		UZIG B 1 Bright A_Light0
		UZIG AA 1 //ACS_NamedExecute("s851",0,-15,0,0)
		UZIG A 2 
		UZIG A 1 A_ReFire
		Goto Ready
	} 
} 

Actor MP5Drop : CustomInventory
{
	Inventory.MaxAmount 1
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedMP5",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

Actor DroppedMP5
{
	Radius 16
	Height 20
	Scale 0.25
	States
	{
	Spawn:
		USMG A 15
		TNT1 A 0 A_SpawnItemEx("AEoDMP5NoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDMP5NoAmmo : AEoDMP5Item
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.25
	Inventory.Amount 1
	Inventory.PickupMessage "You got a MP5 SMG."
	Inventory.PickupSound "reilsss/weappickup/uzi"
	States
	{
	Spawn:
		USMG A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEClip",40,"Ammo")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("MP5Drop",1)
		TNT1 A 0 A_GiveInventory("AEoDMP5",1)
		TNT1 A 0 A_TakeInventory("AEClip",40)
		TNT1 A 0 //ACS_NamedExecute("s799",0,6,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDMP5",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,24,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("AEClip",40)
		TNT1 A 0 A_JumpIfInventory("AEoDMP5",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("MP5Drop",1)
		TNT1 A 0 A_GiveInventory("AEoDMP5",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

Actor AEoDTekbowItem : CustomInventory 6043
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.PickupMessage "You got the Tekbow!"
	Inventory.PickupSound "reilsss/weappickup/crossbow"
	States
	{
	Spawn:
		R012 V -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDTekbow",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("TekbowDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDTekbow",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,7,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDTekbow",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,29,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDTekbow",1)
		Stop
	}
}

Actor AEoDTekbow : Weapon // 6043
{
	+FLOORCLIP
	+WEAPON.NOALERT
	+INVENTORY.IGNORESKILL
	Weapon.AmmoType2 "AECell"
	Weapon.AmmoType1 "AENails"
	Weapon.AmmoGive2 50
	Weapon.AmmoGive1 30
	Weapon.AmmoUse1 3
	Weapon.AmmoUse2 5
	Weapon.SelectionOrder 9500
	Inventory.PickupMessage "You got the ragebow!"
	Inventory.PickupSound "reilsss/weappickup/crossbow"
	weapon.upsound "weapons/draw"
	Tag "Tekbow"
	Scale 1
	States
	{
	Spawn:
		R012 V -1
		Loop
	Deselect: 
		R012 A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		R012 A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Ready:
		R012 A 4 A_WeaponReady
		Loop
	Fire:
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_PlaySound("Rage/Wep/XbowFire", CHAN_WEAPON, 1.0, 0)
/*		TNT1 A 0 A_JumpIfInventory("PowerEconomizer",1,3)
		TNT1 A 0 A_JumpIfInventory("InfiniteAmmo",1,2)*/
		R012 B 2 A_FireCustomMissile("TekbowArrow2", 0, 1, 8, 0) 
		R012 BB 1 
		R012 B 10
		R012 CDEFGH 4
		Goto Ready
	AltFire:
		TNT1 A 0 A_PlaySound("Rage/Wep/XbowFire2", CHAN_WEAPON, 1.0, 0)
/*		TNT1 A 0 A_JumpIfInventory("PowerEconomizer",1,3)  // temporarily removed to later check these jumps
		TNT1 A 0 A_JumpIfInventory("InfiniteAmmo",1,2)*/
		TNT1 A 0 A_AlertMonsters
		R012 B 2 A_FireCustomMissile("TekbowArrow1", 0, 1, 8, 0) 
		R012 BB 1
		R012 B 10
		R012 CDEFGH 4
		Goto Ready

	} 
}

Actor TekbowFireMode : Inventory { Inventory.Amount 0 }

Actor TekbowArrow1 : FastProjectile
{
	Projectile
	+RANDOMIZE
	+NOEXTREMEDEATH
	Radius 4
	Height 6
	Speed 60
	Damage 15
	DamageType "Electric"
	DeathSound "reilsss/weapons/tekbowexplosion"
	Alpha 0.75
	MissileType "TekBowArrow2Trail2"
	MissileHeight 8
	States
	{
	Spawn:
		R012 N 3 bright
		Loop
	Death:
		R012 OPQR 3 Bright A_Explode(random(10,25),80,0,0,1)
		R012 S 0 Bright A_Explode(random(8,16),64,0,0,1)
		R012 S 3 Bright A_FadeOut(0.04)
		R012 T 0 Bright A_Explode(random(8,16),64,0,0,1)
		R012 T 3 Bright A_FadeOut(0.04)
		Goto Death+4
	}
}

Actor TekBowArrow2Trail2
{
	+NOINTERACTION
	Scale 0.16
	RenderStyle Translucent
	Alpha 0.7
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("ShuricaneSpark",0,0,0,frandom(2.0,-2.0),frandom(2.0,-2.0),frandom(2.0,-2.0),0,SXF_NOCHECKPOSITION,210)
		FX04 D 1 Bright A_FadeOut(0.09)
		Wait
	}
}


Actor TekbowArrow2 : FastProjectile
{
	Projectile
	+RANDOMIZE
	+NOEXTREMEDEATH
	+RIPPER	RipperLevel 1
	+NODAMAGETHRUST
	+STRIFEDAMAGE
	Radius 4
	Height 6
	Speed 65
	Damage 10
	DamageType "AEPoison"
	DeathSound "weapons/nailpuff"
	MissileType "TekBowArrowTrail"
	MissileHeight 8
	Alpha 0.75
	States
	{
	Spawn:
		R012 U 3
		Loop
	Death:
		R012 U 2
		TNT1 A 0 A_SpawnItemEx("BulletPuff",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		R012 U 2
		Stop
	}
}

Actor TekBowArrowTrail
{
	+NOINTERACTION
	Scale 0.16
	RenderStyle Translucent
	Alpha 0.7
	States
	{
	Spawn:
		FX04 D 1 Bright A_FadeOut(0.09)
		Wait
	}
}

Actor TekbowDrop : CustomInventory
{
	Inventory.MaxAmount 1
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_SpawnItemEx("DroppedTekbow",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

Actor DroppedTekbow
{
	Radius 16
	Height 20
	States
	{
	Spawn:
		R012 V 15
		TNT1 A 0 A_SpawnItemEx("AEoDTekbowNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDTekbowNoAmmo : AEoDTekbowItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.PickupMessage "You got the Tekbow!"
	Inventory.PickupSound "reilsss/weappickup/crossbow"
	States
	{
	Spawn:
		R012 V -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AENails",30,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AECell",50,"Ammo3")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("TekbowDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDTekbow",1)
		TNT1 A 0 A_TakeInventory("AENails",30)
		TNT1 A 0 A_TakeInventory("AECell",50)
		TNT1 A 0 //ACS_NamedExecute("s799",0,7,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDTekbow",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,29,0)
		Fail
	Ammo:
		TNT1 A 0 A_JumpIfInventory("AECell",50,1)
		Goto Ammo2
		TNT1 A 0 A_TakeInventory("AENails",30)
		TNT1 A 0 A_TakeInventory("AECell",50)
		TNT1 A 0 A_JumpIfInventory("AEoDTekbow",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("TekbowDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDTekbow",1)
		Stop
	Ammo2:
		TNT1 A 0 A_TakeInventory("AENails",30)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("TekbowDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDTekbow",1)
		TNT1 A 0 A_TakeInventory("AECell",50)
		Stop
	Ammo3:
		TNT1 A 0 A_TakeInventory("AECell",50)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("TekbowDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDTekbow",1)
		TNT1 A 0 A_TakeInventory("AENails",30)
		Stop
	}
}


//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================
Actor AEoDFlareGunItem : CustomInventory 6114
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.7
	Inventory.Amount 1
	Inventory.PickupSound "BloodShotgun/Pickup" 
	Inventory.PickupMessage "Picked up a flare gun."
	States
	{
	Spawn:
		FLGN A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",1,"Pickup2")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("FlareGunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGun",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGunCount",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,8,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDFlareGun")
		TNT1 A 0
		Stop
	Pickup2:
		TNT1 A 0 A_GiveInventory("FlareGunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGun",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGunCount",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,8,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDFlareGun")
		TNT1 A 0
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",1,"Pickup2")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,32,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDFlareGun",1)
		Stop
	}
}

Actor AEoDFlareGun : Weapon // 6114
{ 
	+FLOORCLIP
	+WEAPON.CHEATNOTWEAPON
	+INVENTORY.IGNORESKILL
	Weapon.AmmoType "MiniRockets" 
	Weapon.AmmoType2 "MiniRockets"
	Weapon.AmmoGive1 16
	Weapon.AmmoUse 1
	Weapon.AmmoUse2 8
	Weapon.KickBack 15
	Weapon.SelectionOrder 9750
	Scale 0.7
	Inventory.PickupSound "BloodShotgun/Pickup" 
	Inventory.PickupMessage "Picked up a flare gun."
	Weapon.UpSound "weapons/draw"
	Obituary "%o was singed by %k's flare gun."
	Tag "Flare gun"
	States 
	{ 
	Spawn: 
		FLGN A 0
		FLGN A 0 A_SpawnItemEx("AEoDFlareGunPickup",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	Ready:
		TNT1 A 0 A_TakeInventory("FlareGunDropCheck",1)
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"Ready2")
		FLGN B 1 A_WeaponReady
		Loop
	Ready2:
		TNT1 A 0 A_JumpIfInventory("FlareGunDropCheck",1,"Ready")
		FLGN K 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"Deselect2")
		FLGN B 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Deselect2:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		FLGN K 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 //ACS_NamedExecute("s799",0,8,0,0)
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"Select2")
		FLGN B 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Select2:
		TNT1 A 0 //ACS_NamedExecute("s799",0,8,0,0)
		FLGN K 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Fire: 
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"Fire2")
		FLGN C 3
		FLGN D 0 Bright A_PlayWeaponSound("caleb/flare")
		FLGN D 0 Bright A_FireCustomMissile("FlareGunShot",0,1,8,2)
		FLGN D 3 Bright A_GunFlash
		FLGN E 3 Bright
		FLGN FGHIJ 3
		Goto Ready
	Fire2:
		FLGN L 2
		FLGN M 0 Bright A_PlayWeaponSound("caleb/flare")
		FLGN M 0 Bright A_FireCustomMissile("FlareGunShot",0,1,8,2)
		FLGN M 3 Bright A_GunFlash
		FLGN N 2 Bright
		FLGN O 2
		FLGN P 0 Bright A_PlayWeaponSound("caleb/flare")
		FLGN P 0 Bright A_FireCustomMissile("FlareGunShot",0,1,-8,2)
		FLGN P 3 Bright
		FLGN Q 2 Bright
		FLGN RSTUV 2
		Goto Ready

	AltFire:
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"AltFire2")
		FLGN C 3
		FLGN D 0 Bright A_PlayWeaponSound("caleb/flare")
		FLGN D 0 Bright A_SpawnItemEx("FlareGunShotAltPlayer",0,8,(height-20),cos(-pitch)*28,0,sin(-pitch)*28,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		FLGN D 0 Bright A_FireCustomMissile("PrototypeAmmoWaster",0,1,0,2)
		FLGN D 3 A_GunFlash
		FLGN E 3 Bright
		FLGN FGHIJ 3
		Goto Ready
	AltFire2:
		FLGN L 2
		FLGN M 0 Bright A_PlayWeaponSound("caleb/flare")
		FLGN M 0 Bright A_SpawnItemEx("FlareGunShotAltPlayer",0,8,(height-20),cos(-pitch)*28,0,sin(-pitch)*28,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		FLGN M 0 Bright A_FireCustomMissile("PrototypeAmmoWaster",0,1,0,0)
		FLGN M 3 Bright A_GunFlash
		FLGN N 2 Bright
		FLGN O 2
		FLGN P 0 Bright A_PlayWeaponSound("caleb/flare")
		FLGN M 0 Bright A_SpawnItemEx("FlareGunShotAltPlayer",0,-8,(height-20),cos(-pitch)*28,0,sin(-pitch)*28,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		FLGN P 0 Bright A_FireCustomMissile("PrototypeAmmoWaster",0,1,0,0)
		FLGN P 3 Bright
		FLGN Q 2 Bright
		FLGN RSTUV 2
		Goto Ready
	Flash:
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,4)
		FLFL A 4 Bright A_Light2
		FLFL B 3 Bright A_Light1
		FLFL C 3 Bright A_Light0
		Stop
		FLFL A 4 Bright A_Light2
		FLFL B 2 Bright A_Light1
		FLFL C 2 Bright A_Light0
		FLFL D 3 Bright A_Light2
		FLFL E 2 Bright A_Light1
		FLFL F 2 Bright A_Light0
		Stop
	}
}

Actor FlareGunShotAltPlayer
{
	Speed 28
	Damage 6
	Radius 2
	Height 4
	Scale 0.16
	RenderStyle Add
	Alpha 0.8
	PROJECTILE
	DamageType "Fire"
	DeathType "Extreme"
	+EXTREMEDEATH
	+DONTSPLASH
	+NODAMAGETHRUST
	+DONTFALL
	+PAINLESS
	+FORCERADIUSDMG
	DeathSound "LLFireball/Explode"
	States
	{
	Spawn:
		TNT1 AAA 0 A_SpawnItemEx("Q2RocketExtra",0,0,0,1,0,random(-1,3),random(1,360))
		FLAR I 3 Bright
		TNT1 A 0 A_SpawnItemEx("FlareGunShot2",0,0,0,cos(-pitch)*28,2.8,(sin(-pitch)*28),0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		TNT1 A 0 A_SpawnItemEx("FlareGunShot2",0,0,0,cos(-pitch)*28,-2.8,(sin(-pitch)*28),0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		TNT1 A 0 A_SpawnItemEx("FlareGunShot2",0,0,0,cos(-pitch)*28,0,(sin(-pitch)*(28)+2.8),0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		TNT1 A 0 A_SpawnItemEx("FlareGunShot2",0,0,0,cos(-pitch)*28,0,(sin(-pitch)*(28)-2.8),0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		TNT1 A 0 A_SpawnItemEx("FlareGunShot2",0,0,0,cos(-pitch)*28,1,(sin(-pitch)*(28)+1),0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		TNT1 A 0 A_SpawnItemEx("FlareGunShot2",0,0,0,cos(-pitch)*28,1,(sin(-pitch)*(28)-1),0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		TNT1 A 0 A_SpawnItemEx("FlareGunShot2",0,0,0,cos(-pitch)*28,-1,(sin(-pitch)*(28)+1),0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		TNT1 A 0 A_SpawnItemEx("FlareGunShot2",0,0,0,cos(-pitch)*28,-1,(sin(-pitch)*(28)-1),0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
		Stop
	Death:
		TNT1 A 0 Bright A_Explode(320,60,0)
		TNT1 A 1 Bright A_SpawnItemEx("FlareExplosionAlt",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		Stop
	}
}

Actor AEoDFlareGunPickup : CustomInventory //6042
{
	Inventory.PickupSound "BloodShotgun/Pickup" 
	Inventory.PickupMessage "Picked up a flare gun."
	Scale 0.7
	States
	{
	Spawn:
		FLGN A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,4)
		TNT1 A 0 A_GiveInventory("AEoDFlareGunCount",1)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDFlareGun")
		TNT1 A 0 A_GiveInventory("AEoDFlareGun",1)
		TNT1 A 0
		Stop
	}
}

Actor AEoDFlareGunCount : Inventory { Inventory.MaxAmount 2 }

Actor FlareGunDropCheck : Inventory {}

Actor FlareGunDrop : CustomInventory
{
	Inventory.MaxAmount 2
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedFlareGun",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_TakeInventory("AEoDFlareGunCount",1)
		Stop
	}
}

Actor DroppedFlareGun
{
	Radius 16
	Height 20
	Scale 0.7
	States
	{
	Spawn:
		FLGN A 15
		TNT1 A 0 A_SpawnItemEx("AEoDFlareGunNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDFlareGunNoAmmo : AEoDFlareGunItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.7
	Inventory.Amount 1
	Inventory.PickupSound "BloodShotgun/Pickup" 
	Inventory.PickupMessage "Picked up a flare gun."
	States
	{
	Spawn:
		FLGN A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("MiniRockets",16,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",1,"Pickup2")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("FlareGunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGun",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGunCount",1)
		TNT1 A 0 A_TakeInventory("MiniRockets",16)
		TNT1 A 0 //ACS_NamedExecute("s799",0,8,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDFlareGun")
		TNT1 A 0
		Stop
	Pickup2:
		TNT1 A 0 A_JumpIfInventory("MiniRockets",16,"Ammo")
		TNT1 A 0 A_GiveInventory("FlareGunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGun",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGunCount",1)
		TNT1 A 0 A_TakeInventory("MiniRockets",16)
		TNT1 A 0 //ACS_NamedExecute("s799",0,8,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDFlareGun")
		TNT1 A 0
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",1,"Pickup2")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,32,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("MiniRockets",16)
		TNT1 A 0 A_JumpIfInventory("AEoDFlareGunCount",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGunCount",1)
		TNT1 A 0 A_GiveInventory("FlareGunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDFlareGun",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

Actor AEoDCrossbowItem : CustomInventory 6007
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.8
	Inventory.Amount 1
	Inventory.PickupMessage "You got a magic crossbow!"
	Inventory.PickupSound "weaponbuild"
	States
	{
	Spawn:
		R007 L -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDCrossbow",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("CrossbowDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDCrossbow",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,9,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDCrossbow",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,28,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDCrossbow",1)
		Stop
	}
}

Actor AEoDCrossbow : Weapon // 6007
{
	+FLOORCLIP
	+WEAPON.NOALERT
	+WEAPON.CHEATNOTWEAPON
	+INVENTORY.IGNORESKILL
	+FLOATBOB
	Weapon.AmmoType1 "GreenMana"
	Weapon.AmmoGive1 25
	Weapon.AmmoUse1 2
	Weapon.SelectionOrder 8000
	Inventory.PickupMessage "You got a magic crossbow!"
	Inventory.PickupSound "weaponbuild"
	weapon.upsound "weapons/draw"
	Scale 0.8
	Tag "Magic Crossbow"
	States
	{
	Spawn:
		R007 L -1
		Loop
	Deselect: 
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		TNT1 A 0 A_StopSound(6)
		R007 C 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 //ACS_NamedExecute("s799",0,9,0,0)
		R007 C 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Ready:
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_JumpIfInventory("AEoDCrossbowfiremodechecker",1,"Ready2")
		R007 A 4 A_WeaponReady
		Goto Ready+2
	Ready2:
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_JumpIfInventory("AEoDCrossbowfiremodechecker",2,"Ready3")
		TNT1 A 0 A_PlaySound("reilsss/weapons/gasidle1", 6, 0.75, 1)
		R008 ABC 4 A_WeaponReady
		Goto Ready2+3
	Ready3:
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_PlaySound("reilsss/weapons/flameidle2", 6, 1.0, 1)
		R009 ABC 4 A_WeaponReady
		Goto Ready3+2
	Fire:
		TNT1 A 0 A_JumpIfInventory("AEoDCrossbowfiremodechecker",2,"Fire3")
		TNT1 A 0 A_JumpIfInventory("AEoDCrossbowfiremodechecker",1,"Fire2")	
	Fire1:
		TNT1 A 0 A_JumpIfInventory("GreenMana",1,1)
		Goto Ready
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 //ACS_NamedExecute("s851",0,6,random(-4,4),0)
		TNT1 A 0 A_Firecustommissile("CheapAlert2",0,0,0,0)
		TNT1 A 0 A_PlaySound("weapons/bowshoot", CHAN_WEAPON, 1.0, 0)
		R007 B 0 A_FireCustomMissile("CrossbowArrow1", 0, 0, 0, 0) 
		R007 B 0 A_FireCustomMissile("CrossbowArrow1", 5, 0, 0, 0) 
		R007 B 6 A_FireCustomMissile("CrossbowArrow1", -5, 1, 0, 0) 
		TNT1 A 0 //ACS_NamedExecute("s851",0,-6,0,0)
		R007 CD 3
		R007 A 8
		R007 A 5 A_ReFire
		Goto Ready
	Fire2:
		TNT1 A 0 A_JumpIfInventory("GreenMana",2,1)
		Goto Ready2
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 //ACS_NamedExecute("s851",0,6,random(-4,4),0)
		TNT1 A 0 A_Firecustommissile("CheapAlert2",0,0,0,0)
		TNT1 A 0 A_PlaySound("weapons/bowshoot", CHAN_WEAPON, 1.0, 0)
		R008 D 0 A_FireCustomMissile("CrossbowArrow2", -1, 0, 12, 0)
		R008 D 0 A_FireCustomMissile("CrossbowArrow2", 0, 1, 0, 0)
		R008 D 6 A_FireCustomMissile("CrossbowArrow2", 1, 1, -12, 0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,-6,0,0)
		R008 EFGH 3
		R008 AB 4
		R008 C 4
		R008 C 0 A_ReFire
		Goto Ready2
	Fire3:
		TNT1 A 0 A_JumpIfInventory("GreenMana",3,1)
		Goto Ready3
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 //ACS_NamedExecute("s851",0,6,random(-4,4),0)
		TNT1 A 0 A_Firecustommissile("CheapAlert2",0,0,0,0)
		TNT1 A 0 A_PlaySound("diablo2/sorceresscast/firebolt", CHAN_WEAPON, 1.0, 0)
		TNT1 A 0 A_FireCustomMissile("AmmoUser", 0, 1, 0, 0)
		TNT1 A 0 A_FireCustomMissile("AmmoUser", 0, 1, 0, 0)
		R009 D 6 A_FireCustomMissile("NapalmArrow", 0, 1, 0, 0) 	//see MonHexen2.AED
		TNT1 A 0 //ACS_NamedExecute("s851",0,-6,0,0)
		R009 EEGH 3
		R009 AB 4
		R009 C 8
		R009 C 0 A_ReFire
		Goto Ready3
	AltFire:
		BFGN E 0 A_JumpIfInventory("AEoDCrossbowfiremodechecker",2,"AltFire3")
		BFGN E 0 A_JumpIfInventory("AEoDCrossbowfiremodechecker",1,"AltFire2")	
	AltFire1:
		TNT1 A 0 A_GiveInventory("AEoDCrossbowfiremodechecker",1)
		TNT1 A 0 A_StopSound(6)
		R007 A 1 Offset (0, 37)
		//R007 A 1 Offset (0, 43)
		R007 A 1 Offset (0, 49)
		//R007 A 1 Offset (0, 55)
		R007 A 1 Offset (0, 61)
		TNT1 A 8 A_PlaySound("reilsss/weapons/sniperriflereload2", CHAN_WEAPON, 1.0, 0)
		R008 A 1 Offset (0, 61)
		//R008 A 1 Offset (0, 55)
		R008 B 1 Offset (0, 49)
		//R008 C 1 Offset (0, 43)
		R008 C 1 Offset (0, 37)
		Goto Ready
	AltFire2:
		TNT1 A 0 A_GiveInventory("AEoDCrossbowfiremodechecker",1)
		TNT1 A 0 A_StopSound(6)
		R008 A 1 Offset (0, 37)
		//R008 A 1 Offset (0, 43)
		R008 B 1 Offset (0, 49)
		//R008 C 1 Offset (0, 55)
		R008 C 1 Offset (0, 61)
		TNT1 A 8 A_PlaySound("reilsss/weapons/sniperriflereload2", CHAN_WEAPON, 1.0, 0)
		R009 A 1 Offset (0, 61)
		//R009 A 1 Offset (0, 55)
		R009 B 1 Offset (0, 49)
		//R009 C 1 Offset (0, 43)
		R009 C 1 Offset (0, 37)
		Goto Ready
	AltFire3:
		TNT1 A 0 A_TakeInventory("AEoDCrossbowfiremodechecker",20) 
		TNT1 A 0 A_StopSound(6)
		R009 A 1 Offset (0, 37)
		//R009 A 1 Offset (0, 43)
		R009 B 1 Offset (0, 49)
		//R009 C 1 Offset (0, 55)
		R009 C 1 Offset (0, 61)
		TNT1 A 8 A_PlaySound("reilsss/weapons/sniperriflereload2", CHAN_WEAPON, 1.0, 0)
		R007 A 1 Offset (0, 61)
		//R007 A 1 Offset (0, 55)
		R007 A 1 Offset (0, 49)
		//R007 A 1 Offset (0, 43)
		R007 A 1 Offset (0, 37)
		Goto Ready
	} 
}

Actor AEoDCrossbowfiremodechecker : Inventory
{
	Inventory.Amount 0
	Inventory.MaxAmount 3
}

Actor CrossbowArrow1 : FastProjectile
{
	Projectile
	+RANDOMIZE
	Radius 4
	Height 4
	Speed 50
	Damage 11
	Scale 0.5
	MissileType "TekBowArrowTrail"
	MissileHeight 8
	States
	{
	Spawn:
		ARRW A 3 bright
		Loop
	Death:
		ARRW A 0 A_PlaySound("archer/arrowcrash1")
		ARRW A 10
		ARRW A 1 A_FadeOut(0.015)
		Wait
	}
}

Actor CrossbowArrow2 : CrossbowFX2
{
	Radius 3
	Height 4
	Damage 20
	+SEEKERMISSILE
	DamageType "AEMagic"
	States
	{
	Spawn:
		FX03 B 0 Bright A_SeekerMissile(4,4,1)
		FX03 B 1 Bright A_SpawnItemEx("CrossbowFX4New",random2[BoltSpark]()*0.015625,random2[BoltSpark]()*0.015625,0,0,0,0,0,SXF_ABSOLUTEPOSITION, 50)
		Loop
	}
}

Actor CrossbowFX4New : CrossbowFX4 { +DONTSPLASH }

Actor PoisonCrossbowArrowTrail
{
	Height 4
	Radius 4
	Speed 0
	Damage 1
	PoisonDamage 30
	DamageType "Pestilence"
	Alpha 0.80
	Scale 0.55
	RenderStyle Add
	Translation "4:4=112:112","80:111=112:127"
	PROJECTILE
	+RIPPER	RipperLevel 1
	+BLOODLESSIMPACT
	+NODAMAGETHRUST
	States
	{
	Spawn:
		WPXS A 0
		WPXS A 0 A_Jump(230,7,19,31,43,55,67,79)
		WPXS AAABBBCCCDDDEEEFFFGGGHHHIIIJJJKKKLLLMMMNNNOOOPPPQQQRRRSSSTTTUUUVVVWWWXXXYYYZZZ 1 A_FadeOut(0.01)
		WPXZ AAABBBCCC 1 A_FadeOut(0.01)
		Stop
	}
}

Actor CrossbowArrow2Extra
{
	Projectile
	Speed 0
	+NOCLIP
	-NOGRAVITY
	Gravity 0.6
	Damage 0
	Scale 0.15
	RenderStyle Add
	States
	{
	Spawn:
		CFIR FFF 1 Bright
		TNT1 A 0 A_jump(140,1,2,3)
		CFIR FFFFFF 1 Bright	
		CFIR A 1 A_FadeOut(0.1)
		Wait
	}
}

Actor CrossbowArrow2Trail
{
	+NOINTERACTION
	RenderStyle Add
	Alpha 0.5
	States
	{
	Spawn:
		R008 NNNOOO 2 BRIGHT
		Stop
	}  
}

Actor CrossbowArrow2b
{
	Projectile
	+RANDOMIZE
	Radius 11
	Height 8
	Speed 35
	Damage 2
	RenderStyle Add
	Alpha 0.75
	States
	{
	Spawn:
		R008 I 3 bright
		Loop
	Death:
		TNT1 A 0 A_PlaySound("reilsss/weapons/magicrossbowexplosion", 7, 0.5, 1)
		R008 JKL 8 bright
		Stop
	}
}

Actor CrossbowArrow3
{
	Projectile
	+RANDOMIZE
	+NODAMAGETHRUST
	Radius 11
	Height 8
	Speed 35
	Damage 10
	DamageType Fire
	DeathSound "reilsss/weapons/magicrossbowexplosion2"
	RenderStyle Add
	Alpha 0.75
	States
	{
	Spawn:
		TNT1 A 0
		R009 IIIJJJ 1 Bright A_SpawnItemEx("CrossbowArrow3Trail",0,random(3,-3),random(3,-3),0,0,0.8,0,0)
		Loop
	Death:
		TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("RubyWandExtra",0,0,0,random(1,4),random(1,4),random(1,4),random(0,359),SXF_TRANSFERTRANSLATION)
		FRFX HIJ 2 
		FRFX J 0 A_CustomMissile ("DropFire",0,0,0,0)	//see WepClass5.AED
		FRFX KLM 2
		FRFX NO 2 Bright
		Stop
	}
}

Actor CrossbowArrow3Trail
{
	+NOINTERACTION
	Scale 0.3
	RenderStyle Add
	States
	{
	Spawn:
		PYFX A 3 Bright A_FadeOut(0.07)
		Loop
	}
}

Actor CrossbowDrop : CustomInventory
{
	Inventory.MaxAmount 1
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_SpawnItemEx("DroppedCrossbow",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

Actor DroppedCrossbow
{
	Radius 16
	Height 20
	Scale 0.8
	States
	{
	Spawn:
		R007 L 15
		TNT1 A 0 A_SpawnItemEx("AEoDCrossbowNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDCrossbowNoAmmo : AEoDCrossbowItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.8
	Inventory.Amount 1
	Inventory.PickupMessage "You got a magic crossbow!"
	Inventory.PickupSound "weaponbuild"
	States
	{
	Spawn:
		R007 L -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("GreenMana",30,"Ammo")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("CrossbowDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDCrossbow",1)
		TNT1 A 0 A_TakeInventory("GreenMana",30)
		TNT1 A 0 //ACS_NamedExecute("s799",0,9,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDCrossbow",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,28,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("GreenMana",30)
		TNT1 A 0 A_JumpIfInventory("AEoDCrossbow",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("CrossbowDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDCrossbow",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

Actor AEoDAssaultShotgunItem : CustomInventory 6068
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.15
	Inventory.Amount 1
	Inventory.PickupMessage "You got the assault shotgun!"
	Inventory.PickupSound "weapons/stroggarmsaw/pickup"
	States
	{
	Spawn:
		WSGN A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDAssaultShotgun",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("AssaultShotgunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDAssaultShotgun",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,13,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDAssaultShotgun",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,25,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDAssaultShotgun",1)
		Stop
	}
}

ACTOR AEoDAssaultShotgun : Weapon
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	+WEAPON.AMMO_OPTIONAL
	+CHEATNOTWEAPON
	Weapon.Kickback 10
	Weapon.AmmoType1 "Doom3ShotgunClip"
	Weapon.AmmoType2 "AEShell"
	Weapon.AmmoGive1 0
	Weapon.AmmoGive2 16
	Weapon.AmmoUse1 0
	Weapon.SelectionOrder 8500
	Inventory.PickupMessage "You got the assault Shotgun!"
	Inventory.PickupSound "weapons/stroggarmsaw/pickup"
	weapon.upsound "weapons/draw"
	Scale 0.15
	Tag "Assault shotgun"
	States
	{
	Spawn:
		WSGN A -1
		Loop
	Ready: 
		Q4SG A 1 A_WeaponReady(WRF_ALLOWRELOAD)
		Loop
	Deselect:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		Q4SG A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 //ACS_NamedExecute("s799",0,13,0,0)
		Q4SG A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Fire: //Weapon Fire
		TNT1 A 0 A_TakeInventory("ShotgunReloadCheck",1)
		TNT1 A 0 A_JumpIfInventory("Doom3ShotgunClip", 1, 4)
		TNT1 A 0 A_JumpIfInventory("AEShell", 1, 2)
		TNT1 A 0
		Goto Ready
		TNT1 A 0
		Goto AltFire+1
		TNT1 A 0 /*Offset(1,32)*/ A_WeaponReady(WRF_NOFIRE)
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_Recoil(1)
		TNT1 A 0 A_JumpIfInventory("PowerEconomizer",1,2)
		TNT1 A 0 A_TakeInventory("Doom3ShotgunClip",1)
		TNT1 A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,4,8)
		TNT1 A 0 A_FireBullets(3, 2, 11, 5, "BulletDamagePuff", 0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,50,random(-4,4),0)
		Q4SG B 2 Bright A_PlaySound("weapons/shotgun/fire", CHAN_WEAPON, 1.0, 0)
		Q4SG CCC 1 Bright //ACS_NamedExecute("s851",0,-25,0,0)
		Q4SG D 3
		TNT1 A 0 A_FireCustomMissile("ShotgunCasingSpawnerInverted",-35,0, 0,0)
		Q4SG D 4 A_PlaySound("reilsss/weapons/riflereload2", 7, 1.0, 0)
		Q4SG EF 3
		Q4SG GG 2
		Q4SG A 3 A_ReFire
		Goto Ready
		
	AltFire:
	Reload:
		TNT1 A 0 A_JumpIfInventory("ShotgunReloadCheck",1,"Fire") //Line 1
		TNT1 A 0 A_JumpIfInventory("Doom3ShotgunClip", 8, "Ready") //Line 2
		TNT1 A 0 A_JumpIfInventory("AEShell", 1, 1) //Line 3
		Goto Ready
		Q4SG A 1 Offset(0,32) A_GiveInventory("ShotgunReloadCheck",1) //Line 4
		Q4SG A 1 Offset(5,35)
		Q4SG A 1 Offset(10,40)
		Q4SG A 1 Offset(15,45)
		Q4SG A 1 Offset(20,50)
		Q4SG A 1 Offset(25,55)
		Q4SG A 1 Offset(30,60)
		Q4SG A 1 Offset(35,65)
		Q4SG A 1 Offset(40,70)
		Q4SG A 1 Offset(45,80)
		Q4SG A 1 Offset(50,90)
		Q4SG A 1 Offset(50,100)
		//Reload
		TNT1 A 0 A_JumpIfInventory("Doom3ShotgunClip",1,1) //Line 16 //If no ammo in clip go to uninterruptible sequence
		Goto ReloadNoInterruption
	StartReload:
		TNT1 A 0 //Line17 //Start of Reload
		TNT1 A 0 A_JumpIfInventory("Doom3ShotgunClip", 8, 18) //Line 18
		TNT1 A 0 A_JumpIfInventory("AEShell",1,2) //Line 19
		Q4SG A 1 Offset(50,100) A_WeaponReady(WRF_NOBOB) //Line 20
		Q4SG A 2 Offset(50,95) A_WeaponReady(WRF_NOBOB) //Line 21
		Q4SG A 1 Offset(50,90) A_WeaponReady(WRF_NOBOB) //Line 22
		Q4SG A 2 Offset(50,88) A_WeaponReady(WRF_NOBOB) //Line 23
		Q4SG A 1 Offset(50,86) A_WeaponReady(WRF_NOBOB) //Line 24	
	ContinueReload:
		Q4SG A 2 Offset(50,84) A_PlayWeaponSound("weapons/shotgun/in") //Line 25
		TNT1 A 0 A_TakeInventory("AEShell",1) //Line 26
		Q4SG A 1 Offset(50,82) A_GiveInventory("Doom3ShotgunClip",1) //Line 27
		Q4SG A 2 Offset(50,80) A_WeaponReady(WRF_NOBOB) //Line 28
		Q4SG A 1 Offset(50,88) A_WeaponReady(WRF_NOBOB) //Line 29
		Q4SG A 2 Offset(50,95) A_WeaponReady(WRF_NOBOB) //Line 30
		Q4SG A 1 Offset(50,100) A_WeaponReady(WRF_NOBOB) //Line 31
		TNT1 A 0 A_JumpIfInventory("Doom3ShotgunClip",8,4) //Line 32 //If Clip full stop
		TNT1 A 0 A_JumpIfInventory("AEShell",1,2) //Line 33 //If still ammo there reload again
		TNT1 A 0 //Line 34
		Goto ReloadFinished //Jump to Reload Finished
		TNT1 A 0 //Line 35
		Goto StartReload //Jump to Start Reload
	ReloadFinished:
		TNT1 A 0 //Line 36 Reload Finished
		Q4SG A 1 Offset(50,100) //Line 37
		Q4SG A 1 Offset(50,90) //Line 38
		Q4SG A 1 Offset(45,80) //Line 39
		Q4SG A 1 Offset(40,70) //Line 40
		Q4SG A 1 Offset(35,65) //Line 41
		Q4SG A 1 Offset(30,60) //Line 42
		Q4SG A 1 Offset(25,55) //Line 43
		Q4SG A 1 Offset(20,50) //Line 44
		Q4SG A 2 Offset(15,45) A_PlaySound("reilsss/weapons/riflereload2", 7, 1.0, 0) //Line 45
		Q4SG A 2 Offset(10,40) //Line 46
		Q4SG A 2 Offset(5,35) //Line 47
		Q4SG A 2 Offset(0,32) A_WeaponReady(WRF_NOBOB|WRF_NOFIRE) //Line 48
		Q4SG A 0 A_TakeInventory("ShotgunReloadCheck",1) //Line 49
		Goto Ready
	ReloadNoInterruption:
		TNT1 A 0 A_JumpIfInventory("Doom3ShotgunClip", 8, "Ready") //Line 50	// uninterruptible sequence prevents endless looping if
		TNT1 A 0 A_JumpIfInventory("AEShell",1,2) //Line 51			// fire/alt-fire button is held down and there's no
		Q4SG A 1 Offset(50,100) //Line 52    // ammo in the clip
		Q4SG A 2 Offset(50,95) //Line 53
		Q4SG A 1 Offset(50,90) //Line 54
		Q4SG A 2 Offset(50,88) //Line 55
		Q4SG A 1 Offset(50,86) //Line 56
		Goto ContinueReload
	Flash:
		TNT1 A 1 A_Light1
		TNT1 A 0 A_FireCustomMissile("GunSmokeSpawner",0,0,7,8)
		TNT1 A 2
		TNT1 A 2
		TNT1 A 0 A_Light0
		stop
	}
}

Actor ShotgunReloadCheck : Inventory {}

Actor AssaultShotgunDrop : CustomInventory
{
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedAssaultShotgun",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

Actor DroppedAssaultShotgun
{
	Radius 16
	Height 20
	Scale 0.15
	States
	{
	Spawn:
		WSGN A 15
		TNT1 A 0 A_SpawnItemEx("AEoDAssaultShotgunNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDAssaultShotgunNoAmmo : AEoDAssaultShotgunItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.15
	Inventory.Amount 1
	Inventory.PickupMessage "You got the assault shotgun!"
	Inventory.PickupSound "weapons/stroggarmsaw/pickup"
	States
	{
	Spawn:
		WSGN A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEShell",16,"Ammo")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("AssaultShotgunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDAssaultShotgun",1)
		TNT1 A 0 A_TakeInventory("AEShell",16)
		TNT1 A 0 //ACS_NamedExecute("s799",0,13,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDAssaultShotgun",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,25,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("AEShell",16)
		TNT1 A 0 A_JumpIfInventory("AEoDAssaultShotgun",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("AssaultShotgunDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDAssaultShotgun",1)
		Stop
	}
}

Actor ElfBall1
{
	Projectile
	Radius 2
	Height 2
	Speed 35
	Damage 6
	DeathSound "reilsss/weapons/redwandexplosion"
	RenderStyle Add
	Translation "112:127=176:191"
	DamageType "AEMagic"
	Scale 0.4
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX A 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0)
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX B 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0,0)
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX C 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0)
		Goto Spawn+1
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("ElfBall1Extra",0,0,0,random(1,4),random(1,4),random(1,4),random(0,359),SXF_TRANSFERTRANSLATION)
		FSFX DEFGHIJKLM 3 bright
		stop
	}
}

Actor ElfBall2 : ElfBall1
{
	States
	{
	Spawn:
		FSFX A 2
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX B 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0)
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX C 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0,0)
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX A 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0)
		Goto Spawn+1
	}
}

Actor ElfBall3 : ElfBall1
{
	States
	{
	Spawn:
		FSFX A 3
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX B 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0)
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX C 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0,0)
		TNT1 A 0 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,-1,0,0,0)
		FSFX A 3 Bright A_SpawnItemEx("ElfBall1Extra2",0,0,0,0,1,0,0,0)
		Goto Spawn+1
	}
}

Actor ElfBall1Extra
{
	Projectile
	Speed 0
	+NOCLIP
	-NOGRAVITY
	Gravity 0.6
	Damage 0
	Scale 0.09
	RenderStyle Add
	Translation "112:127=176:191"
	States
	{
	Spawn:
		CSSF FFF 1 Bright
		TNT1 A 0 A_jump(140,1,2,3)
		CSSF FFFFFF 1 Bright	
		CSSF F 1 A_FadeOut(0.2)
		Wait
	}
}

Actor ElfBall1Extra2 
{
	+NOINTERACTION
	RenderStyle Add
	Translation "112:127=176:191"
	Scale 0.12
	States
	{
	Spawn:
		TNT1 A 0
		CSSF F 1 Bright A_FadeOut(0.06)
		Loop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

//Crawl Palanax (Reilsss)
//-------------

Actor AEoDBerettaItem : CustomInventory 6129
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.45
	Inventory.Amount 1
	Inventory.PickupMessage "You got a 9mm Beretta Pistol." 
	Inventory.PickupSound "weapons/pistol/pickup"
	States
	{
	Spawn:
		WBER A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",1,"Pickup2")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("BerettaDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDBeretta",1)
		TNT1 A 0 A_GiveInventory("AEoDBerettaCount",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,10,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDBeretta")
		TNT1 A 0
		Stop
	Pickup2:
		TNT1 A 0 A_GiveInventory("BerettaDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDBeretta",1)
		TNT1 A 0 A_GiveInventory("AEoDBerettaCount",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,10,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDBeretta")
		TNT1 A 0
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",1,"Pickup2")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,21,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDBeretta",1)
		Stop
	}
}

Actor AEoDBeretta : Weapon // 6129
{ 
	+FLOORCLIP
	+WEAPON.CHEATNOTWEAPON
	+INVENTORY.IGNORESKILL
	Weapon.AmmoType1 "AEClip"
	Weapon.AmmoType2 "AEClip"
	Weapon.AmmoGive1 24
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 1
	Weapon.SelectionOrder 22500
	Inventory.PickupMessage "You got a 9mm Beretta Pistol." 
	Inventory.PickupSound "weapons/pistol/pickup"
	//AttackSound "reilsss/weapons/pistolfire1"
	weapon.upsound "weapons/draw"
	Tag "Beretta"
	States 
	{ 
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("AEoDBerettaPickup",0,0,0,0,0,0,0,0)
		Stop
	Ready:
		TNT1 A 0 A_TakeInventory("BerettaDropCheck",1)
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"Ready2")
		BER1 A 1 A_WeaponReady
		Loop
	Ready2:
		TNT1 A 0 A_JumpIfInventory("BerettaDropCheck",1,"Ready")
		BER2 A 1 A_WeaponReady
		Loop
	Deselect:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"Deselect2")
		BER1 A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Deselect2:
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		BER2 A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 A_JumpIfInventory("Weapon3Count",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,10,0,0)
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"Select2")
		BER1 A 1 A_Raise
		TNT1 AA 0 A_Raise
		Goto Select+2
	Select2:
		TNT1 A 0 //ACS_NamedExecute("s799",0,10,0,0)
		BER2 A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Fire:
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"Fire2")
		BER1 A 3
		TNT1 A 0 A_Light1
		TNT1 A 0 //ACS_NamedExecute("s851",0,12,random(-4,4),0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/pistolfire1",1,0.7)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,6.7,9)
		BER1 B 2 A_FireBullets(4, 3, 1, 8, "BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 //ACS_NamedExecute("s851",0,-12,0,0)
		BER1 C 2 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		//BER1 C 2 A_FireCustomMissile("PistolCasing",-45+random(-10,10),0,2,4)
		BER1 DE 2
		BER1 F 1
		BER1 GH 2
		Goto Ready
	Fire2:
		BER2 A 0 A_JumpIfInventory("AEClip",2,"Fire2OK")
		BER2 A 0 A_CheckReload
		Goto Deselect
	Fire2OK:
		BER2 A 2
		TNT1 A 0 Bright
		TNT1 A 0 A_Light1
		TNT1 A 0 //ACS_NamedExecute("s851",0,12,random(-4,4),0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/pistolfire1",1,0.7)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,6.7,8)
		BER2 B 2 A_FireBullets(4, 3, 1, 9, "BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 //ACS_NamedExecute("s851",0,-12,0,0)
		//BER2 C 2 A_FireCustomMissile("PistolCasing",-45+random(-10,10),0,2,4)
		BER2 C 2 A_FireCustomMissile("PistolCasingSpawner",-50,0, 0,0)
		BER2 D 2
		TNT1 A 0 Bright
		TNT1 A 0 //ACS_NamedExecute("s851",0,12,random(-4,4),0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/pistolfire1",1,0.7)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-6.7,8)
		TNT1 A 0 A_Light1
		BER2 E 2 A_FireBullets(4, 3, 1, 9, "BulletDamagePuff",0)
		TNT1 A 0 A_Light0
		TNT1 A 0 //ACS_NamedExecute("s851",0,-12,0,0)
		//A_FireCustomMissile("PistolCasing",-45+random(-10,10),0,2,4)
		BER2 F 2 A_FireCustomMissile("PistolCasingSpawner",50,0, 0,0)
		BER2 GH 2
		BER2 IJ 2
		TNT1 A 0 A_Refire
		Goto "Ready2"
	AltFire:
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"AltFire2")
		BER1 I 1
		TNT1 A 0 A_Light1
		TNT1 A 0 //ACS_NamedExecute("s851",0,12,random(-4,4),0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/pistolfire1",1,0.7)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4.7,6)
		BER1 J 2 A_FireBullets(7, 7, 1, 8, "BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 //ACS_NamedExecute("s851",0,-12,0,0)
		//BER1 K 2 A_FireCustomMissile("PistolCasing",-45+random(-10,10),0,2,4)
		BER1 K 2 A_FireCustomMissile("PistolCasingSpawner",-35,0, 0,-2)
		BER1 LM 1
		BER1 NOP 1
		TNT1 A 0 A_Refire
		BER1 A 3
		Goto Ready
	AltFire2:
		BER2 A 0 A_JumpIfInventory("AEClip",2,"AltFire2OK")
		BER2 A 0 A_CheckReload
		Goto Deselect
	AltFire2OK:
		BER2 K 1
		TNT1 A 0 A_Light1
		TNT1 A 0 Bright
		TNT1 A 0 //ACS_NamedExecute("s851",0,12,random(-4,4),0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/pistolfire1",1,0.7)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,4.7,6)
		BER2 L 2 A_FireBullets(7, 7, 1, 9, "BulletDamagePuff",1)
		TNT1 A 0 A_Light0
		TNT1 A 0 //ACS_NamedExecute("s851",0,-12,0,0)
		//BER2 M 2 A_FireCustomMissile("PistolCasing",-45+random(-10,10),0,2,4)
		BER2 M 2 A_FireCustomMissile("PistolCasingSpawner",-35,0, 0,-2)
		BER2 N 2
		TNT1 A 0 Bright
		TNT1 A 0 A_Light1
		TNT1 A 0 //ACS_NamedExecute("s851",0,12,random(-4,4),0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/pistolfire1",1,0.7)
		TNT1 A 0 A_FireCustomMissile("GunSmallSmokeSpawner",0,0,-4.7,6)
		BER2 O 2 A_FireBullets(7, 7, 1, 9, "BulletDamagePuff",0)
		TNT1 A 0 //ACS_NamedExecute("s851",0,-12,0,0)
		TNT1 A 0 A_Light0
		//BER2 P 2 A_FireCustomMissile("PistolCasing",-45+random(-10,10),0,2,4)
		BER2 P 2 A_FireCustomMissile("PistolCasingSpawner",35,0, 0,-2)
		BER2 QR 1
		BER2 ST 1
		TNT1 A 0 A_Refire
		BER2 K 3
		Goto "Ready2"
	} 
}

Actor AEoDBerettaPickup : CustomInventory
{
	Inventory.PickupSound "reilsss/weappickup/pistol9mm" 
	Inventory.PickupMessage "You got a 9mm Beretta Pistol!"
	Scale 0.3
	States
	{
	Spawn:
		WBER A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,4)
		TNT1 A 0 A_GiveInventory("AEoDBerettaCount",1)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDBeretta")
		TNT1 A 0 A_GiveInventory("AEoDBeretta",1)
		TNT1 A 0
		Stop
	}
}

Actor AEoDBerettaCount : Inventory { Inventory.MaxAmount 2 }

Actor BerettaDrop : CustomInventory
{
	Inventory.MaxAmount 2
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedBeretta",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_TakeInventory("AEoDBerettaCount",1)
		Stop
	}
}

Actor BerettaDropCheck : Inventory {}

Actor DroppedBeretta
{
	Radius 16
	Height 20
	Scale 0.45
	States
	{
	Spawn:
		WBER A 15
		TNT1 A 0 A_SpawnItemEx("AEoDBerettaNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDBerettaNoAmmo : AEoDBerettaItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.45
	Inventory.Amount 1
	Inventory.PickupMessage "You got a 9mm Beretta Pistol." 
	Inventory.PickupSound "weapons/pistol/pickup"
	States
	{
	Spawn:
		WBER A -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AEClip",24,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",1,"Pickup2")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("BerettaDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDBeretta",1)
		TNT1 A 0 A_GiveInventory("AEoDBerettaCount",1)
		TNT1 A 0 A_TakeInventory("AEClip",24)
		TNT1 A 0 //ACS_NamedExecute("s799",0,10,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDBeretta")
		TNT1 A 0
		Stop
	Pickup2:
		TNT1 A 0 A_JumpIfInventory("AEClip",24,"Ammo")
		TNT1 A 0 A_GiveInventory("BerettaDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDBeretta",1)
		TNT1 A 0 A_GiveInventory("AEoDBerettaCount",1)
		TNT1 A 0 A_TakeInventory("AEClip",24)
		TNT1 A 0 //ACS_NamedExecute("s799",0,10,0,0)
		TNT1 A 0 A_JumpIfInventory("NoWeaponSwitch",1,2)
		TNT1 A 0 A_SelectWeapon("AEoDBeretta")
		TNT1 A 0
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",2,"Ammo")
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",1,"Pickup2")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,21,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("AEClip",24)
		TNT1 A 0 A_JumpIfInventory("AEoDBerettaCount",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("AEoDBerettaCount",1)
		TNT1 A 0 A_GiveInventory("BerettaDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDBeretta",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================

//Cult Order (Thanatos)
//----------

Actor AEoDGargoyleWandItem : CustomInventory 6100
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.8
	Inventory.Amount 1
	Inventory.PickupMessage "You got the Gargoyle Wand!"
	Inventory.PickupSound "weaponbuild"
	States
	{
	Spawn:
		R068 D -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDGargoyleWand",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("GargoyleWandDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDGargoyleWand",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,11,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDGargoyleWand",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,23,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDGargoyleWand",1)
		Stop
	}
}

Actor AEoDGargoyleWand : Weapon // 6100
{
	+FLOORCLIP
	+WEAPON.CHEATNOTWEAPON
	+INVENTORY.IGNORESKILL
	+FLOATBOB
	Weapon.AmmoType1 "BlueMana"
	Weapon.AmmoType2 "BlueMana"
	Weapon.AmmoGive1 40
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 2
	Weapon.SelectionOrder 22499
	Inventory.PickupMessage "You got the Gargoyle Wand!"
	Inventory.PickupSound "weaponbuild"
	weapon.upsound "weapons/draw"
	Scale 0.8
	Tag "Gargoyle Wand"
	States
	{
	Spawn:
		R068 D -1
		Loop
	Deselect: 
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		R068 A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 A_JumpIfInventory("Weapon3Count",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,11,0,0)
		R068 A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Ready: 
		R068 A 1 A_WeaponReady
		Loop
	Fire: 
		TNT1 A 0 A_Light1
		TNT1 A 0 Bright
		TNT1 A 0 A_Light0
		TNT1 A 0 ////ACS_NamedExecute("s851",0,6,random(-4,4),0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/gargoylewandfire", CHAN_WEAPON, 1.0, 0)
		R068 B 5 A_FireCustomMissile("GargoyleBall", 0, 1, 0, 0) 
		TNT1 A 0 ////ACS_NamedExecute("s851",0,-6,0,0)
		R068 C 4
		R068 A 4
		Goto Ready
	AltFire:
		TNT1 A 0 A_Light1
		R068 A 3
		TNT1 A 0 Bright
		TNT1 A 0 A_Light0
		TNT1 A 0 ////ACS_NamedExecute("s851",0,6,random(-4,4),0)
		TNT1 A 0 A_PlaySound("reilsss/weapons/gargoylewandfire", CHAN_WEAPON, 1.0, 0)
		R068 B 5 A_FireCustomMissile("GargoyleBall2", 0, 1, 0, 0) 
		TNT1 A 0 ////ACS_NamedExecute("s851",0,-6,0,0)
		R068 C 4
		R068 A 5
		Goto Ready
	} 
}

Actor GargoyleBall
{
	Projectile
	+RANDOMIZE
	Radius 2
	Height 1
	Speed 60
	Damage 4
	DeathSound "reilsss/weapons/gargoylewandexplosion"
	RenderStyle Add
	DamageType "Fire"
	Alpha 0.75
	States
	{
	Spawn:
		R068 EEEFFF 1 Bright A_SpawnItemEx("CrossbowArrow3Trail",0,random(3,-3),random(3,-3),0,0,0.4,0,0)
		Loop
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("GargoyleBall2Trail",0,0,0,random(1,-1),random(1,-1),random(1,-1),random(0,359),0)
		R068 GHI 5 bright
		Stop
	}
}

Actor GargoyleBall2
{
	Projectile
	+RANDOMIZE
	Radius 6
	Height 8
	Speed 30
	Damage 4
	DamageType Fire
	DeathSound "reilsss/weapons/gargoylewandburn"
	RenderStyle Add
	DamageType "Fire"
	Alpha 0.75
	States
	{
	Spawn:
		TNT1 A 0
		R068 J 0 Bright A_SpawnItemEx("GargoyleBall2Trail",0,random(3,-3),random(3,-3),0,0,0.4,0,0)
		R068 J 1 Bright A_SpawnItemEx("GargoyleBall2Trail",0,random(3,-3),random(3,-3),0,0,0.8,0,0)
		R068 J 1 Bright A_SpawnItemEx("GargoyleBall2Trail",0,random(3,-3),random(3,-3),0,0,0.8,0,0)
		R068 J 1 Bright A_SpawnItemEx("GargoyleBall2Trail",0,random(3,-3),random(3,-3),0,0,0.8,0,0)
		Loop
	Death:
		TNT1 AAAAAAA 0 A_SpawnItemEx("GargoyleBall2Trail",0,0,0,random(1,-1),random(1,-1),random(1,-1),random(0,359),0)
		TNT1 AAAAAA 0 A_SpawnItemEx("GargoyleBall2Extraball",0,0,0,5+random(2,-2),5+random(2,-2),0,random(0,359),0)
		R068 KLMN 6 bright
		Stop
	}
}

Actor GargoyleBall2Trail : CrossbowArrow3Trail { Scale 0.15 }

Actor GargoyleBall2Extraball
{
	projectile
	Speed 0
	Damage 1
	Radius 2
	Height 2
	RenderStyle Add
	Alpha 0.75
	Scale 0.7
	DamageType "Fire"
	States
	{
	Spawn:
		R068 EEEFFF 1 Bright A_FadeOut(0.06)
		Loop
	Death:
		R068 GHI 5 bright
		Stop
	}
}

Actor GargoyleWandDrop : CustomInventory
{
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedGargoyleWand",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

Actor DroppedGargoyleWand
{
	Radius 16
	Height 20
	Scale 0.8
	States
	{
	Spawn:
		R068 D 15
		TNT1 A 0 A_SpawnItemEx("AEoDGargoyleWandNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDGargoyleWandNoAmmo : AEoDGargoyleWandItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.8
	Inventory.Amount 1
	Inventory.PickupMessage "You got the Gargoyle Wand!"
	Inventory.PickupSound "weaponbuild"
	States
	{
	Spawn:
		R068 D -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("BlueMana",40,"Ammo")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("GargoyleWandDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDGargoyleWand",1)
		TNT1 A 0 A_TakeInventory("BlueMana",40)
		TNT1 A 0 //ACS_NamedExecute("s799",0,11,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDGargoyleWand",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,23,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("BlueMana",40)
		TNT1 A 0 A_JumpIfInventory("AEoDGargoyleWand",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("GargoyleWandDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDGargoyleWand",1)
		Stop
	}
}

//==================================================================================
//==================================================================================

//==================================================================================
//==================================================================================


//UAC Black Ops (id software)
//-------------

Actor AEoDBlasterItem: CustomInventory 6097
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.8
	Inventory.Amount 1
	Inventory.PickupMessage "You got the UAC Blastergun!"
	Inventory.PickupSound "reilsss/weappickup/copgun"
	States
	{
	Spawn:
		R071 F -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIfInventory("AEoDBlaster",1,"Ammo")
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("BlasterDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDBlaster",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,12,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDBlaster",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,22,0)
		Fail
	Ammo:
		TNT1 A 0 A_GiveInventory("AEoDBlaster",1)
		Stop
	}
}

Actor AEoDBlaster : Weapon // 6097
{
	+FLOORCLIP
	+WEAPON.CHEATNOTWEAPON
	+INVENTORY.IGNORESKILL
	Weapon.AmmoType1 "AECell"
	Weapon.AmmoType2 "AECell"
	Weapon.AmmoGive1 100
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 1
	Weapon.SelectionOrder 22498
	Inventory.PickupMessage "You got the UAC Blastergun!"
	Inventory.PickupSound "reilsss/weappickup/copgun"
	Weapon.upsound "weapons/plasma/draw"
	Scale 0.8
	Tag "Blaster"
	States
	{
	Spawn:
		R071 F -1
		Loop
	Deselect: 
		TNT1 A 0 //ACS_NamedExecute("s799",0,0,0,0)
		R071 A 1 A_Lower
		TNT1 AA 0 A_Lower
		Loop
	Select:
		TNT1 A 0 A_JumpIfInventory("Weapon3Count",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 //ACS_NamedExecute("s799",0,12,0,0)
		R071 A 1 A_Raise
		TNT1 AA 0 A_Raise
		Loop
	Ready:
		R071 A 1 A_WeaponReady
		Loop
	Fire: 
		TNT1 A 0 A_Light1
		TNT1 A 0 //ACS_NamedExecute("s851",0,12,random(-4,4),0)
		TNT1 A 0 A_PlaySound("quake4/StroggMarine/BlasterShot", CHAN_WEAPON, 1.0, 0)
		R071 D 2 Bright A_FireCustomMissile("BlasterBoltRed", 0, 1, 7, 3) 
		TNT1 A 0 A_Light0
		R071 D 1 //ACS_NamedExecute("s851",0,-12,0,0)
		R071 B 3 
		R071 CB 2
		Goto Ready
	AltFire: 
		TNT1 A 0 A_Light1
		TNT1 A 0 //ACS_NamedExecute("s851",0,12,random(-4,4),0)
		TNT1 A 0 A_PlaySound("quake4/StroggMarine/BlasterShot", CHAN_WEAPON, 1.0, 0)
		R071 D 2 Bright A_FireCustomMissile("BlasterDrunkShot", 0, 1, 7, 3) 
		TNT1 A 0 A_Light0
		R071 D 1 //ACS_NamedExecute("s851",0,-12,0,0)
		R071 B 3 
		R071 CB 3
		Goto Ready
	} 
}

Actor PlasmaPuffDMG
{
	//DamageType "Plasma"
	+NOINTERACTION
	RenderStyle None
	States
	{
	Spawn:
		PLAY A 3
		Stop
	}
}

Actor BlasterDrunkShot 
{
	Damage 7			//is a very weird attack. If something connects, at least should do some damage
	Scale 0.4
	Projectile
	Radius 8
	Height 12
	Speed 15
	RenderStyle Add
	SeeSound ""
	WeaveIndexXY 40
	WeaveIndexZ 40
	Translation "80:95=208:223","96:111=176:191"
	Decal RailgunScorch
	DamageType "ZombieGibber"
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("BlasterSmallTrail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		LBA2 A 1 Light("OrangeMediumFlicker3") Bright A_Weave(random(4,-4),random(4,-4),2,2)
		Loop
	Death:
		TNT1 A 4 A_SpawnItemEx("Q4BlasterProjSmallExplo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		Stop
	}
}

Actor BlasterBoltRed
{
	Projectile
	Radius 8
	Height 12
	Speed 27
	RenderStyle Add
	SeeSound ""
	Translation "80:95=208:223","96:111=176:191"
	Damage 5
	Scale 0.4
	Decal RailgunScorch
	DamageType "Plasma"
	States
	{
	Spawn:
		LBA2 A 2 Light("OrangeMediumFlicker3") Bright A_SpawnItemEx("HyperBlasterRedTrail",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		Wait
	Death:
		TNT1 A 4 A_SpawnItemEx("BlasterBoltRedExplo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
		Stop
	}
}

Actor BlasterBoltRedTrail
{
	+NOINTERACTION
	Translation "112:120=208:223","120:127=176:191"
	RenderStyle Add
	Alpha 0.4
	Scale 0.17
	States
	{	
	Spawn:
		ACID E 1 A_FadeOut(0.05)
		Wait
	}
}


Actor BlasterBoltRedExplo 
{
	+NOINTERACTION
	RenderStyle Add
	Translation "169:178=208:223"
	Scale 0.4
	States
	{
	Spawn:
		STAR F 2 Light("OrangeSmallFlicker1") Bright A_FadeOut(0.04)
		STAR GHIJ 2 Light("OrangeMediumFlicker3") Bright A_FadeOut(0.04)
		STAR K 2 Light("OrangeSmallFlicker1") Bright A_FadeOut(0.04)
		STAR L 2 Light("OrangeSmallFlicker2") Bright A_FadeOut(0.04)
		STAR M 2 Light("OrangeSmallFlicker2") Bright A_FadeOut(0.04)
		STAR N 2 Light("OrangeSmallFlicker3") Bright A_FadeOut(0.04)
		STAR O 2 Light("OrangeSmallFlicker3") Bright A_FadeOut(0.04)
		Stop
	}
}


Actor BlasterDrop : CustomInventory
{
	States
	{
	Use:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DroppedBlaster",0,0,32,8,0,0,0,SXF_NOCHECKPOSITION,0)
		Stop
	}
}

Actor DroppedBlaster
{
	Radius 16
	Height 20
	Scale 0.8
	States
	{
	Spawn:
		R071 F 15
		TNT1 A 0 A_SpawnItemEx("AEoDBlasterNoAmmo",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER,0)
		Stop
	}
}

Actor AEoDBlasterNoAmmo : AEoDBlasterItem
{
	+FLOORCLIP
	+INVENTORY.IGNORESKILL
	Scale 0.8
	Inventory.Amount 1
	Inventory.PickupMessage "You got the UAC Blastergun!"
	Inventory.PickupSound "reilsss/weappickup/copgun"
	States
	{
	Spawn:
		R071 F -1
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(CallACS("WeaponSlotLimitCheck",3) <= 0,"Nothing")
		TNT1 A 0 A_JumpIfInventory("AECell",100,"Ammo")
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("BlasterDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDBlaster",1)
		TNT1 A 0 A_TakeInventory("AECell",100)
		TNT1 A 0 //ACS_NamedExecute("s799",0,12,0,0)
		Stop
	Nothing:
		TNT1 A 0 A_JumpIfInventory("AEoDBlaster",1,"Ammo")
		TNT1 A 0 A_JumpIfInventory("LimitScriptActive",1,1)
		Goto Pickup+2
		TNT1 A 0 ACS_NamedExecute("s798",0,3,22,0)
		Fail
	Ammo:
		TNT1 A 0 A_TakeInventory("AECell",100)
		TNT1 A 0 A_JumpIfInventory("AEoDBlaster",1,2)
		TNT1 A 0 A_GiveInventory("Weapon3Count",1)
		TNT1 A 0 A_GiveInventory("BlasterDrop",1)
		TNT1 A 0 A_GiveInventory("AEoDBlaster",1)
		Stop
	}
}

//--------------------------------------------------------------------
