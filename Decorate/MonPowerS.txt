//Powerslave Enemies Definition.  Almost all Powerslave and Powerslave-based enemies
//Drop a 'PowerslaveSpawner', which yields health orbs or Weapon Power orbs.
//Modify the 'PowerslaveSpawner' spawn rate to liking.



Actor PowerslaveMiscGib1 //Gib used for Bastet enemies
{
	var int user_t;
    BounceFactor 0.38
    +DOOMBOUNCE
	+THRUACTORS
    Speed 8
    Projectile
    Scale 0.5
    -NOGRAVITY
    -NOBLOCKMAP
    seesound "misc/powerslavegib"
    deathsound "misc/powerslavegib"
    states
    {
    Spawn:
		TNT1 A 0 NoDelay A_SetUserVar(user_t,tid)
		TNT1 A 0 Thing_ChangeTID(0,0)
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		BAST TTTTTTTTTTTTTT 2 
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,3,AAPTR_PLAYER1)
		"####" "#" 0 A_JumpIf(user_t != 0,2)
		BAST T 500
		BAST T 1 A_FadeOut
		Wait
    }
}

Actor PowerslaveMiscGib2 : PowerslaveMiscGib1
{
    states
    {
    Spawn:
		TNT1 A 0 NoDelay A_SetUserVar(user_t,tid)
		TNT1 A 0 Thing_ChangeTID(0,0)
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		BAST UUUUUUUUUUUUUUU 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,3,AAPTR_PLAYER1)
		"####" "#" 0 A_JumpIf(user_t != 0,2)
		BAST U 300
		BAST U 1 A_FadeOut
		Wait
    }
}

Actor PowerslaveMiscGib3 : PowerslaveMiscGib1
{
    states
    {
    Spawn:
		TNT1 A 0 NoDelay A_SetUserVar(user_t,tid)
		TNT1 A 0 Thing_ChangeTID(0,0)
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		BAS2 HHHHHHHHHHHHH 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,3,AAPTR_PLAYER1)
		"####" "#" 0 A_JumpIf(user_t != 0,2)
		BAS2 H 250
		BAS2 H 1 A_FadeOut
		Wait
    }
}

Actor PowerslaveMiscGib4 : PowerslaveMiscGib1
{
    states
    {
    Spawn:
		TNT1 A 0 NoDelay A_SetUserVar(user_t,tid)
		TNT1 A 0 Thing_ChangeTID(0,0)
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		JONP TTTTTTTTTTTTTT 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,3,AAPTR_PLAYER1)
		"####" "#" 0 A_JumpIf(user_t != 0,2)
		JONP U 310
		JONP U 1 A_FadeOut
		Wait
    }
}

Actor PowerslaveMiscGib5 : PowerslaveMiscGib1
{
    states
    {
    Spawn:
		TNT1 A 0 NoDelay A_SetUserVar(user_t,tid)
		TNT1 A 0 Thing_ChangeTID(0,0)
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		JONP VVVVVVVVVVVVVV 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,3,AAPTR_PLAYER1)
		"####" "#" 0 A_JumpIf(user_t != 0,2)
		JONP V 400
		JONP V 1 A_FadeOut
		Wait
    }
}

Actor PowerslaveMiscGib6 : PowerslaveMiscGib1
{
    states
    {
    Spawn:
		TNT1 A 0 NoDelay A_SetUserVar(user_t,tid)
		TNT1 A 0 Thing_ChangeTID(0,0)
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		JONP WWWWWWWWWWWWWW 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,3,AAPTR_PLAYER1)
		"####" "#" 0 A_JumpIf(user_t != 0,2)
		JONP W 350
		JONP W 1 A_FadeOut
		Wait
    }
}

Actor PowerslaveMiscGib7 : PowerslaveMiscGib1
{
    states
    {
    Spawn:
		TNT1 A 0 NoDelay A_SetUserVar(user_t,tid)
		TNT1 A 0 Thing_ChangeTID(0,0)
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		JONP XXXXXXXXXXXXXX 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,3,AAPTR_PLAYER1)
		"####" "#" 0 A_JumpIf(user_t != 0,2)
		JONP Y 380
		JONP Y 1 A_FadeOut
		Wait
    }
}

Actor PowerslaveMiscGib8 : PowerslaveMiscGib1
{
    states
    {
    Spawn:
		TNT1 A 0 NoDelay A_SetUserVar(user_t,tid)
		TNT1 A 0 Thing_ChangeTID(0,0)
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		MAGM TTTTTTTTTTTTTTT 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,3,AAPTR_PLAYER1)
		"####" "#" 0 A_JumpIf(user_t != 0,2)
		MAGM T 450
		MAGM T 1 A_FadeOut
		Wait
    }
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================

//Red Mite.  These guys can be spawned separately via special spawning.
//Super Mite and Selkis already release these guys upon their deaths.
Actor RedMite //7330
{
    obituary "%o became a meal for the Red Mites."
    scale 0.35
    speed 6
    radius 8
    height 12
    health 10
    painchance 255
    meleedamage 2
    meleerange 10
    bloodcolor Green BloodType "AEBloodGreen"
    Monster	+DONTCORPSE	RipLevelMin 1
    -SOLID
    -COUNTKILL
    +FLOORCLIP
    +NOBLOCKMONST
    +DONTMORPH
    meleesound "monster/redmite/bite"
    painsound "monster/redmite/pain"
    deathsound "monster/redmite/death"
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
	Spawn:
		PSEN A 1 A_Look
		loop
    See:
		PSEN AABBCC 2 A_Chase
		PSEN A 0 A_Jump(32,1)
		loop
		PSEN A 0 A_PlaySound("monster/redmite/jump")
		PSEN E 0 ThrustThingZ(0,32,0,1)
		PSEN E 16 A_Recoil(-5)  
		loop
    Melee:
		PSEN F 5 A_FaceTarget
		PSEN G 5 A_MeleeAttack
		PSEN F 5 A_FaceTarget
		goto See
    Pain:
		PSEN F 0 A_Pain
		goto See
    Death:
		PSEN H 4 A_Scream
		PSEN IJ 4
		TNT1 A 0 A_SpawnProjectile("MiteGib1",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib2",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib3",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))  
		TNT1 A 0 A_SpawnProjectile("MiteGib4",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib5",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib6",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib7",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib8",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib1",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib2",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib3",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))  
		TNT1 A 0 A_SpawnProjectile("MiteGib4",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib5",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))  
		TNT1 A 0 A_SpawnProjectile("MiteGib6",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib7",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_SpawnProjectile("MiteGib8",0+Random(5,7),0+Random(35,-35),0+Random(0,370),2,0+random(5,50))
		TNT1 A 0 A_NoBlocking
		stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		VerySmall
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

ACTOR RedMiteF : RedMite
{
    +FRIENDLY
    States
    {
    Spawn:
		PSEN A 0
		PSEN A 0 A_ChangeFlag("FRIENDLY",1)
		PSEN A 1 A_Look
		Goto Spawn+2
    }
}

Actor MiteGib1
{
    /*scale 0.35
    radius 2
    height 2
    speed 6
    +MISSILE*/
	var int user_t;
    Projectile
	Speed 8
    Scale 0.35
	BounceFactor 0.2
    +DOOMBOUNCE
	+THRUACTORS
    -NOGRAVITY
    -NOBLOCKMAP
    states
    {
    Spawn:
		PSEN K 0 
		"####" "#" 0 A_SetUserVar(user_t,tid)
		"####" "#" 0 Thing_ChangeTID(0,0)
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,2,AAPTR_PLAYER1)
		"####" "#" 250 A_JumpIf(user_t != 0,1)
		"####" "#" 1 A_FadeOut
		Wait
    }
}

Actor MiteGib2 : MiteGib1
{
    states
    {
    Spawn:
		PSEN L 0
		"####" "#" 0 A_SetUserVar(user_t,tid)
		"####" "#" 0 Thing_ChangeTID(0,0)
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,2,AAPTR_PLAYER1)
		"####" "#" 250 A_JumpIf(user_t != 0,1)
		"####" "#" 1 A_FadeOut
		Wait
    }  
}

Actor MiteGib3 : MiteGib1
{
    states
    {
    Spawn:
		PSEN M 0
		"####" "#" 0 A_SetUserVar(user_t,tid)
		"####" "#" 0 Thing_ChangeTID(0,0)
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,2,AAPTR_PLAYER1)
		"####" "#" 250 A_JumpIf(user_t != 0,1)
		"####" "#" 1 A_FadeOut
		Wait
    }  
}

Actor MiteGib4 : MiteGib1
{
    states
    {
    Spawn:
		PSEN N 0
		"####" "#" 0 A_SetUserVar(user_t,tid)
		"####" "#" 0 Thing_ChangeTID(0,0)
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,2,AAPTR_PLAYER1)
		"####" "#" 250 A_JumpIf(user_t != 0,1)
		"####" "#" 1 A_FadeOut
		Wait
    }  
}

Actor MiteGib5 : MiteGib1
{
    states
    {
    Spawn:
		PSEN O 0
		"####" "#" 0 A_SetUserVar(user_t,tid)
		"####" "#" 0 Thing_ChangeTID(0,0)
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,2,AAPTR_PLAYER1)
		"####" "#" 250 A_JumpIf(user_t != 0,1)
		"####" "#" 1 A_FadeOut
		Wait
    } 
}

Actor MiteGib6 : MiteGib1
{
    states
    {
    Spawn:
		PSEN P 0
		"####" "#" 0 A_SetUserVar(user_t,tid)
		"####" "#" 0 Thing_ChangeTID(0,0)
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,2,AAPTR_PLAYER1)
		"####" "#" 250 A_JumpIf(user_t != 0,1)
		"####" "#" 1 A_FadeOut
		Wait
    }  
}

Actor MiteGib7 : MiteGib1
{
    states
    {
    Spawn:
		PSEN Q 0
		"####" "#" 0 A_SetUserVar(user_t,tid)
		"####" "#" 0 Thing_ChangeTID(0,0)
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,2,AAPTR_PLAYER1)
		"####" "#" 250 A_JumpIf(user_t != 0,1)
		"####" "#" 1 A_FadeOut
		Wait
    }  
}

Actor MiteGib8 : MiteGib1
{
    states
    {
    Spawn:
		PSEN R 0
		"####" "#" 0 A_SetUserVar(user_t,tid)
		"####" "#" 0 Thing_ChangeTID(0,0)
    Death:
		"####" "#" 0 A_JumpIfInventory("ShortGibToken",1,2,AAPTR_PLAYER1)
		"####" "#" 250 A_JumpIf(user_t != 0,1)
		"####" "#" 1 A_FadeOut
		Wait
    }
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Anubis Zombie
Actor AnubisZombie 7331		//DoomImp		
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 192
	DropItem "PowerupSpawner" 8
    obituary "%o got fried by an Anubis Zombie's fireball."
    hitobituary "%o got hassan-chopped by an Anubis Zombie."
    health 90
    radius 16
    height 56
    speed 14
    scale 0.48
    mass 400
    meleedamage 4
    painchance 96
    seesound "monster/anubiszombie/sight"
    activesound "none"
    meleesound "monster/anubiszombie/meleehit"
    painsound "monster/anubiszombie/pain"
    deathsound "monster/anubiszombie/death"
    Monster	+DONTCORPSE	RipLevelMin 1
    +FLOORCLIP
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 160
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See
    Spawn:
	ANUB A 2 A_Look
	loop
    See:
	ANUB ABCD 4 A_Chase
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
    Melee:
	ANUB E 0 A_PlaySound("monster/anubiszombie/meleestart")
	ANUB EF 3 A_FaceTarget
	ANUB G 3 A_MeleeAttack
	ANUB HI 3 A_FaceTarget
	ANUB E 0 A_PlaySound("monster/anubiszombie/meleestart")
	ANUB QR 3 A_FaceTarget
	ANUB S 3 A_MeleeAttack
	ANUB TU 3 A_FaceTarget
	ANUB U 0 A_PlayWeaponSound("monster/anubiszombie/sight")
	goto See
    Missile:
	ANUB EF 3 A_FaceTarget
	ANUB G 3 A_SpawnProjectile("AnubisMissile",32,0)
	ANUB HIII 3
	goto See
    Pain:
	ANUB J 6 A_Pain
	goto See
    Death:
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,9)
	ANUB K 2 ThrustThingZ(0,16,0,0)
	ANUB K 2
	ANUB L 4 A_Scream
	ANUB MNO 4
	ANUB P 4 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
	ANUB V -1
	stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"Defilement")
	ANUB W 3 A_Scream
	ANUB XY 3
	ANUB Z 3 A_XScream
	ANUB A 0 A_SpawnProjectile("PowerslaveMiscGib8",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	ANUB AAAAA 0 A_SpawnProjectile("PowerslaveMiscGib5",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	ANUB AAAAAAAAAAAAA 0 A_TossGib
	ANUB "[]" 4
	"####" "#" 0 A_ChangeFlag("CORPSE",1)
	ANUB "]" -1 A_NoBlocking
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    Raise:
	ANUB VPONMLK 4
	goto See
    }
}

Actor AnubisMissile : DoomImpBall
{
    height 8
    radius 6
    damage 5
    speed 20
    scale 0.70
    seesound "monster/anubiszombie/fireball"
    renderstyle Normal
    PROJECTILE
    +STRIFEDAMAGE
    +MISSILE
	DamageType "AEMagic"
    states
    {
    Spawn:
	ANFB ABC 3 Bright
	loop
    Death:
	ANFB DEFG 4 Bright
	stop
    }
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Evil Anubis Warrior.  This is an Anubis Zombie variation which shoots four fireballs in one missile state,
//In sets of two.  Only distinction here is that the Evil Anubis Warrior's eyes are orange
//instead of red like the Anubis Zombie.
Actor EvilAnubisWarrior : AnubisZombie 7332	//hellknight
{
	DropItem "Mana2Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    obituary "%o found a very evil Anubis Warrior."
    hitobituary "%o got hit upside by an Evil Anubis Warrior."
    health 500
    speed 9
    painchance 48
    seesound "monster/ancientmummy/evillaugh"
    deathsound "monster/ancientmummy/death"
    Translation "0:255=%[0.0,0.0,0.0]:[0.7,0.5,0.2]", "168:183=208:223","184:191=232:239","192:207=112:127"
    +MISSILEMORE
    Scale 0.54
//    +BOSS
    +FLOORCLIP
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Defile", 255
    PainChance "Drain", 110
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
    Missile:
	ANUB EF 2 A_FaceTarget
	ANUB G 0 A_SpawnProjectile("AnubisMissile",32,0,-5)
	ANUB G 2 A_SpawnProjectile("AnubisMissile",32,0,5)
	ANUB HI 2 A_FaceTarget
	ANUB QR 2 A_FaceTarget
	ANUB G 0 A_SpawnProjectile("AnubisMissile",32,0,-5)  
	ANUB S 2 A_SpawnProjectile("AnubisMissile",32,0,5)
	ANUB TU 2  
	goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================

//Powerslave (aka. Exhumed)'s mummy.  It has both the console and PC version
//attacks.  Only does a resurrection move when using the PC attack, otherwise
//nothing gets resurrected.

Actor AncientMummy 7333		//baron	
{
	DropItem "DarkMana"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 40
	DropItem "PowerupSpawner" 8
    obituary "%o received an ancient curse from a mummy."
    hitobituary "%o got whacked in the head by an ancient mummy's staff."
    scale 0.5
    radius 16
    height 52
    health 400
    speed 6
    meleerange 45
    meleedamage 5
    mass 300
    seesound "monster/ancientmummy/active1"
    activesound "monster/ancientmummy/active"
    meleesound "monster/ancientmummy/staffhitu"
    deathsound "monster/ancientmummy/death"
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSSDEATH
//    +DONTHURTSPECIES
    +NOBLOOD
    +FLOORCLIP
    +MISSILEMORE
    +DONTMORPH
    DamageFactor "Wormwood", 0.5
    PainChance "Charm", 96
    PainChance "Terror", 96
    PainChance "Drain", 64
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Undead
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "Holy", 2.0
	DamageFactor "Unholy", 0.5
	DamageFactor "UnholyDisint", 0.5
	DamageFactor "AEMagic", 1.5
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto See
    Spawn:
	PSMU A 1 A_Look
	loop
    See:
	PSMU TUVWXY 4 A_Chase
	loop
    Missile:
	PSMU A 0 A_PlaySound("monster/ancientmummy/attackchant")
	PSMU PQR 5 A_FaceTarget
	PSMU S 0 A_PlayWeaponSound("monster/ancientmummy/hitstaffonground")
	PSMU S 0 A_Jump(76,5) //Goto Spirit Missile and resurrector phase
	PSMU S 10 A_FaceTarget
	PSMU S 0 A_SpawnProjectile("MummyCobraStaffshot",32,0,0)
	PSMU S 4
	PSMU S 1 A_PlaySound("monster/ancientmummy/active1")
	goto See
	PSMU S 0 A_SpawnProjectile("MummyResurrector",0,0,0)
	PSMU S 0 A_SpawnProjectile("MummyResurrector",0,0,45)
	PSMU S 0 A_SpawnProjectile("MummyResurrector",0,0,90)
	PSMU S 0 A_SpawnProjectile("MummyResurrector",0,0,135)
	PSMU S 0 A_SpawnProjectile("MummyResurrector",0,0,180)
	PSMU S 0 A_SpawnProjectile("MummyResurrector",0,0,225)
	PSMU S 0 A_SpawnProjectile("MummyResurrector",0,0,270)
	PSMU S 0 A_SpawnProjectile("MummyResurrector",0,0,315)
	PSMU S 14 A_SpawnProjectile("MummySpiritProjectile",32,0,0)
	goto See
    Melee:
	PSMU BCD 3 A_FaceTarget
	PSMU B 0 A_PlayWeaponSound("monster/ancientmummy/swingstaff")
	PSMU DC 3 A_FaceTarget
	PSMU B 3 A_MeleeAttack
	goto See
    Ice:
	"----" A 5 A_GenericFreezeDeath
	"----" A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"----" A 1 A_FreezeDeathChunks
	Wait
    Death:
	PSMU E 4 A_Scream
	PSMU EFGHIJKL 4
	PSMU M 3 A_PlayWeaponSound("monster/ancientmummy/unwrap")
	PSMU NO 3
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"####" "#" 0 A_ChangeFlag("CORPSE",1)
	PSMU O -1 A_NoBlocking
	stop
    Raise:
	PSMU O 0 A_PlaySound("monster/ancientmummy/raise")
	PSMU ONM 2 A_SetInvulnerable
	PSMU LKJIHGFE 3
	PSMU A 0 A_PlaySound("monster/ancientmummy/evillaugh")
	PSMU A 0 A_UnSetInvulnerable
	goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

Actor MummyCobraStaffshot
{
    scale 0.5
    radius 5
    height 10
    speed 8
    damage 12
	DamageType "AEMagic"
    deathsound "monster/magmantis/firehit"
    Translation "112:127=176:191","9:11=189:191"
    PROJECTILE
    +SEEKERMISSILE
    +STRIFEDAMAGE
    +FLOORCLIP
    states
    {
    Spawn:
	PSCS A 0 A_SpawnItem("RedCobraStaffTail",-12,0,0)
	PSCS A 0 A_SeekerMissile(45,90)
	PSCS A 1 Bright A_CStaffMissileSlither
	PSCS A 0 A_SeekerMissile(45,90)
	PSCS A 1 Bright A_CStaffMissileSlither
	loop
    Death:
	PSCS CDEF 4 Bright
	stop
    }
}

Actor RedCobraStaffTail
{
    scale 0.5
    speed 0
    Translation "112:127=176:191"
    PROJECTILE
    states
    {
    Spawn:
	PSCS B 3 Bright
	PSCS B 0 Bright A_SpawnItem("RedCobraStaffTail2",0,0,0)
	stop
    }
}

Actor RedCobraStaffTail2 : RedCobraStaffTail
{
    scale 0.4
    states
    {
    Spawn:
	PSCS B 3 Bright
	PSCS B 0 Bright A_SpawnItem("RedCobraStaffTail3",0,0,0)
	stop
    }
}

Actor RedCobraStaffTail3 : RedCobraStaffTail
{
    scale 0.3
    states
    {
    Spawn:
	PSCS B 3 Bright
	PSCS B 0 Bright A_SpawnItem("RedCobraStaffTail4",0,0,0)
	stop
    }
}

Actor RedCobraStaffTail4 : RedCobraStaffTail
{
    scale 0.2
    states
    {
    Spawn:
	PSCS B 3 Bright
	stop
    }
}

Actor MummySpiritProjectile
{
    Speed 16
    damage 6
    scale 0.5
    radius 6
    height 12
    RENDERSTYLE ADD
    Alpha 0.75
    PROJECTILE
    +SEEKERMISSILE
	DamageType "Unholy"
    seesound "monster/ancientmummy/skullmissile"
    deathsound "monster/magmantis/firehit"
    states
    {
    Spawn:
	PSMM ABC 5 Bright A_SeekerMissile(25,10)
	PSMM A 0 Bright A_PlaySound("monster/ancientmummy/skullmoveinair")
	PSMM DEF 2 Bright A_SeekerMissile(25,10)
	goto Spawn+3
    Death:
	PSMM GGHHIIJJKKLLMM 2 Bright A_FadeOut(0.05)
	stop
    }
}

Actor MummyResurrector
{
    Speed 34
    radius 60
    height 60
    +NOCLIP
    -SHOOTABLE
    -SOLID
    states
    {
    Spawn:
		TNT1 AA 1 A_CopyFriendliness(AAPTR_TARGET)
		TNT1 AAAAAAAAAAAA 1 A_VileChase
		stop
    Heal:
		TNT1 A 1
		stop
    Death:
		TNT1 A 1
		stop
    }
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================

//The Bastet.
Actor Bastet 7334	//demon
{
	DropItem "Mana1Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    obituary "%o got surprised by a Bastet."
    health 150
    scale 0.5
    radius 16
    height 52
    mass 400
    painchance 32
    speed 14
    meleedamage 1
    seesound "monster/bastet/sight"
    painsound "monster/bastet/pain"
    activesound "monster/bastet/active"
    deathsound "monster/bastet/death"
    Monster	+DONTCORPSE	RipLevelMin 1
    +FLOORCLIP
    +NODAMAGETHRUST
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 153
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See
    Spawn:
	BAST A 0 A_JumpIfInventory("BastetInTeleport",1,4)
	BAST A 0 A_GiveInventory("Bastetnoriseup",1)
	BAST AB 8 A_Look
	Loop
	BAST A 0 A_ChangeFlag(FRIGHTENED,0)  
	BAST E 0 A_PlaySound("monster/bastet/warpin")
	BAST E 0 A_SpawnItem("BastetTeleportFlash",0,0,0)  
	TNT1 E 0 A_SetTranslucent(1,0)  
	BAS3 PONMLKJIHGFEDCBA 1 Bright
	TNT1 E 0 A_SetShootable
	TNT1 E 0 A_UnSetInvulnerable
	TNT1 E 0 A_SetSolid
	TNT1 E 0 A_TakeInventory("BastetInTeleport",1)
	Loop
    See:
	BAST A 0 A_JumpIfInventory("BastetInTeleport",1,12)
	BAST AABBCCDD 2 A_ExtChase(256,0)
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
	BAST AABBCCDD 2 A_ExtChase(0,256)
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
    Melee:
	BAST J 0 A_PlaySound("monster/bastet/melee")
	BAST J 2 A_FaceTarget
	BAST KL 2 A_FaceTarget
	BAST M 2 A_MeleeAttack
	BAST N 2 A_FaceTarget
	Goto See
    Missile:
	BAST E 0 A_PlaySound("monster/bastet/warpin")
	BAST E 0 A_SpawnItem("BastetTeleportFlash",0,0,0)  
	TNT1 E 0 A_SetTranslucent(1,0)  
	BAS3 PONMLKJIHGFEDCBA 1 Bright
	TNT1 E 0 A_SetShootable
	TNT1 E 0 A_UnSetInvulnerable
	TNT1 E 0 A_GiveInventory("Bastetnoriseup",1)
	TNT1 E 0 A_TakeInventory("BastetInTeleport",1)
	Goto See
    Pain:
	BAST O 6
	BAST P 0 A_SetInvulnerable
	BAST P 2 A_Pain
	BAST P 0 A_Jump(96,2)
	BAST P 0 A_UnSetInvulnerable
	Goto See
	BAST P 0 A_UnSetShootable
	BAST EFG 4 Bright
	BAST E 0 A_PlaySound("monster/bastet/warpout")
	BAST E 0 A_SpawnItem("BastetTeleportFlash",0,0,0)
	BAS3 ABCDEFGHIJKLMNOP 1 Bright
	BAST E 0 A_SetTranslucent(0,0)
	TNT1 E 0 A_TakeInventory("Bastetnoriseup",1)
	TNT1 E 0 A_GiveInventory("BastetInTeleport",1)  
	TNT1 EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE 2 A_Wander
	Goto See
    Death:
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,17)
	BAST V 0 A_Scream
	BAST VVVV 4
	BAS2 DDD 10
	BAST WXY 4
	BAST Z 3 A_PlaySound("monster/bastet/break")
	BAST "[" 3 A_NoBlocking
	BAS2 AB 4
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
	BAS2 C -1
	Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"Defilement")
	BAST Q 3 A_XScream
	BAST R 3
	BAST A 0 A_SpawnProjectile("PowerslaveMiscGib1",49,0+Random(1,-1),0+Random(0,370),2,0+random(5,50))  
	BAST AA 0 A_SpawnProjectile("PowerslaveMiscGib2",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	BAST A 0 A_SpawnProjectile("PowerslaveMiscGib3",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	BAST AAAAA 0 A_SpawnProjectile("PowerslaveMiscGib5",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	BAST AAAAAAAAAAAAAAAA 0 A_TossGib
	TNT1 A 0 A_NoBlocking
	Stop
    Burn:
	TNT1 A 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("BastetBurn",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	Stop  
    Raise:
	BAS2 CBA 3
	BAST "[" 3
	BAST ZYX 3
	BAST W 4
	BAS2 D 7
	BAST V 3
	goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}


Actor BastetTeleport
{
    radius 1
    height 1
    +NOCLIP
    scale 0.5
    states
    {
    Spawn:
	BAST H 2 Bright
	stop
    }
}

Actor BastetTeleportFlash
{
    radius 1
    height 1
    +NOCLIP
    scale 0.5
    states
    {
    Spawn:
	BAS2 GGFFF 1 Bright
	BAS2 E 18 Bright
	BAS2 EF 2 Bright
	stop
    }
}


Actor Bastetnoriseup : Inventory
{
    Inventory.MaxAmount 1
    Inventory.Amount 1
}

Actor BastetInTeleport : Inventory
{
    Inventory.MaxAmount 1
    Inventory.Amount 1
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================

//The Bastet MasterPtr.  Not only does it have the normal Bastet's teleport abilities,
//but it can also use the Ring of Ra on top of that!  Although the individual Ring
//of Ra fireballs do very little damage, tons are fired, which may result in a quick
//demise.
//
//However, the Bastet Masters don't ever teleport as often as their normal
//versions do, and would either perform an attack where they have ReflectiveInvulnerable
//and
Actor BastetMaster : Bastet 7335	//revenant
{
	DropItem "Mana2Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 40
	DropItem "PowerupSpawner" 8
    obituary "%o found out that this Bastet was pretty good with the Ring of Ra!"
    hitobituary "%o got surprisibus surprisibus'd by a Bastet MasterPtr."
    health 400
    painchance 48
    meleedamage 2
    Speed 16
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Defile", 255
    PainChance "Drain", 110
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    states
    {
    See:
	BAST AABBCCDD 2 A_Chase
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
    Melee:
	TNT1 A 0 A_TakeInventory("BastetInTeleport",1)
	BAST J 0 A_PlaySound("monster/bastet/melee")
	BAST J 2 A_FaceTarget
	BAST KL 2 A_FaceTarget
	BAST M 1 A_MeleeAttack
	BAST N 2 A_FaceTarget
	Goto See
    Missile:
	BAST J 0 A_JumpIfInventory("BastetInTeleport",1,"Missile")
	BAST JL 4 A_FaceTarget
	BAST L 0 A_FaceTarget
	BAST L 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(-10,10),0,15)  
	BAST L 2 Bright A_SpawnProjectile("RingofRaFireball",40,-10,0+random(-10,10),0,15)
	BAST L 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(-10,10),0,15)  
	BAST L 2 Bright A_SpawnProjectile("RingofRaFireball",40,-10,0+random(-10,10),0,15)
	BAST L 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(-10,10),0,15)  
	BAST L 2 Bright A_SpawnProjectile("RingofRaFireball",40,-10,0+random(-10,10),0,15)
	BAST L 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(-10,10),0,15)  
	BAST L 2 Bright A_SpawnProjectile("RingofRaFireball",40,-10,0+random(-10,10),0,15)
	BAST L 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(-10,10),0,15)  
	BAST L 2 Bright A_SpawnProjectile("RingofRaFireball",40,-10,0+random(-10,10),0,15)
	BAST L 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(-10,10),0,15)  
	BAST L 2 Bright A_SpawnProjectile("RingofRaFireball",40,-10,0+random(-10,10),0,15)  
	BAST L 0 A_SpidRefire
	BAST L 0 A_Jump(128,1)
	goto Missile+3
	BAST L 0
	goto See
    Pain:
	BAST O 6
	BAST P 4 A_Pain
	BAST P 0 A_Jump(160,"RaBurst") //Ring of Ra attack burst
	BAST P 0 A_UnSetShootable
	BAST EFG 4 Bright
	BAST E 0 A_PlaySound("monster/bastet/warpout")
	BAST E 0 A_SpawnItem("BastetTeleportFlash",0,0,0)
	BAS3 ABCDEFGHIJKLMNOP 1 Bright
	BAST E 0 A_SetTranslucent(0,0)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 2 A_Wander
	BAST E 0 A_PlaySound("monster/bastet/warpin")
	BAST E 0 A_SpawnItem("BastetTeleportFlash",0,0,0)  
	TNT1 E 0 A_SetTranslucent(1,0)  
	BAS3 PONMLKJIHGFEDCBA 1 Bright
	TNT1 E 0 A_SetShootable
	TNT1 E 0 A_UnSetInvulnerable
	Goto See
    RaBurst:
	BAST P 0 A_UnSetInvulnerable
	BAST P 0 A_SetReflectiveInvulnerable
	BAST EFG 4 Bright
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,0)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,45)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,90)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,135)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,180)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,225)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,270)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,315)
	TNT1 EEEEEEEEEEEEEEEEEEEEEEEEEEE 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(0,360),0,15)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,0)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,45)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,90)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,135)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,180)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,225)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,270)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,315)
	TNT1 EEEEEEEEEEEEEEEEEEEEEEEEEEE 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(0,360),0,15)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,0)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,45)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,90)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,135)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,180)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,225)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,270)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,315)
	TNT1 EEEEEEEEEEEEEEEEEEEEEEEEEEE 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(0,360),0,15)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,0)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,45)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,90)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,135)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,180)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,225)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,270)
	TNT1 A 1 A_SpawnProjectile("BastetTeleport",0,0,315)
	TNT1 EEEEEEEEEEEEEEEEEEEEEEEEEEE 0 A_SpawnProjectile("RingofRaFireball",40,10,0+random(0,360),0,15)
	TNT1 AA 1 A_SpawnProjectile("BastetTeleport",0,0,0)
	TNT1 AAA 1 A_SpawnProjectile("BastetTeleport",0,0,45)
	TNT1 AAAA 1 A_SpawnProjectile("BastetTeleport",0,0,90)
	TNT1 AAAAA 1 A_SpawnProjectile("BastetTeleport",0,0,135)
	TNT1 AAAAAA 1 A_SpawnProjectile("BastetTeleport",0,0,180)
	TNT1 AAAAAAA 1 A_SpawnProjectile("BastetTeleport",0,0,225)
	TNT1 AAAAAAAA 1 A_SpawnProjectile("BastetTeleport",0,0,270)
	TNT1 AAAAAAAAA 1 A_SpawnProjectile("BastetTeleport",0,0,315)
	TNT1 AAAAAAAAAA 1 A_SpawnProjectile("BastetTeleport",0,0,0)
	TNT1 E 0 A_UnSetReflectiveInvulnerable
	goto See
    }
}

Actor RingofRaFireball
{
    radius 4
    height 4
    damage 2
    speed 10
    scale 0.10
    bouncefactor 0.90
    PROJECTILE
    +MISSILE
    +STRIFEDAMAGE
    +DOOMBOUNCE
	DamageType "AEMagic"
    deathsound "monster/magmantis/firehit"
    states
    {
    Spawn:
		RRAB A 0
		RRAB A 0 A_PlaySound("monster/bastet/ringofra")
		RRAB A 1 Bright ThrustThingZ(0,24,0,1)
		RRAB A 1 Bright A_Gravity
		RRAB BABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABABAB 2 Bright
		goto Death
    Death:
		TNT1 A 1 A_SpawnItem("Ringfireballexplosion")
		stop
    }
}

Actor Ringfireballexplosion
{
    scale 0.25
    RENDERSTYLE ADD
    Alpha 0.90
	+NOINTERACTION
    states
    {
    Spawn:
		RRAE EFGH 3 Bright
		stop
    }
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Omen Wasp.  More geared to be a Lost Soul class enemy rather than special spawned enemy.
Actor OmenWasp 7336	//lost soul
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 64
	DropItem "PowerupSpawner" 8
    obituary "%o was stung by an Omen Wasp."
    health 60
    scale 0.25
    radius 16
    height 32
    speed 6
    mass 120
    meleerange 19
    meleedamage 3
    meleesound "monster/omenwasp/sting"
    deathsound "monster/omenwasp/death"
    Monster	+DONTCORPSE	RipLevelMin 1
    +NOGRAVITY
    +FLOAT
    +FLOATBOB
    +FLOORCLIP
	+PUSHABLE
	PushFactor 0.5
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Drain", 160
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
	Pain.Charm:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
		Goto See
    Pain.Terror:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
		Goto See
    Pain.Drain:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto See

    Spawn:
		OWDE A 0 A_ChangeFlag(FLOATBOB,1)
		OWDE A 0 A_PlaySound("monster/omenwasp/flying")
		OWDE AA 1 A_Look
		OWDE B 0 A_PlaySound("monster/omenwasp/flying")
		OWDE BB 1 A_Look
		loop
    See:
		OWDE A 0 A_ChangeFlag(FLOATBOB,0)
		OWDE A 0 A_PlaySound("monster/omenwasp/flying")
		OWDE AA 1 A_Chase
		OWDE B 0 A_PlaySound("monster/omenwasp/flying")
		OWDE BB 1 A_Chase
		loop
    Melee:
		OWDE E 0 A_PlaySound("monster/omenwasp/attack")
		OWDE ED 4 A_FaceTarget
		OWDE C 4 A_MeleeAttack
		OWDE D 4 A_FaceTarget
		goto See
    Death:
		OWDE A 0 A_ChangeFlag(FLOATBOB,0)
		OWDE F 0 A_Scream
		OWDE FGGGGGGGGGGGGGGGG 3 A_JumpIf(z <= floorz || abs(velz) <= 0,"Crash")
    Crash:
		TNT1 A 0 A_JumpIfInventory("DisintegrateToken",1,"DisintegrateCont")
		OWDE HI 3
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
		OWDE I -1 A_NoBlocking
    Raise:
		OWDE IHGFEA 3
  	goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		TNT1 A 0 A_GiveInventory("DisintegrateToken",1)
    DisintegrateCont:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		SmallMedium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}
	
ACTOR OmenWaspF2 : OmenWasp
{
    Health 20
    MeleeRange 10
    MeleeDamage 1
    Radius 6		
    Height 12
    -COUNTKILL
    -SOLID
    +FRIENDLY
    +NOBLOCKMONST
    +DONTMORPH
    +STRIFEDAMAGE
    Scale 0.08
    PainChance "Charm", 0
    PainChance "Terror", 0
    PainChance "Drain", 0
    States
    {
    Spawn:
	OWDE A 0
	OWDE A 0 A_ChangeFlag("FRIENDLY",1)
  	OWDE A 0 A_ChangeFlag(FLOATBOB,0)
  	OWDE A 0 A_PlaySound("monster/omenwasp/flying")
  	OWDE AA 1 A_Chase
  	OWDE B 0 A_PlaySound("monster/omenwasp/flying")
  	OWDE BB 1 A_Chase
  	Goto Spawn+2
    Melee:
  	OWDE E 0 A_PlaySoundEx("monster/omenwasp/attack","Voice",0,-1)
  	OWDE ED 6 A_FaceTarget
  	OWDE C 6 A_MeleeAttack
  	OWDE D 6 A_FaceTarget
  	Goto See
    }
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Omen Wasp Necromancer.  I used graphics of the Unused Omen Wasp and decided to
//Use them for this guy.  I never encountered this guy in the entire PC game, although
//I may check again, because I finished the PC Powerslave while in the outside portions
//of it's final stage.
Actor OmenWaspNecro 7337	//painelem
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 128
	DropItem "PowerupSpawner" 8
    obituary "%o got blown away by an Omen Wasp Necromancer."
    health 700
    scale 0.45
    radius 13
    height 48
    speed 6
    painchance 50
    mass 450
    seesound "monster/omenwasp2/sight"
    activesound "monster/omenwasp2/flying"
    painsound "monster/omenwasp2/pain"
    deathsound "monster/omenwasp2/death"
    MinMissileChance 253
    Monster	+DONTCORPSE	RipLevelMin 1
//    +DONTHURTSPECIES
    +NOGRAVITY
    +FLOAT
    +FLOATBOB
    +FLOORCLIP
	+PUSHABLE
	PushFactor 0.2
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 128
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Spawn:
  	PSON A 0 A_PlaySound("monster/omenwasp2/flying")
  	PSON AA 1 A_Look
  	PSON A 0 A_PlaySound("monster/omenwasp2/flying")
  	PSON BB 1 A_Look
  	loop
    See:
	PSON A 0 A_Jump(150,7)
  	PSON A 0 A_PlaySound("monster/omenwasp2/flying")
  	PSON AA 1 A_Chase
  	PSON A 0 A_PlaySound("monster/omenwasp2/flying")
  	PSON BB 1 A_Chase
	Loop
  	PSON A 0 A_PlaySound("monster/omenwasp2/flying")
  	PSON AA 1 A_ExtChase(0,0)
  	PSON A 0 A_PlaySound("monster/omenwasp2/flying")
  	PSON BB 1 A_ExtChase(0,0)
	Loop
    Missile:
	TNT1 A 0 A_Jump(160,"See")
	PSON C 2 A_FaceTarget
	PSON D 0 A_SpawnProjectile("OmenWaspNecroZapscatter",28,0,25)
	PSON D 0 A_SpawnProjectile("OmenWaspNecroZapscatter",28,0,-25)
	PSON D 4 Bright A_SpawnProjectile("OmenWaspNecroShot",28,0,0)
	PSON A 4 A_FaceTarget
	goto See
    Pain:
	PSON C 4 A_Pain
	goto See
    Death:
	PSON E 4 Bright A_Scream
	PSON FG 3 Bright
	PSEX A 0 A_NoBlocking
	PSEX A 0 A_PlayWeaponSound("monster/jon/bombexplosion")
	PSEX A 0 A_SpawnItem("PowerslaveExplosion",0,25,0)
	TNT1 A 1 A_Explode(25,90,0)
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

Actor PowerslaveExplosion
{
    scale 0.8
    +NOGRAVITY
    +NOCLIP
    states
    {
    Spawn:
	PSEX ABCDE 3 Bright
	TNT1 A 0
	stop
    }
}

Actor PowerslaveExplosion2 : PowerslaveExplosion
{
    scale 1.10
}

Actor PowerSlaveExplosion2Kilmaatikhan : PowerSlaveExplosion2
{
    speed 2
}

Actor OmenWaspNecroShot
{
    scale 0.45
    radius 8
    height 20
    speed 12
    damage 10
    PROJECTILE
    +SEEKERMISSILE
	DamageType "AEMagic"
    seesound "monster/omenwasp2/melee"
    deathsound "clericflamecircle"
    states
    {
    Spawn:
	RR27 A 0 A_SeekerMissile(4,1)
	RR27 A 2 Bright A_SpawnItem("OmenWaspNecroZapTrail",0,0,0)
	RR27 A 0 A_SeekerMissile(4,1)
	RR27 B 2 Bright A_SpawnItem("OmenWaspNecroZapTrail",0,0,0)
	RR27 A 0 A_SeekerMissile(4,1)
	RR27 C 2 Bright A_SpawnItem("OmenWaspNecroZapTrail",0,0,0)
	loop
    Death:
	ZAP7 A 0 A_SpawnProjectile("OmenWaspNecroZapscatter",0,0,0,2)
	ZAP7 A 0 A_SpawnProjectile("OmenWaspNecroZapscatter",0,0,45,2)
	ZAP7 A 0 A_SpawnProjectile("OmenWaspNecroZapscatter",0,0,90,2)
	ZAP7 A 0 A_SpawnProjectile("OmenWaspNecroZapscatter",0,0,135,2)
	ZAP7 A 0 A_SpawnProjectile("OmenWaspNecroZapscatter",0,0,180,2)
	ZAP7 A 0 A_SpawnProjectile("OmenWaspNecroZapscatter",0,0,225,2)
	ZAP7 A 0 A_SpawnProjectile("OmenWaspNecroZapscatter",0,0,270,2)
	ZAP7 A 0 A_SpawnProjectile("OmenWaspNecroZapscatter",0,0,315,2)  
	BLST ABCDEFGHIJ 2 Bright
	stop
    }
}


Actor OmenWaspNecroZapscatter
{
    scale 0.30
    radius 4
    height 8
    speed 5
    damage 0
    +STRIFEDAMAGE
    PROJECTILE
    +MISSILE
    +RIPPER	RipperLevel 1
    states
    {
    Spawn:
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut(0.04)
	loop
    Death:
	ZAP7 AABBCCDDEE 1 Bright A_FadeOut(0.04)
	loop
    }
}

Actor OmenWaspNecroZapTrail : OmenWaspNecroZapscatter
{
    speed 0
    damage 0
    -RIPPER
    +NOCLIP
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================

//Super Mite.  All they do is move around and spit acid at you, and attempt to bite
//if you get too close to it.
Actor SuperMite : RedMite 7338	//arachnotron
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 170
	DropItem "PowerupSpawner" 8
    obituary "%o was melted by a Super Mite's corrosive acid."
    hitobituary "%o invited %pself to a Super Mite's dinner."
    health 650
    scale 1.50
    speed 8
    radius 30
    height 40
    meleerange 55
    meleedamage 6
    painchance 40
    mass 500
    seesound "monster/redmite/jump"
    deathsound "monster/omoicaco/death"
    Translation "168:191=192:207","16:47=193:207"
    +SOLID
    +MISSILEEVENMORE
    +BOSSDEATH
    +COUNTKILL
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Drain", 96
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain

    Spawn:
	PSEN D 1 A_Look
	loop
    See:
	PSEN AABBCC 3 A_Chase
	loop
    Melee:
	PSEN F 5 A_FaceTarget
	PSEN G 5 A_MeleeAttack
	PSEN F 5 A_FaceTarget
	goto See
    Missile:
	PSEN A 5 A_FaceTarget
	PSEN F 4 A_FaceTarget
	PSEN G 0 A_SpawnProjectile("SerpentFX",25,0,15,0)
	PSEN G 0 A_SpawnProjectile("SerpentFX",25,0,0,0)
	PSEN G 5 A_SpawnProjectile("SerpentFX",25,0,-15,0)
	PSEN F 4 A_FaceTarget
	PSEN G 0 A_SpawnProjectile("SerpentFX",25,0,5,0)
	PSEN G 5 A_SpawnProjectile("SerpentFX",25,0,-5,0)
	PSEN G 4 A_FaceTarget
	PSEN G 0 A_SpawnProjectile("SerpentFX",25,10,0,2)
	PSEN G 0 A_SpawnProjectile("SerpentFX",25,-10,0,2)
	PSEN G 5 A_SpawnProjectile("SerpentFX",25,0,0,2)
	PSEN F 4 A_FaceTarget
	goto See
    Pain:
	PSEN A 3 A_Pain
	goto See
    Ice:
	PSEN A 5 A_GenericFreezeDeath
	PSEN A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	PSEN A 1 A_FreezeDeathChunks
	Wait
    Death:
	PSEN H 4 A_Scream
	PSEN IJ 4
	TNT1 A 0 A_SpawnProjectile("SMiteGib1",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib2",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib3",0+Random(30,60),0+Random(35,-35),0+Random(0,370))  
	TNT1 A 0 A_SpawnProjectile("SMiteGib4",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib5",0+Random(30,60),0+Random(35,-35),0+Random(0,370))  
	TNT1 A 0 A_SpawnProjectile("SMiteGib6",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib7",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib8",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib1",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib2",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib3",0+Random(30,60),0+Random(35,-35),0+Random(0,370))  
	TNT1 A 0 A_SpawnProjectile("SMiteGib4",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib5",0+Random(30,60),0+Random(35,-35),0+Random(0,370))  
	TNT1 A 0 A_SpawnProjectile("SMiteGib6",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib7",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_SpawnProjectile("SMiteGib8",0+Random(30,60),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_NoBlocking
	PSEN A 0 A_SpawnItem("RedMite",4,5,0)
	PSEN A 0 A_SpawnItem("RedMite",-4,5,0)
	PSEN A 0 A_SpawnItem("RedMite",-8,8,0)
	PSEN A 0 A_SpawnItem("RedMite",8,8,0)  
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		MediumBig
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	
	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
    }
}

Actor SMiteGib1 : MiteGib1
{
    speed 12
    BounceFactor 0.4
    scale 1.50
    radius 6
    height 6
    Translation "168:191=192:207","16:47=193:207"
}

Actor SMiteGib2 : MiteGib2
{
    speed 12
    BounceFactor 0.4
    scale 1.50
    radius 6
    height 6
    Translation "168:191=192:207","16:47=193:207"
}

Actor SMiteGib3 : MiteGib3
{
    speed 12
    BounceFactor 0.4
    scale 1.50
    radius 6
    height 6
    Translation "168:191=192:207","16:47=193:207"
}

Actor SMiteGib4 : MiteGib4
{
    speed 12
    BounceFactor 0.4
    scale 1.50
    radius 6
    height 6
    Translation "168:191=192:207","16:47=193:207"
}

Actor SMiteGib5 : MiteGib5
{
    speed 12
    BounceFactor 0.4
    scale 1.50
    radius 6
    height 6
    Translation "168:191=192:207","16:47=193:207"
}

Actor SMiteGib6 : MiteGib6
{
    speed 12
    BounceFactor 0.4
    scale 1.50
    radius 6
    height 6
    Translation "168:191=192:207","16:47=193:207"
}

Actor SMiteGib7 : MiteGib7
{
    speed 12
    BounceFactor 0.4
    scale 1.50
    radius 6
    height 6
    Translation "168:191=192:207","16:47=193:207"
}

Actor SMiteGib8 : MiteGib8
{
    speed 12
    BounceFactor 0.4
    scale 1.50
    radius 6
    height 6
    Translation "168:191=192:207","16:47=193:207"
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Super Omen Wasp.  Just a larger Omen Wasp with a ranged attack.  Really not all
//that hard to fight.
Actor OmenWaspSuper : OmenWasp 7339	//cacodemon
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 70
	DropItem "PowerupSpawner" 8
    obituary "%o found the mother of all Omen Wasps!"
    scale 0.80
    health 400
    radius 24
    height 56
    painchance 40
    meleerange 32
    meleedamage 6
    mass 500
    speed 16
    MinMissileChance 24
    painsound "monster/omenwasp/attack"
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 128
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    states
    {
    See:
  	OWDE A 0 A_ChangeFlag(FLOATBOB,0)
  	OWDE A 0 A_PlaySound("monster/omenwasp/flying")
  	OWDE A 3 A_Chase("","")
  	OWDE B 0 A_PlaySound("monster/omenwasp/flying")
  	OWDE B 3 A_Chase
  	loop
    Missile:
	OWDE CD 5 A_FaceTarget
	OWDE E 7 Bright A_SpawnProjectile("BaronBall",45,0,0)
	goto See
    Pain:
	OWDE A 0 A_Pain
	OWDE AB 2
	goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 A_GiveInventory("DisintegrateToken",1)
    DisintegrateCont:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}


/*
//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================

//The Piranha.  These guys are meant to move inside swimmable sectors, so
//they would look out of place in levels where they are outside pools of
//swimmable water.
Actor Piranha
{
    obituary "%o was eaten by a piranha."
    health 30
    height 24
    radius 16
    speed 16
    mass 120
    meleedamage 3
    scale 0.5
    seesound "monster/piranha/sight"
    meleesound "monster/piranha/bite"
    deathsound "monster/piranha/death"
    MONSTER
    +NOGRAVITY
    +FLOAT
    +FLOORCLIP
    states
    {
    Spawn:
	PIRA A 1 A_Look
	loop
    See:
	PIRA ABCDB 2 A_Chase
	loop
    Melee:
	PIRA EF 3 A_FaceTarget
	PIRA G 3 A_MeleeAttack
	PIRA HI 3 A_FaceTarget
	PIRA J 3 A_MeleeAttack
	goto See
    Death:
	PIRA K 3 A_Scream
	PIRA L 3
	PIRA L 0 A_SpawnProjectile("PiranhaFishpiece1",0,0,random(-180,180))
	PIRA L 0 A_SpawnProjectile("PiranhaFishpiece2",0,0,random(-180,180))
	PIRA L 0 A_SpawnProjectile("PiranhaFishpiece3",0,0,random(-180,180))
	PIRA PQR 3
	TNT1 A 0 A_NoBlocking
	stop
    }
}

Actor PiranhaFishpiece1
{
    radius 4
    height 8
    speed 8
    scale 0.5
    PROJECTILE
    +MISSILE
    states
    {
    Spawn:
	PIRA M 0 A_SpawnItem("Blood")
	PIRA M 1 A_Gravity
	loop
    Death:
	PIRA M 500
	PIRA M 1 A_FadeOut(0.01)
	goto Death+1
    }
}

Actor PiranhaFishpiece2 : PiranhaFishpiece1
{
    states
    {
    Spawn:
	PIRA N 0 A_SpawnItem("Blood")
	PIRA N 1 A_Gravity
	loop
    Death:
	PIRA N 500
	PIRA N 1 A_FadeOut(0.01)
	goto Death+1
    }
}

Actor PiranhaFishpiece3 : PiranhaFishpiece1
{
    states
    {
    Spawn:
	PIRA O 0 A_SpawnItem("Blood")
	PIRA O 1 A_Gravity
	loop
    Death:
	PIRA O 500
	PIRA O 1 A_FadeOut(0.01)
	goto Death+1
    }
}
*/

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//The Magmantis.  The Magmantis only moves around inside lava, so
//Use of the Magmantis is nonsense if the Magmantis ends up coming
//out of solid ground, water, blood, or slime.  Use only for inside
//lava pits!
//
//For a more sensible version, check Magmos.
Actor Magmantis
{
    obituary "%o was roasted alive by a Magmantis."
    radius 36
    height 100
    health 1000
    mass 99999999
    speed 10
    painchance 5
    meleerange 128
    bloodcolor orange BloodType "AEBloodOrange"
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSS
    +FIRERESIST
    +LOOKALLAROUND
    +NOICEDEATH
    +FLOORCLIP
    painsound "monster/magmantis/pain"
    deathsound "monster/magmantis/death"
    activesound "monster/magmantis/active"
//Fire
	DamageFactor "Fire", 0.5
	DamageFactor "Ice", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEMagic", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
    states
    {
    Spawn:
	TNT1 A 1 A_UnSetShootable
	TNT1 A 1 A_Look
	loop
    See:
	TNT1 A 2 A_ExtChase(0,1)
	TNT1 A 2 A_ExtChase(0,0)
	loop
    Missile:
	TNT1 A 5 A_QuakeEx(1,1,0, 48,0,48,"", QF_SCALEDOWN)
	TNT1 A 0 A_SpawnItem("MagmantisRisefromlava",0,0)
	MAGM "[" 2 Bright A_FaceTarget
	MAGM ZYXWVUA 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnItem("MagmantisRoar",0,24)
	MAGM A 0 A_SetShootable
	MAGM ABBCCCDDDDDDDDDBBBAAA 2 Bright A_FaceTarget
	MAGM AAAAABBBBCCCC 1 Bright A_FaceTarget
	MAGM D 0 A_PlaySound("monster/magmantis/attack")
	MAGM DDD 2 Bright A_SpawnProjectile("MagmantisMagmaBall",100+random(-8,4),random(-24,24),0)
	MAGM CCBBAAA 2 Bright A_FaceTarget
	MAGM A 0 A_UnSetShootable
	MAGM AUVWXYZ 2 Bright
	MAGM "[" 2 Bright
	MAGM A 0 A_SpawnItem("MagmantisRisefromlava",0,0)
	MAGM A 0 A_UnSetInvulnerable
	goto See
    Pain:
	MAGM D 0 A_SetInvulnerable
	MAGM D 4 Bright A_Pain
	MAGM CBA 3 Bright
	goto Missile+57
    Death:
	MAGM D 4 Bright A_Scream
	MAGM CBAAAAAA 2 Bright A_FaceTarget
	MAGM BCD 3 Bright A_FaceTarget
	MAGM EFGH 4 Bright
	MAGM IIIIII 0 A_SpawnProjectile("MagmantisLavasplatter",random(24,112),random(-24,24),random(-180,180),2,random(0,60))
	MAGM IIIIII 0 A_SpawnProjectile("MagmantisLavasplatter2",random(24,112),random(-24,24),random(-180,180),2,random(0,60))  
	MAGM I 0 A_SpawnItem("Powerslaveexplosion2",0,56)
	MAGM I 0 A_PlaySound("monster/magmantis/firehit")
	MAGM I 4 Bright A_SpawnItem("Magmantishalfhead",0,112)
	MAGM MNOPQ 3 Bright
	TNT1 A 0 A_NoBlocking
	stop
    }
}

Actor MagmantisMagmaBall
{
    radius 6
    height 12
    scale 0.5
    damage 15
    speed 16
    deathsound "monster/magmantis/firehit"
    PROJECTILE
    +MISSILE
    DamageType "Fire"
    states
    {
    Spawn:
	PSFX J 2 Bright
	loop
    Death:
	PSEX A 0 A_Explode(192,128,0)
	PSEX ABCDE 3 Bright
	stop
    }
}

Actor MagmantisRisefromlava
{
    radius 0
    height 0
    +NOCLIP
    states
    {
    Spawn:
	MAGM MNOPQR 3 Bright
	stop
    }
}

Actor Magmantishalfhead
{
    radius 0
    height 0
    PROJECTILE
    +MISSILE
    states
    {
    Spawn:
	MAGM J 0 ThrustThingZ(0,8,0,1)
	MAGM J 1 Bright A_Gravity
	goto Spawn+1
    Death:
	MAGM J 250 Bright
	MAGM J 1 Bright A_FadeOut(0.01)
	goto Death+1
    }
}

Actor MagmantisLavasplatter
{
    radius 2
    height 2
    speed 16
    damage 3
    PROJECTILE
    +MISSILE
    +FIREDAMAGE
    states
    {
    Spawn:
	MAGM K 1 Bright A_Gravity
	loop
    Death:
	TNT1 A 0
	stop
    }
}

Actor MagmantisLavasplatter2 : MagmantisLavasplatter
{
    states
    {
    Spawn:
	MAGM L 1 Bright A_Gravity
	loop
    }
}

Actor Magmantisroar : Leonardenhancedgetsgibbed
{
    deathsound "monster/magmantis/sight"
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Kilmaat Sentry.
Actor KilmaatSoldier 7340	//zombieman
{
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerMonsterAmmo" 255
	DropItem "PowerupSpawner" 8
    obituary "%o encountered the Kilmaat."
    scale 0.52
    radius 16
    height 52
    health 50
    speed 6
    painchance 70
    mass 450
    seesound "monster/kilmaatsentry/sight"
    painsound "monster/selkis/pain2"
    activesound "monster/kilmaatsentry/active"
    deathsound "monster/kilmaatsentry/death"
    Monster	+DONTCORPSE	RipLevelMin 1
    +MISSILEMORE
    +FLOORCLIP
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 160
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See

    Spawn:
	KILM A 1 A_Look
	loop
    See:
	KILM ABCD 3 A_Chase
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop

    Missile:

	KILM E 4 A_FaceTarget
	KILM F 4 Bright A_SpawnProjectile("KilmaatGunshot",32,5,0,0)
	KILM E 4 A_FaceTarget
	KILM E 0 A_SpidRefire
	KILM E 0 A_Jump(96,1)
	goto Missile
	KILM E 0
	goto See
    Pain:
	KILM G 8 A_Pain
	goto See
    Death:
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,16)
	KILM H 4
	KILM I 4 A_Scream
	KILM JK 3
	KILM JJJJJJJJ 0 A_TossGib  
	KILM O 3 A_SpawnItem("Kilmaatguts")
	KILM P 1 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
	KILM P -1
	stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Death+2
    Raise:
	KILM POKJIH 3
	goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

Actor KilmaatGunshot
{
    radius 6
    height 8
    scale 0.15
    damage 3
    speed 25
    RENDERSTYLE ADD
    Alpha 0.95
    PROJECTILE
    +MISSILE
    +STRIFEDAMAGE
	DamageType "Plasma"
    seesound "monster/kilmaatsentry/shoot"
    deathsound "enforcer/shotcrash"
    states
    {
    Spawn:
	RRAE AD 2 Bright
	loop
    Death:
	RRAE EF 2 Bright
	RRAE G 2 Bright A_SpawnProjectile("LaserSpawnin",0,0,0)
	RRAE H 2 Bright
	stop
    }
}


Actor LaserSpawnin
{
    height 1
    radius 1
    scale 0.15
    RENDERSTYLE ADD
    Alpha 0.95
    PROJECTILE
    +NOCLIP
    states
    {
    Spawn:
	RRAE BC 3 Bright
	stop
    }
}

Actor Kilmaatguts
{
    BounceFactor 0.52
    +DOOMBOUNCE
    Speed 8
    Projectile
    Scale 0.5
    -NOGRAVITY
    -NOBLOCKMAP
    states
    {
    Spawn:
	KILM LMN 3
    Death:
	KILM N 200
	KILM N 1 A_FadeOut
	Wait
    }
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Elite Kilmaat Sentry.  I had to do more modifications to make sure
//that the attacks it can use don't severely damage the player.  I may
//have made it a bit too weak, but I'm not sure...
Actor KilmaatSoldierElite : KilmaatSoldier 7341		//revenant
{
	DropItem "CellBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    obituary "%o got overwhelmed by an Elite Kilmaat Sentry."
    health 400
    painchance 45
    painsound "monster/kilmaatsentry/pain"
    deathsound "monster/omoicaco/death"
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Defile", 255
    PainChance "Drain", 110
    Translation  "0:255=%[0,0,0]:[1.0,0.5,0.3]", "208:235=208:235", "160:191=160:191", "248:249=248:249"
//Armor                    //stronger skin FTW
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
    states
    {
    Missile:
	KILM E 6 A_FaceTarget
	KILM F 2 Bright A_SpawnProjectile("PlasmaBallKilmaat",32,0,0,0)
	KILM F 2 Bright A_FaceTarget
	KILM F 0 A_SpawnProjectile("PlasmaBallKilmaat",32,8,0,0)
	KILM F 2 Bright A_SpawnProjectile("PlasmaBallKilmaat",32,-8,0,0)
	KILM F 2 Bright A_FaceTarget
	KILM F 0 A_SpawnProjectile("PlasmaBallKilmaat",32,-16,0,0)
	KILM F 2 Bright A_SpawnProjectile("PlasmaBallKilmaat",32,16,0,0)
	KILM F 2 Bright A_FaceTarget
	KILM F 0 A_SpawnProjectile("PlasmaBallKilmaat",32,-8,0,0)
	KILM F 2 Bright A_SpawnProjectile("PlasmaBallKilmaat",32,8,0,0)
	KILM F 2 Bright A_FaceTarget
	KILM F 2 Bright A_SpawnProjectile("PlasmaBallKilmaat",32,0,0,0)
	KILM F 2 Bright A_FaceTarget
	KILM E 6 A_FaceTarget
	goto See
    }
}

Actor PlasmaBallKilmaat : PlasmaBall
{
	DamageType "Plasma"
    speed 18
    damage 3
    +STRIFEDAMAGE
    Translation "192:199=208:223","200:207=232:239"
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Kilmaat Leader-to-be.  I just had to.  Don't ask why.
Actor SmallKilmaatikhan 7342	//archvile
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 64
    obituary "%o was blasted by a Kilmaat Leader-to-be."
    health 1250
    painchance 40
    speed 8
    radius 20
    height 56
    scale 0.4
    mass 600
    seesound "monster/selkis/pain1"
    activesound "monster/kilmaatsentry/active"
    painsound "monster/kilmaatsentry/pain"
    deathsound "monster/omoicaco/death"
    Monster	+DONTCORPSE	RipLevelMin 1
    +FIRERESIST
    +FLOORCLIP
    +DONTMORPH
    DamageFactor "Wormwood", 0.5
    PainChance "Charm", 96
    PainChance "Terror", 96
    PainChance "Drain", 64
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
    States
    {
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Spawn:
	KBOS AB 6 A_Look
	loop
    See:
	KBOS AABBCCDDEE 2 A_Chase
	loop
    Missile:
	TNT1 A 0 A_JumpIfCloser(190,"Spit")
    Spit:
	TNT1 A 0 A_Jump(128,"Acid")
	KBOS IJ 3 A_FaceTarget
	KBOS KKKKKKKKKKK 0 Bright A_SpawnProjectile("miniKilmaatikhanspit",15,random(-5,5),random(-10,10),2,random(0,35))
	KBOS K 6 Bright A_SpawnProjectile("miniKilmaatikhanspit",15,random(-5,5),random(-10,10),2,random(0,35))
	KBOS JI 3 A_Facetarget
	goto See
    Acid:
	KBOS IL 5 A_FaceTarget
	KBOS CCCCCCCCCCCC 1 A_SpawnProjectile("SerpentFXKilmaat",50,0,random(20,-20))  
	KBOS C 1 A_SpawnProjectile("SerpentFXKilmaat",50,0,0)
	KBOS I 5 A_FaceTarget
	goto See
    Pain:
	KBOS A 5
	KBOS L 5 A_Pain
	goto Missile+9
    Death:
	KBOS M 15 A_Scream
	TNT1 A 0 A_NoBlocking
	TNT1 AAAAAAAA 0 A_SpawnProjectile("miniKilmaatikhanguts1",random(0,50),0,random(-180,180),2,random(10,25))
	TNT1 AAAAAAAA 0 A_SpawnProjectile("miniKilmaatikhanguts2",random(0,50),0,random(-180,180),2,random(10,25))
	TNT1 AAAAAAAA 0 A_SpawnProjectile("miniKilmaatikhanguts3",random(0,50),0,random(-180,180),2,random(10,25))
	TNT1 AA 0 A_SpawnProjectile("miniKilmaatikhanguts4",random(0,50),0,random(-180,180),2,random(10,25))
	TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnProjectile("miniKilmaatikhanorangeballblood",random(25,75),0,random(-180,180),2,random(10,25))
	TNT1 A 0 A_SpawnItem("miniKilmaatikhanHead",0,40)
	TNT1 A 1
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		MediumBig
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

Actor SerpentFXKilmaat : SerpentFX
{
	Speed 22
	Damage 10
}

Actor miniKilmaatikhanguts1
{
	BounceFactor 0.38
	+DOOMBOUNCE
	Speed 8
	Projectile
	Scale 0.5
	-NOGRAVITY
	-NOBLOCKMAP
	+THRUACTORS
	seesound "misc/powerslavegib"
	deathsound "misc/powerslavegib"
    states
    {
    Spawn:
		TNT1 A 0 
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		KBOS OOOOOOOOOOOOOOO 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		KBOS O 500
		KBOS O 1 A_FadeOut
		goto Death+1
    }
}

Actor miniKilmaatikhanguts2 : miniKilmaatikhanguts1
{
    states
    {
    Spawn:
		TNT1 A 0 
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		KBOS PPPPPPPPPPPPPP 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		KBOS P 500
		KBOS P 1 A_FadeOut
		goto Death+1
    }
}

Actor miniKilmaatikhanguts3 : miniKilmaatikhanguts1  
{
    states
    {
    Spawn:
		TNT1 A 0 
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		KBOS QQQQQQQQQQQQQQQ 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		KBOS Q 500
		KBOS Q 1 A_FadeOut
		goto Death+1
    }
}

Actor miniKilmaatikhanguts4 : miniKilmaatikhanguts1
{
    scale 0.5
    states
    {
    Spawn:
		TNT1 A 0 
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		KBOS "[[[[[[[[[[[[[[[" 1  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		KBOS "[" 500
		KBOS "[" 1 A_FadeOut(0.01)
		goto Death+1
    }
}
Actor miniKilmaatikhanHead : AEoDCorpse
{
    Scale 0.4
    Speed 5
	BounceFactor 0.38
	+DOOMBOUNCE
	Projectile
	-NOGRAVITY
	-NOBLOCKMAP
	+THRUACTORS
	seesound "misc/powerslavegib"
	deathsound "misc/powerslavegib"
    states
    {
    Spawn:
		TNT1 A 0 
		TNT1 A 0 ThrustThingZ(0,random(10,60),0,1)
		KBOS NNNNNNNNNNNNNN 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
		KBOS N -1
		{
			A_ChangeFlag("THRUACTORS",1);
			A_ChangeFlag("NOBLOCKMAP",0);
			A_ChangeFlag("MISSILE",0);
			A_QueueCorpse;
			A_ChangeFlag("CORPSE",1);
		}
		stop
    }
}

Actor miniKilmaatikhanorangeballblood : miniKilmaatikhanguts1
{
    speed 15
    scale 0.15
    Translation "168:191=208:223"
    states
    {
    Spawn:
		KBS2 B 1 A_Gravity
		loop
    Death:
		KBS2 B 500
		KBS2 B 1 A_FadeOut
		goto Death+1
    }
}

Actor miniKilmaatikhanspit
{
    radius 4
    height 8
    speed 20
    scale 0.2
    damage 10
    PROJECTILE
    +MISSILE
    +STRIFEDAMAGE
	DamageType "Fire"
    states
    {
    Spawn:
	KBS2 B 1 Bright A_Gravity
	loop
    Death:
	KBS2 B 0 A_Explode(32,50,0)
	TNT1 A 0 A_SpawnItem("PowerslaveExplosion3",0,25,0)
	TNT1 A 0 A_PlaySound("monster/set/spiritexplode")
	stop
    }
}

Actor PowerslaveExplosion3 : PowerslaveExplosion2
{
    scale 0.4
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================

//As far as I know, this brute only appeared in the PC version of Powerslave,
//and as I had put it in as a mancubus-class enemy, this melee-specialized
//enemy is easily killable, but only it's head is vulnerable.  I used a special
//trick to make the rest of the enemy immune to damage.
Actor RexFiend 7343	//arachnotron
{
	DropItem "Mana2Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 8
    obituary "%o encountered a Rhinoceros & Armadillo hybrid monster."
    scale 0.75
    height 52
    radius 35
    health 800
    speed 12
    meleedamage 8
    meleerange 50
    mass 1200
    seesound "monster/rexfiend/sight"
    activesound "monster/rexfiend/active"
    meleesound "monster/rexfiend/melee2"
    deathsound "monster/rexfiend/death"
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSSDEATH
    +MISSILEEVENMORE
    +FLOORCLIP
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 96
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Flesh        //they already have an ingame physical armor
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto See

    Spawn:
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF A 1 A_Look
	loop
    See:
	REXF A 0 A_SpawnItem("RexFiendArmor",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor",-18)
	REXF A 4 A_Chase
	REXF A 0 A_SpawnItem("RexFiendArmor",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor",-18)
	REXF B 4 A_Chase
	REXF A 0 A_SpawnItem("RexFiendArmor",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor",-18)
	REXF A 4 A_Chase
	REXF A 0 A_SpawnItem("RexFiendArmor",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor",-18)
	REXF C 4 A_Chase
	REXF A 0 A_SpawnItem("RexFiendArmor",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor",-18)
	REXF D 4 A_Chase
	loop
    Missile:
	REXF A 0 A_Jump(146,32)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF A 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF A 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF B 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF B 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF A 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF A 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF C 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF C 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF D 1 A_ExtChase(256,0)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-25)
	REXF A 0 A_SpawnItem("RexFiendArmor3",-18)
	REXF D 1 A_ExtChase(256,0)  
	REXF A 0 A_Jump(48,19)
	goto Missile+2
	REXF G 0 A_SpawnItem("RexFiendArmor4",-25)
	REXF G 0 A_SpawnItem("RexFiendArmor4",-18)
	REXF G 10 A_PlaySound("monster/rexfiend/roar")
	REXF H 0 A_SpawnItem("RexFiendArmor2",-18)
	REXF H 5 A_SpawnItem("RexFiendArmor2",-25)
	REXF H 0 A_SpawnItem("RexFiendArmor2",-18)
	REXF I 5 A_SpawnItem("RexFiendArmor2",-25)
	REXF H 0 A_SpawnItem("RexFiendArmor2",-18)
	REXF I 5 A_SpawnItem("RexFiendArmor2",-25)
	REXF H 0 A_SpawnItem("RexFiendArmor2",-18)
	REXF I 5 A_SpawnItem("RexFiendArmor2",-25)
	REXF H 0 A_SpawnItem("RexFiendArmor2",-18)
	REXF I 5 A_SpawnItem("RexFiendArmor2",-25)
	REXF H 0 A_SpawnItem("RexFiendArmor2",-18)
	REXF H 5 A_SpawnItem("RexFiendArmor2",-25)
	REXF G 0 A_SpawnItem("RexFiendArmor2",-18)
	REXF G 5 A_SpawnItem("RexFiendArmor2",-25)
	REXF A 0 A_Jump(192,1)
	goto See
	REXF A 0 A_SpawnItem("RexFiendArmor2",-18)
	REXF A 5 A_SpawnItem("RexFiendArmor2",-25)
	loop
    Melee:
	REXF E 0 A_SpawnItem("RexFiendArmor5",-25)
	REXF E 0 A_SpawnItem("RexFiendArmor5",-18)
	REXF E 0 A_PlaySound("monster/rexfiend/melee1")
	REXF E 3 A_FaceTarget
	REXF E 0 A_SpawnItem("RexFiendArmor5",-25)
	REXF E 0 A_SpawnItem("RexFiendArmor5",-18)  
	REXF F 3 A_MeleeAttack
	REXF E 0 A_SpawnItem("RexFiendArmor5",-25)
	REXF E 0 A_SpawnItem("RexFiendArmor5",-18)
	REXF F 3
	REXF E 0 A_SpawnItem("RexFiendArmor5",-25)
	REXF E 0 A_SpawnItem("RexFiendArmor5",-18)
	REXF F 3 A_FaceTarget
	REXF E 0 A_SpawnItem("RexFiendArmor5",-25)
	REXF E 0 A_SpawnItem("RexFiendArmor5",-18)
	REXF F 3
	REXF E 0 A_SpawnItem("RexFiendArmor5",-25)
	REXF E 0 A_SpawnItem("RexFiendArmor5",-18)
	REXF F 3
	REXF E 0 A_SpawnItem("RexFiendArmor5",-25)
	REXF E 0 A_SpawnItem("RexFiendArmor5",-18)
	REXF F 3
	goto See
    Ice:
	REXF D 5 A_GenericFreezeDeath
	REXF D 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	REXF D 1 A_FreezeDeathChunks
	Wait
    Death:
	REXF J 6 A_Scream
	REXF JKLMN 6
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"####" "#" 0 A_QueueCorpse
	"####" "#" 0 A_ChangeFlag("CORPSE",1)
	REXF O -1 A_NoBlocking
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		MediumBig
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

Actor RexFiendArmor //Makes the Rex Fiend shrug off damage attempted on it's body.
{
    health 999999
    radius 40
    height 56
    +NOCLIP
    +SHOOTABLE
    +INVULNERABLE
    states
    {
    Spawn:
	TNT1 A 5
	stop
    }
}

Actor RexFiendArmor2 : RexFiendArmor
{
    states
    {
    Spawn:
	TNT1 A 6
	stop
    }
}

Actor RexFiendArmor3 : RexFiendArmor
{
    states
    {
    Spawn:
	TNT1 A 2
	stop
    }
}

Actor RexFiendArmor4 : RexFiendArmor
{
    states
    {
    Spawn:
	TNT1 A 11
	stop
    }
}

Actor RexFiendArmor5 : RexFiendArmor
{
    states
    {
    Spawn:
	TNT1 A 4
	stop
    }
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Set.
Actor Set 7344	//cyberdemon
{
	DropItem "AEoDTomeOfSetItem" 128
	DropItem "RandomWeaponPower"
	DropItem "RandomWeaponPower"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    obituary "%o fell prey to Set."
    hitobituary "%o was beaten to a bloody pulp by Set."
    health 6500
    mass 1200
    painchance 15
    scale 0.8
    radius 38
    height 101
    speed 12
    meleerange 90
    meleedamage 25
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSSDEATH
    +NORADIUSDMG
    +BOSS
    +FLOORCLIP
    +DONTMORPH
    +NOFEAR
    seesound "monster/set/sight"
    activesound "monster/set/active"
    painsound "monster/set/pain"
    deathsound "monster/set/death"
    meleesound "monster/set/melee"
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Unholy
	DamageFactor "Holy", 2.0
	DamageFactor "Unholy", 0.5
	DamageFactor "UnholyDisint", 0.5
	DamageFactor "Fire", 0.75
	DamageFactor "Ice", 0.75
	DamageFactor "AEPoison", 0.75
	DamageFactor "AEMagic", 0.75
    States
    {
        Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Spawn:
	PSET L 2 A_Look
	loop
    See:
	PSET D 0 A_TakeInventory("SetLightningCheck",50)
	PSET D 0 A_UnSetInvulnerable
	PSET D 0 A_PlaySound("monster/set/move")
	PSET DDDEEE 2 A_Chase
	PSET L 0 A_ChangeFlag(DROPOFF,0)  
	PSET D 0 A_PlaySound("monster/set/move")
	PSET FFFGGG 2 A_Chase
	loop
    Missile:
	PSET D 0 A_Jump(15,7)
	PSET D 0 A_Jump(5,21) //One Paralysis Spirit
	PSET D 0 A_Jump(5,21) //Two Paralysis Spirits
	PSET D 0// A_Jump(5,21) //Three Paralysis Spirits
	PSET D 0// A_Jump(5,21) //Four Paralysis Spirits
	PSET D 0 A_Jump(5,107) //Super Paralysis Spirit.  Yipes!
	PSET D 0 A_Jump(10,110) //Lightning
	Goto Missile
	PSET L 7 A_FaceTarget
	PSET L 0 A_PlaySound("monster/set/jump")
	PSET L 0 A_SetInvulnerable
	PSET M 0 A_Recoil(-15)
	PSET MMMMMMM 3 ThrustThingZ(0,17,0,1)
	PSET M 0 A_Recoil(0.1)//Was MMM 5.  Recoil of 0.1 is used incase Set is stuck ontop of sprite-based objects.
	PSET M 0 A_Explode(768,39,1) //Reason the Explosiondamage is big is because Set is supposed to stomp on you if you are below him!!!
	PSET M 1 A_CheckFloor(1)
	goto Missile+18
	PSET M 0
	goto Missile+32
	PSET L 0 A_GiveInventory("SetSpiritInit",3)
	goto Missile+25
	PSET L 0 A_GiveInventory("SetSpiritInit",2)
	goto Missile+25 
	PSET L 0 A_GiveInventory("SetSpiritInit",1)
	PSET N 4 A_FaceTarget
	PSET O 0 A_PlaySound("monster/set/attack1")
	PSET O 5 Bright A_SpawnProjectile("SetParalysisSpirit",48,0)
	PSET N 4 A_FaceTarget
	PSET N 0 A_GiveInventory("SetSpiritInit",1)
	PSET N 0 A_JumpIfInventory("SetSpiritInit",4,1)
	goto Missile+25
	PSET N 0 A_TakeInventory("SetSpiritInit",4)
	goto See
	PSET L 0 A_Stop
	PSET L 0 A_QuakeEx(4,4,0, 65,0,64,"", QF_SCALEDOWN)
	PSET L 0 A_Explode(256,192,1)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,10)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,20)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,30)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,40)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,50)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,60)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,70)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,80)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,90)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,100)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,110)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,120)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,130)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,140)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,150)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,160)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,170)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,180)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-10)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-20)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-30)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-40)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-50)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-60)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-70)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-80)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-90)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-100)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-110)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-120)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-130)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-140)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-150)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-160)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-170)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,0)
	PSET L 2 A_SpawnProjectile("SetStompSound",31,1,0)
	PSET L 0 A_ChangeFlag(DROPOFF,1)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,10)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,20)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,30)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,40)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,50)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,60)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,70)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,80)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,90)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,100)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,110)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,120)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,130)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,140)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,150)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,160)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,170)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,180)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-10)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-20)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-30)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-40)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-50)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-60)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-70)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-80)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-90)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-100)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-110)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-120)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-130)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-140)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-150)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-160)
	PSET L 0 A_SpawnProjectile("SumoShockWaveStrong",0,0,-170)
	PSET L 2 A_SpawnProjectile("SumoShockWaveStrong",0,0,0)
	PSET L 2
	PSET L 0 A_Jump(32,1)
	goto See
	PSET N 4 A_FaceTarget
	PSET O 0 A_PlaySound("monster/set/attack1")
	PSET O 5 Bright A_SpawnProjectile("SetParalysisSpiritBlue",48,0)
	PSET N 4 A_FaceTarget
	goto See
	PSET N 0 A_JumpIfInventory("SetLightningCheck",50,"See")
	PSET N 0 A_PlaySound("weapons/lightningshot")
	PSET N 0 A_FaceTarget
	PSET O 2 Bright A_SpawnProjectile("SetLightning",48,0)
	PSET N 0 A_Jump(50,2)
	PSET N 0 A_GiveInventory("SetLightningCheck",1)
	Goto Missile+115
	PSET N 0 A_GiveInventory("SetLightningCheck",2)
	Goto Missile+115
    Melee:
	PSET HI 3 A_FaceTarget
	PSET J 0 A_PlayWeaponSound("monster/set/pain")
	PSET J 3 A_MeleeAttack
	PSET K 3 A_FaceTarget
	goto See
    Pain:
	PSET R 0 A_TakeInventory("SetSpiritInit",4)
	PSET R 3 A_Pain
	PSET S 3
	PSET P 10
	goto See
    Ice:
	PSET K 5 A_GenericFreezeDeath
	PSET K 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	PSET K 1 A_FreezeDeathChunks
	Wait
    Death:
	PSET R 5
	SETD A 0 A_SpawnProjectile("SetHead",89,0,random(0,360),2,65)
	SETD A 5 A_Scream
	SETD BCDE 4
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"####" "#" 0 A_QueueCorpse
	"####" "#" 0 A_ChangeFlag("CORPSE",1)
	SETD F -1 A_NoBlocking
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Big
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

ACTOR SetLightningCheck : Inventory
{
    Inventory.Amount 1
    Inventory.MaxAmount 50
}

ACTOR SetLightning
{
    Radius 2
    Height 2
    Speed 40
    Damage 4
    DamageType "Electric"
    Projectile
    DeathSound "weapons/lightningend"
    States
    {
    Spawn:
	TNT1 A 0
	TNT1 AAAAAA 1 A_SpawnItemEx("LightningTrailDistortion",0,frandom(-5,5),frandom(-5,5),0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnProjectile("SetLightning",0,0,random(-8,8),6,random(-8,8))
	TNT1 AA 1 A_SpawnItemEx("LightningTrailDistortion",0,frandom(-5,5),frandom(-5,5),0,0,0,0,SXF_NOCHECKPOSITION)
	Stop
    Death:
	TNT1 A 0
	TNT1 A 1 A_Scream
	Stop
    }
}

Actor SetHead : AEoDCorpse
{
    radius 6
    height 16
    scale 0.8
    speed 6
    bouncefactor 0.5
    PROJECTILE
    +DOOMBOUNCE
	+THRUACTORS
	+CORPSE
    states
    {
    Spawn:
		SETH A 0 NoDelay A_SpawnItem("Blood",random(-3,3))
		SETH A 0 A_SpawnItem("SetGutBlood",random(-3,3))  
		SETH AAAAAAAAAA 35 A_Gravity
    Death:
		SETH B -1 
		{
			A_QueueCorpse;
			A_Stop;
			A_ChangeFlag("MISSILE",0);
			A_ChangeFlag("NOBLOCKMAP",0);
			A_ChangeFlag("CORPSE",1);
		}
		stop
    }
}

Actor SetGutBlood : Blood
{
    Translation "168:191=112:127"
}

Actor SetSpiritInit : Inventory
{
    Inventory.MaxAmount 4
    Inventory.Amount 1
}

Actor SetStompSound : LeonardEnhancedgetsgibbed
{
    deathsound "monster/set/land"
}

Actor SetParalysisSpirit
{
    scale 0.7
    height 8
    radius 11
    damage 20
    speed 15
    seesound "monster/set/attack2"
    deathsound "monster/set/spiritexplode"
    PROJECTILE
    +STRIFEDAMAGE
    +SEEKERMISSILE
    +NOEXTREMEDEATH
	DamageType "Unholy"
    states
    {
    Spawn:
	PARS A 1 Bright A_SeekerMissile(15,90)
	loop
    Death:
	PARS BCDEFG 3 Bright
	stop
    }
}

Actor SetParalysisSpiritBlue : SetParalysisSpirit
{
    speed 26
    damage 30
    -SEEKERMISSILE
    +MISSILE
    +PIERCEARMOR //Armor won't help you here, buddy ;)
	DamageType "Unholy"
    Translation "16:47=194:207","48:79=192:207","208:223=192:207",
		"224:231=192:199","160:167=200:207","232:239=200:207",
		"192:207=168:191","248:248=200:200","249:249=201:201",
		"1:2=206:207"
    states
    {
    Spawn:
	PARS A 1 Bright A_SpawnItem("ParalysisMissileBlur",0,0,0)
	loop
    }
}

Actor ParalysisMissileBlur
{
    speed 0
    PROJECTILE
    +NOGRAVITY
    +NOCLIP
    Translation "16:47=194:207","48:79=192:207","208:223=192:207",
		"224:231=192:199","160:167=200:207","232:239=200:207",
		"192:207=168:191","248:248=200:200","249:249=201:201",
		"1:2=206:207"
    states
    {
    Spawn:
	PARS A 1 Bright A_FadeOut(0.15)
	loop
    }
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================

ACTOR SetMinion : Set				// fatso
{
	DropItem "AEoDLightningRodItem" 32
	DropItem "Mana1Ammo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Scale 0.4
    Health 800
    Obituary "%o was dispatched by a minion of Set"
    HitObituary "%o was clawed to death by a minion of Set"
    Mass 800
    PainChance 15
    Radius 24
    Height 56
    Speed 12
    MeleeRange 60
    MeleeDamage 8
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSSDEATH
    -BOSS
    +FLOORCLIP
    +DONTMORPH
    -NOFEAR
    SeeSound "monster/set/sight"
    ActiveSound "monster/set/active"
    PainSound "monster/set/pain"
    DeathSound "monster/set/death"
    MeleeSound "monster/set/melee"
    DamageFactor "Wormwood", 0.5
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 96
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Unholy
	DamageFactor "Holy", 2.0
	DamageFactor "Unholy", 0.5
	DamageFactor "UnholyDisint", 0.5
	DamageFactor "Fire", 0.75
	DamageFactor "Ice", 0.75
	DamageFactor "AEPoison", 0.75
	DamageFactor "AEMagic", 0.75
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Spawn:
	PSET L 2 A_Look
	loop
    See:
	PSET D 0 A_TakeInventory("SetLightningCheck",50)
	PSET D 0 A_UnSetInvulnerable
	PSET D 0 A_PlaySound("monster/set/move")
	PSET DDEE 3 A_Chase
	PSET L 0 A_ChangeFlag(DROPOFF,0)  
	PSET D 0 A_PlaySound("monster/set/move")
	PSET FFGG 3 A_Chase
	loop
    Missile:
	PSET D 0 A_Jump(15,"Jump")
	PSET D 0 A_Jump(10,"Spirit")
	PSET D 0 A_Jump(10,"Lightning")
	Goto Missile
    Jump:
	PSET L 7 A_FaceTarget
	PSET L 0 A_PlaySound("monster/set/jump")
	PSET L 0 A_SetInvulnerable
	PSET M 0 A_Recoil(-12)
	PSET MMMMMMM 3 ThrustThingZ(0,13,0,1)
	PSET M 0 A_Recoil(0.1)
	PSET M 0 A_Explode(160,24,0)
	PSET M 1 A_CheckFloor(1)
	Goto Jump+11
	PSET M 0
	Goto Impact
    Spirit:
	PSET N 4 A_FaceTarget
	PSET O 0 A_PlaySound("monster/set/attack1")
	PSET O 5 Bright A_SpawnProjectile("SetMinionSpirit",24,0)
	PSET N 4 A_FaceTarget
	PSET O 0 A_Jump(80,"Spirit")
	Goto See
    Impact:
	PSET L 0 A_Stop
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,5)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,10)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,15)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,20)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,25)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,30)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,35)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,40)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,45)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,50)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,55)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,60)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,65)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,70)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,75)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,80)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,85)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,90)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,95)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,100)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,105)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,110)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,115)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,120)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,125)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,130)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,135)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,140)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,145)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,150)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,155)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,160)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,165)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,170)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,175)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,180)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-5)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-10)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-15)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-20)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-25)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-30)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-35)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-40)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-45)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-50)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-55)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-60)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-65)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-70)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-75)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-80)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-85)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-90)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-95)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-100)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-105)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-110)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-115)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-120)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-125)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-130)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-135)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-140)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-145)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-150)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-155)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-160)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-165)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-170)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-175)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,0)
	PSET L 2 A_SpawnProjectile("SetStompSound",31,1,0)
	PSET L 0 A_ChangeFlag(DROPOFF,1)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,5)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,10)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,15)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,20)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,25)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,30)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,35)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,40)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,45)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,50)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,55)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,60)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,65)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,70)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,75)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,80)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,85)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,90)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,95)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,100)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,105)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,110)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,115)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,120)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,125)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,130)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,135)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,140)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,145)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,150)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,155)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,160)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,165)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,170)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,175)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,180)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-5)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-10)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-15)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-20)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-25)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-30)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-35)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-40)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-45)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-50)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-55)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-60)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-65)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-70)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-75)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-80)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-85)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-90)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-95)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-100)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-105)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-110)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-115)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-120)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-125)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-130)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-135)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-140)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-145)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-150)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-155)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-160)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-165)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-170)
	PSET L 0 A_SpawnProjectile("SetMinionShockWave",0,0,-175)
	PSET L 2 A_SpawnProjectile("SetMinionShockWave",0,0,0)
	PSET L 2
	PSET L 0 A_Jump(32,1)
	Goto See
    Lightning:
	PSET N 4 A_FaceTarget
	PSET O 0 Bright A_PlaySound("reilsss/weapons/ligthingrodfire")
	PSET O 5 Bright A_SpawnProjectile("SetMinionLightning",24,0)
	PSET O 8 A_FaceTarget
	PSET O 0 Bright A_PlaySound("reilsss/weapons/ligthingrodfire")
	PSET O 5 Bright A_SpawnProjectile("SetMinionLightning",24,0)
	PSET O 4 A_FaceTarget
	Goto See
    Melee:
	PSET HI 3 A_FaceTarget
	PSET J 0 A_PlayWeaponSound("monster/set/pain")
	PSET J 3 A_MeleeAttack
	PSET K 3 A_FaceTarget
	goto See
    Pain:
	PSET R 0 A_TakeInventory("SetSpiritInit",4)
	PSET R 3 A_Pain
	PSET S 3
	PSET P 10
	goto See
    Ice:
	PSET K 5 A_GenericFreezeDeath
	PSET K 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	PSET K 1 A_FreezeDeathChunks
	Wait
    XDeath:
	TNT1 a 0 A_Jump(256,"Death")
    Death:
	PSET R 5
	SETD A 0 A_SpawnProjectile("SetMinionHead",89,0,random(0,360),2,65)
	SETD A 5 A_Scream
	SETD BCDE 4
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"####" "#" 0 A_QueueCorpse
	"####" "#" 0 A_ChangeFlag("CORPSE",1)
	SETD F -1 A_NoBlocking
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Big
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

ACTOR SetMinionHead : SetHead
{
    Scale 0.4
}

ACTOR SetMinionShockWave
{
    Speed 24
    Damage (1)
    Radius 12
    Height 16
    RenderStyle Translucent
    Alpha 0.2
    Scale 0.3
    PROJECTILE
    +DROPOFF
    -NoGravity
    +FloorHugger
    +RIPPER	RipperLevel 1
    States
    {
    Spawn:
	HSHK AABBCCC 2 A_Gravity
    Death:
	HSHK C 1 
	Stop
    }
}

Actor SetMinionSpirit : SetParalysisSpirit
{
    Scale 0.3
    Height 8
    Radius 11
    Damage 8
    Speed 15
    SeeSound "monster/set/attack2"
    DeathSound "monster/set/spiritexplode"
    PROJECTILE
    +STRIFEDAMAGE
    +SEEKERMISSILE
    +NOEXTREMEDEATH
    DamageType "Unholy"
    States
    {
    Spawn:
	PARS A 1 A_SeekerMissile(2,4)
        PARS A 1 Bright A_CStaffMissileSlither
        PARS A 0 Bright A_SpawnItem("HellRootShot2Trail",-2)
        Loop
    Death:
	PARS BCDEFG 3 Bright
	Stop
    }
}

ACTOR SetMinionLightning
{
    PROJECTILE
    +NOTELEPORT
    DamageType "Electric"
    Radius 8
    Height 12
    Speed 20
    Damage 10
    DeathSound "reilsss/weapons/ligthingrodfire"
    Scale 0.75
    States
    {
    Spawn:
	TNT1 A 0
	FX16 A 0 A_SpawnItemEx("Sorcerer2FXSpark",0,0,0,random(1,3),0,random(2,1),90,0)
	TNT1 A 0 A_SpawnItemEx("Sorcerer2FXSpark",0,0,0,random(1,3),0,random(2,1),-90,0)
	FX16 A 3 Bright
	FX16 A 0 A_SpawnItemEx("Sorcerer2FXSpark",0,0,0,random(1,3),0,random(2,1),90,0)
	TNT1 A 0 A_SpawnItemEx("Sorcerer2FXSpark",0,0,0,random(1,3),0,random(2,1),-90,0)
	FX16 B 3 Bright
	FX16 A 0 A_SpawnItemEx("Sorcerer2FXSpark",0,0,0,random(1,3),0,random(2,1),90,0)
	TNT1 A 0 A_SpawnItemEx("Sorcerer2FXSpark",0,0,0,random(1,3),0,random(2,1),-90,0)
	FX16 C 3 Bright
	Goto Spawn+1
    Death:
	TNT1 A 0 A_Scream
	TNT1 AAAAAAA 0 A_SpawnItemEx("Sorcerer2FXSpark",0,0,0,random(-2,2),random(-2,2),random(-2,2),random(0,359),0)
	FX16 GHIJKL 4 Bright
	Stop
    }
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Selkis.  Has the console version of Powerslave attack, and uses a different laser attack
//and uses the power of the Red Blaster as well.
//
//Oh, and one final warning (if you didn't catch it in the PSENINFO lump), the last few death
//frames have nudity.  Those frames were like that when I extracted them from PC Powerslave's
//.ART files.
Actor Selkis 7345		//spider master
{
	DropItem "AEoDIonCannonItem" 64
	DropItem "CellBigAmmo"
	DropItem "CellBigAmmo" 128
	DropItem "CellBigAmmo" 128
	DropItem "CellBigAmmo" 128
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 
    obituary "%o was eradicated by Selkis."
    hitobituary "%o was pincer'd by Selkis."
    scale 0.8
    health 6000
    radius 42
    height 70
    speed 5
    meleerange 60
    meleedamage 12
    painchance 30
    mass 900
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSSDEATH
    +BOSS
    +MISSILEMORE
    +NORADIUSDMG
    +FLOORCLIP
    +DONTMORPH
    +NOFEAR
    seesound "monster/selkis/sight"
    activesound "monster/selkis/sight"
    painsound "monster/selkis/pain"
    deathsound "monster/selkis/death"
    meleesound "monster/selkis/melee"
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Unholy
	DamageFactor "Holy", 2.0
	DamageFactor "Unholy", 0.5
	DamageFactor "UnholyDisint", 0.5
	DamageFactor "Fire", 0.75
	DamageFactor "Ice", 0.75
	DamageFactor "AEPoison", 0.75
	DamageFactor "AEMagic", 0.75
    States
    {
        Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Spawn:
	SELK A 1 A_Look
	loop
    See:
	SELK AAABBBCCCDDD 1 A_Chase
	loop
    Missile:
	SELK A 0 A_Jump(7,5) //Standard Laser shots
	SELK A 0 A_Jump(9,8) //Red Cobra Staff shots
	SELK A 0 A_Jump(6,12) //Red Blaster Shots
	SELK A 0 A_Jump(5,14) //Red Blaster 2 Shots
	SELK A 0 A_Jump(6,19) //Huge Lightning attack
	goto Missile
	SELK E 5 A_FaceTarget
	SELK F 4 Bright A_SpawnProjectile("SelkisLaser",55,0,0)
	SELK E 4 A_FaceTarget
	SELK F 0 A_SpidRefire
	goto Missile+6
	SELK E 5 A_FaceTarget
	SELK E 0 A_PlayWeaponSound("monster/kilmaatsentry/shoot")
	SELK E 4 Bright A_SpawnProjectile("MummyCobraStaffshot",55,0,0)
	SELK E 5 A_FaceTarget
	SELK F 0 A_SpidRefire
	goto Missile+9
	SELK E 5 A_FaceTarget
	SELK E 2 Bright A_SpawnProjectile("RedBlasterBall",60,0,0)
	SELK E 0 A_SpidRefire
	goto Missile+15
	SELK EEE 5 A_FaceTarget
	SELK E 4 Bright A_SpawnProjectile("SelkisRedBlasterBall2",55,0,0,4)
	SELK E 5 A_FaceTarget
	SELK E 0 A_SpidRefire
	goto Missile+17
	SELK E 5 A_FaceTarget
	SELK F 3 Bright A_SpawnProjectile("SelkisLightningball",55,0,0,4)
	SELK E 3 A_FaceTarget
	SELK F 3 Bright A_SpawnProjectile("SelkisLightningball",55,0,0,4)
	SELK E 3 A_FaceTarget
	SELK F 3 Bright A_SpawnProjectile("SelkisLightningball",55,0,0,4)
	SELK E 3 A_FaceTarget
	SELK F 3 Bright A_SpawnProjectile("SelkisLightningball",55,0,0,4)
	SELK E 3 A_FaceTarget
	SELK F 3 Bright A_SpawnProjectile("SelkisLightningball",55,0,0,4)
	SELK E 3 A_FaceTarget
	SELK F 3 Bright A_SpawnProjectile("SelkisLightningball",55,0,0,4)
	SELK E 3 A_FaceTarget
	SELK F 3 Bright A_SpawnProjectile("SelkisLightningball",55,0,0,4)
	SELK E 3 A_FaceTarget
	SELK F 3 Bright A_SpawnProjectile("SelkisLightningball",55,0,0,4)
	goto See
    Melee:
	SELK A 0 A_PlayWeaponSound("monster/selkis/clawswipe")
	SELK AG 4 A_FaceTarget
	SELK H 4 A_MeleeAttack
	SELK IJ 4 A_FaceTarget
	SELK K 4 A_MeleeAttack
	SELK IA 4 A_FaceTarget
	goto See
    Pain:
	SELK L 3
	SELK M 4 A_Pain
	SELK L 3
	goto See
    Ice:
	SELK L 5 A_GenericFreezeDeath
	SELK L 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	SELK L 1 A_FreezeDeathChunks
	Wait
    Death:
	SELK N 5 A_Scream
	SELK N 0 A_NoBlocking  
	SELK PQRS 5
	SELK T 0 A_PlaySound("monster/jon/bombexplosion")
	SELK T 4 A_SpawnItem("Powerslaveexplosion2",0,24+Random(-5,5),0)
	SELK UVWX 4 Bright A_TossGib
	SELK Y 8 A_TossGib
	SELK Y 0 A_PlaySound("monster/jon/bombexplosion")  
	SELK Y 1 A_SpawnItem("Powerslaveexplosion2",0,8,0)
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	SELK YYYYY 1 A_SpawnItem("RedMite",0,0,0)
	SELK ZZZZ 1 Bright A_SpawnItem("RedMite",0,0,0)
	TNT1 AAAAAAAAA 0 A_SpawnItem("RedMite",0,0,0)
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Big
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
    }
}

Actor SelkisLaser : PlasmaBall
{
    scale 0.5
    damage 12
    speed 24
    PROJECTILE
    +MISSILE
    -RANDOMIZE
    seesound "monster/selkis/tailshot"
	DamageType "Plasma"
    states
    {
    Spawn:
	PLSS A 1 Bright A_SpawnItem("SelkisTrail1",0,0,0)
	PLSS B 1 Bright A_SpawnItem("SelkisTrail2",0,0,0)
	loop
    }
}

Actor SelkisTrail1
{
    scale 0.5
    radius 0
    height 0
    +NOCLIP
    +NOGRAVITY
    states
    {
    Spawn:
	PLSS A 0
	PLSS A 1 Bright A_FadeOut(0.1)
	PLSS B 1 Bright A_FadeOut(0.1)
	goto Spawn
    }
}

Actor SelkisTrail2 : SelkisTrail1
{
    states
    {
    Spawn:
	PLSS B 0
	PLSS B 1 Bright A_FadeOut(0.1)
	PLSS A 1 Bright A_FadeOut(0.1)
	goto Spawn
    }
}

Actor Selkislightningball
{
    scale 0.35
    radius 5
    height 8
    damage 15
    speed 32
    PROJECTILE
    +MISSILE
    +STRIFEDAMAGE
	DamageType "Electric"
    deathsound "monster/selkis/zap"
    states
    {
    Spawn:
	ZAP7 ABCDE 3 Bright
	loop
    Death:
	TNT1 A 0 A_Explode(random(12,36),45,1)
	TNT1 A 1 A_SpawnItem("SelkisZapfloat",0,0,0)
	stop
    }
}

Actor SelkisZapfloat
{
    radius 0
    height 0
    +NOCLIP
    +NOGRAVITY
    states
    {
    Spawn:
	ZAP1 FEDCBA 2 Bright
	stop
    }
}

Actor SelkisRedBlasterBall2 : RedBlasterBall2 //Only real purpose is to tell the player that Selkis killed him/her.
{
	DamageType "Plasma"
    obituary "%o was eradicated by Selkis."
    States
    {
    Death:
	BFE1 A 3 Bright
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,40)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,60)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,80)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,100)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,120)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,140)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,160)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,180)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,200)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,220)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,240)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,260)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,280)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,300)
	BFE1 B 0 Bright A_SpawnProjectile("RedBlasterBall3",0,0,320)
	BFE1 BCDEF 3 Bright
	Stop
    }
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Kilmaatikhan, the final boss of Powerslave (aka. Exhumed).  I wanted to
//make this creature hard to defeat, without having to resort to overuse
//of high-damaging homing projectiles.
Actor Kilmaatikhan 7346   //cyberdemon
{
	DropItem "MegaHeart"
	DropItem "PowerslaveSpawner" 
	DropItem "PowerupSpawner" 
    obituary "%o was eliminated by Kilmaatikhan."
    hitobituary "%o got slammed by Kilmaatikhan's Exo-skeleton-like body!"
    health 5000
    height 108
    radius 36
    scale 0.8
    painchance 10
    meleerange 48
    meleedamage 10
    mass 2400
    speed 10
    seesound "monster/kilmaatikhan/see1"
    painsound "monster/kilmaatikhan/pain"
    deathsound "monster/kilmaatikhan/fakedeath"
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSSDEATH
    +BOSS
    +NORADIUSDMG
    +NOICEDEATH
//    +DONTHURTSPECIES
    +FLOORCLIP
    +DONTMORPH
    +NOFEAR
	Activation THINGSPEC_NoDeathSpecial
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Armor
	DamageFactor "Electric", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
    States
    {
        Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Spawn:
	KBOS AB 6 A_Look
	loop
    See:
		KBOS A 2 A_ExtChase(0,0)
		KBOS ABBCCDDEE 2 A_ExtChase(0,256)
		loop
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS B 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS B 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS B 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS C 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS C 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS C 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS D 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS D 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS D 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS E 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS E 1 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS A 0 A_ExtChase(256,0)
		KBOS A 0 A_FaceTarget
		KBOS E 1 A_ExtChase(256,0)
		KBOS A 0 A_Jump(230,1)
		loop
		KBOS A 0 A_FaceTarget
		goto See+10
    Missile:
		KBOS A 0 A_Jump(15,5) //Tail blast
		KBOS A 0 A_Jump(9,12) //Spawn small ball thingys with a set of teeth
		KBOS A 0 A_Jump(5,19) //Charge towards player (depending on distance.  Doesn't do it if more than 768 units away.)
		KBOS A 0 A_Jump(10,20) //Exploding ball thingys
		KBOS A 0 A_Jump(7,31) //Electro Ball Tail shot
		goto Missile
		KBOS FG 5 A_FaceTarget
		KBOS H 5 Bright A_SpawnProjectile("kilmaatikhantaillaser",70,-24,0)
		KBOS GG 5 A_FaceTarget
		KBOS H 0 A_SpidRefire
		KBOS H 0 A_Jump(64,1)
		goto Missile+6
		KBOS H 0 A_FaceTarget
		goto See
		KBOS IJ 3 A_FaceTarget
		KBOS K 0 A_PlaySound("monster/kilmaatikhan/spit")
		KBOS K 10 Bright A_SpawnProjectile("KilmaatBossMouthMinionSpawner",16,0,random(-9,9),2,10)
		KBOS J 10 A_FaceTarget
		KBOS I 10 A_SpidRefire
		KBOS I 0 A_Jump(96,1)
		goto Missile+13
		KBOS I 0 A_FaceTarget
		goto See
		KBOS I 0 A_JumpIfCloser(768,1)
		goto Missile
		KBOS I 0 A_FaceTarget
		goto See+10
		KBOS IJ 4 A_FaceTarget
		KBOS K 0 A_PlaySound("monster/kilmaatikhan/spit")
		KBOS K 0 A_SpawnProjectile("KilmaatBossSmallMouthThingMissile",16,0,-16,0,0)
		KBOS K 0 A_SpawnProjectile("KilmaatBossSmallMouthThingMissile",16,0,-8,0,0)
		KBOS K 0 A_SpawnProjectile("KilmaatBossSmallMouthThingMissile",16,0,0,0,0)
		KBOS K 0 A_SpawnProjectile("KilmaatBossSmallMouthThingMissile",16,0,8,0,0)
		KBOS K 5 Bright A_SpawnProjectile("KilmaatBossSmallMouthThingMissile",16,0,16,0,0)
		KBOS J 5 A_FaceTarget
		KBOS I 0 A_SpidRefire
		KBOS I 0 A_Jump(140,1)
		goto Missile+23
		KBOS I 0 A_FaceTarget
		goto See
		KBOS FG 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,-10)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,-8)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,-6)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,-4)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,-2)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,0)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,2)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,4)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,6)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,8)
		KBOS G 2 A_FaceTarget
		KBOS H 3 A_SpawnProjectile("OmenWaspNecroShot",70,-24,10)
		KBOS G 7 A_FaceTarget
		goto See
    Melee:
		KBOS C 0 A_MeleeAttack
		goto See
    Pain:
		KBOS L 5 A_Pain
		KBOS A 3
		goto See
    Ice:
		KBOS L 5 A_GenericFreezeDeath
		KBOS L 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")	
		KBOS L 1 A_FreezeDeathChunks
		Wait
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Big
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
	Death.DemonMorph:
	Death.Telefrag:
	Death.Massacre:
		KBOS M 0 A_GiveInventory("Telefragged",1)
		KBOS M 0 A_GiveInventory("Telefragged",1,AAPTR_MASTER)
		KBOS M 0 A_Scream
		TNT1 A 0 A_NoBlocking
		TNT1 AAAAAAAA 0 A_SpawnProjectile("Kilmaatikhanguts1",random(0,50),0,random(-180,180),2,random(10,25))
		TNT1 AAAAAAAA 0 A_SpawnProjectile("Kilmaatikhanguts2",random(0,50),0,random(-180,180),2,random(10,25))
		TNT1 AAAAAAAA 0 A_SpawnProjectile("Kilmaatikhanguts3",random(0,50),0,random(-180,180),2,random(10,25))
		TNT1 AA 0 A_SpawnProjectile("Kilmaatikhanguts4",random(0,50),0,random(-180,180),2,random(10,25))
		TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnProjectile("Kilmaatikhanorangeballblood",random(25,75),0,random(-180,180),2,random(10,25))
		//TNT1 A 0 A_SpawnItem("Kilmaatikhan2",0,80)
		TNT1 A 0 A_SpawnItemEx("Kilmaatikhan2",0,0,0,0,0,0,0,SpawnPhaseFlags,0,tid)
		TNT1 A 0 A_KillChildren("Massacre",KILS_FOILINVUL)
		TNT1 A 35 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		stop
    Death:
		KBOS M 70 A_Scream
		TNT1 A 0 A_NoBlocking
		TNT1 AAAAAAAA 0 A_SpawnProjectile("Kilmaatikhanguts1",random(0,50),0,random(-180,180),2,random(10,25))
		TNT1 AAAAAAAA 0 A_SpawnProjectile("Kilmaatikhanguts2",random(0,50),0,random(-180,180),2,random(10,25))
		TNT1 AAAAAAAA 0 A_SpawnProjectile("Kilmaatikhanguts3",random(0,50),0,random(-180,180),2,random(10,25))
		TNT1 AA 0 A_SpawnProjectile("Kilmaatikhanguts4",random(0,50),0,random(-180,180),2,random(10,25))
		TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnProjectile("Kilmaatikhanorangeballblood",random(25,75),0,random(-180,180),2,random(10,25))
		//TNT1 A 0 A_SpawnItem("Kilmaatikhan2",0,80)
		TNT1 A 0 A_SpawnItemEx("Kilmaatikhan2",0,0,0,0,0,0,0,SpawnPhaseFlags,0,tid)
		TNT1 A 35
	Waiting:
		TNT1 A 35
		TNT1 A 0 A_JumpIf(IsPointerEqual(AAPTR_TRACER,AAPTR_NULL),"End")
		TNT1 A 0 A_JumpIfHealthLower(1,"End",AAPTR_TRACER)
		Loop
	End:
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

Actor Kilmaatikhantaillaser : KilmaatGunShot
{
	DamageType "Plasma"
    damage 25
    speed 20
    +STRIFEDAMAGE
    seesound "monster/kilmaatikhan/taillaser"
}

Actor KilmaatBossMouthMinionSpawner
{
    radius 4
    height 8
    speed 14
    scale 0.4
    PROJECTILE
    +MISSILE
    +STRIFEDAMAGE
    states
    {
    Spawn:
	KBS2 B 1 Bright A_Gravity
	loop
    Death:
	KBS2 B 50 Bright
	KBS2 B 0 A_Explode(128,50,0)
	TNT1 A 0 A_SpawnItem("PowerslaveExplosion",0,25,0)
	TNT1 A 1
	TNT1 A 1 A_SpawnItem("KilmaatMouthMinion",0,5)
	TNT1 A 0
	stop
    }
}

Actor KilmaatMouthMinion
{
    obituary "%o got munched by a Minion spawned by Kilmaatikhan."
    radius 16
    height 32
    speed 5
    health 60
    meleedamage 5
    meleerange 28
    MONSTER
    -COUNTKILL
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Drain", 64
    States
    {
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 1 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto See
    Spawn:
	KBOS T 1 A_Look
	loop
    See:
	KBOS T 1 A_Chase
	loop
    Melee:
	KBOS T 4 A_FaceTarget
	KBOS U 0 A_PlaySound("monster/piranha/bite")
	KBOS U 4 A_MeleeAttack
	goto See
    Death:
	TNT1 AAAAA 0 A_SpawnProjectile("Kilmaatikhanminionguts1",random(0,30),0,random(-180,180),2,random(0,12))
	TNT1 AAAAA 0 A_SpawnProjectile("Kilmaatikhanminionguts2",random(0,30),0,random(-180,180),2,random(0,12))
	TNT1 A 0 A_NoBlocking
	stop
    }
}

Actor KilmaatBossSmallMouthThingMissile
{
    radius 4
    height 8
    scale 0.25
    damage 9 //This used to be 18.  Ouch!
    speed 12
    health 5
    PROJECTILE
    +MISSILE
    +STRIFEDAMAGE
    -NONSHOOTABLE
    +SHOOTABLE
    deathsound "monster/set/spiritexplode"
    states
    {
    Spawn:
	KBOS U 1
	loop
    Death:
	TNT1 A 0 A_Explode(70,75,0) //Splash damage used to be 140 here.  Ouch!
	TNT1 A 0 A_SpawnItem("PowerslaveExplosion",0,25,0)
	TNT1 A 0 A_TossGib
	TNT1 A 0 A_TossGib
	TNT1 A 0 A_TossGib
	TNT1 A 0 A_TossGib
	TNT1 A 0 A_TossGib
	TNT1 A 1
	stop
    }
}

Actor Kilmaatikhanguts1
{
    BounceFactor 0.38
    +DOOMBOUNCE
    Speed 8
    Projectile
    Scale 0.6
    -NOGRAVITY
    -NOBLOCKMAP
    seesound "misc/powerslavegib"
    deathsound "misc/powerslavegib"
    -NOGRAVITY
    states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 ThrustThingZ(0,random(10,30),0,1)
	KBOS OOOOOOOOOOOOOOOO 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
	KBOS O 500
	KBOS O 1 A_FadeOut
	goto Death+1
    }
}

Actor Kilmaatikhanguts2 : Kilmaatikhanguts1
{
    states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 ThrustThingZ(0,random(10,30),0,1)
	KBOS PPPPPPPPPPPPP 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
	KBOS P 500
	KBOS P 1 A_FadeOut
	goto Death+1
    }
}

Actor Kilmaatikhanguts3 : Kilmaatikhanguts1  
{
    states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 ThrustThingZ(0,random(10,30),0,1)
	KBOS QQQQQQQQQQQQQ 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
	KBOS Q 500
	KBOS Q 1 A_FadeOut
	goto Death+1
    }
}

Actor Kilmaatikhanguts4 : Kilmaatikhanguts1
{
    scale 1
    states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 ThrustThingZ(0,random(10,30),0,1)
	KBOS "[[[[[[[[[[[[" 2  
		{
			if (!A_CheckSightOrRange(BloodDistanceLimit,"Null"))
			{	A_FaceMovementDirection; A_SpawnItemEx("GibBloodSmall",0,0,0,velx,vely,velz,0,SXF_ABSOLUTEVELOCITY|SXF_TRANSFERPITCH|GibDropperFlags);	}
		}
    Death:
	KBOS "[" 500
	KBOS "[" 1 A_FadeOut
	goto Death+1
    }
}

Actor Kilmaatikhanorangeballblood : Kilmaatikhanguts1
{
    speed 15
    scale 0.3
    Translation "168:191=208:223"
    states
    {
    Spawn:
	KBS2 B 1 A_Gravity
	loop
    Death:
	KBS2 B 500
	KBS2 B 1 A_FadeOut
	goto Death+1
    }
}

Actor Kilmaatikhanminionguts1 : Kilmaatikhanguts1
{
    scale 0.4
}

Actor Kilmaatikhanminionguts2 : Kilmaatikhanguts2
{
    scale 0.4
}

//This is spawned after the main actor is killed
Actor Kilmaatikhan2
{
	DropItem "RandomWeaponPower" 
	DropItem "RandomWeaponPower" 128
	DropItem "PowerupSpawner" 
	DropItem "PowerupSpawner" 
    health 1400 //200 health for each segment
    scale 0.8
    obituary "%o failed to finish Kilmaatikhan off."
    radius 20
    height 40
    speed 20
    +DONTTHRUST
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSS
    +LOOKALLAROUND
    +DROPOFF
    +FLOORCLIP
    +DONTMORPH
    +NOFEAR
    meleedamage 10
    seesound "monster/kilmaatikhan/see2"
    deathsound "monster/kilmaatikhan/realdeath"
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
	DamageType "Fire"
//Fire
	DamageFactor "Fire", 0.5
	DamageFactor "Ice", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEMagic", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
    States
    {
	Pain.Drain:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto See
    Spawn:
	KBOS N 0
	KBOS N 0 A_JumpIfInventory("Telefragged",1,"ForcedEnd",AAPTR_MASTER)
	KBOS N 1 A_JumpIfInventory("KilmaatSpawnstatecheck",1,7)
	KBOS NN 0 A_UnSetShootable
	KBOS N 0 A_PlaySound("misc/powerslavegib")
	KBOS N 200
	KBOS N 0 A_SetShootable
	KBOS N 0 A_GiveInventory("KilmaatSpawnstatecheck",1)
	KiilChecker:
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",6,12)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",5,10)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",4,8)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",3,6)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",2,4)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",1,2)
	KiilMove:
	KBOS R 0 A_SpawnItem("KilmaatikhanTail1",-8,0,0)
	goto See
	KBOS R 0 A_SpawnItem("KilmaatikhanTail2",-8,0,0)
	goto See
	KBOS R 0 A_SpawnItem("KilmaatikhanTail3",-8,0,0)
	goto See
	KBOS R 0 A_SpawnItem("KilmaatikhanTail4",-8,0,0)
	goto See
	KBOS R 0 A_SpawnItem("KilmaatikhanTail5",-8,0,0)
	goto See
	KBOS R 0 A_SpawnItem("KilmaatikhanTail6",-8,0,0)
	goto See
	KBOS R 0 A_Look
	KBOS R 2 A_Wander
	Goto KiilChecker
    See:
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",6,30) //The purpose of these is to limit Kilmaatikhan's tail length to show how close it is to dying.
	KBOS R 0 A_JumpIfHealthLower(200,51)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",5,25)
	KBOS R 0 A_JumpIfHealthLower(400,45)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",4,20)
	KBOS R 0 A_JumpIfHealthLower(600,39)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",3,15)
	KBOS R 0 A_JumpIfHealthLower(800,33)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",2,10)
	KBOS R 0 A_JumpIfHealthLower(1000,27)
	KBOS R 0 A_JumpIfInventory("KilmaatikhanSnakecheck",1,5)
	KBOS R 0 A_JumpIfHealthLower(1200,21)
	KBOS R 0 A_SpawnItem("KilmaatikhanTail1",-8,0,0)
	KBOS R 2 A_Chase
	KBOS R 0 A_Jump(1,42) //Jump to Jumping Sequence
	loop
	KBOS R 0 A_SpawnItem("KilmaatikhanTail2",-8,0,0)
	KBOS R 2 A_Chase
	KBOS R 0 A_Jump(1,39) //Jump to Jumping Sequence
	loop
	KBOS R 0 A_SpawnItem("KilmaatikhanTail3",-8,0,0)
	KBOS R 2 A_Chase
	KBOS R 0 A_Jump(1,36) //Jump to Jumping Sequence
	loop
	KBOS R 0 A_SpawnItem("KilmaatikhanTail4",-8,0,0)
	KBOS R 2 A_Chase
	KBOS R 0 A_Jump(1,33) //Jump to Jumping Sequence
	loop
	KBOS R 0 A_SpawnItem("KilmaatikhanTail5",-8,0,0)
	KBOS R 2 A_Chase
	KBOS R 0 A_Jump(1,30) //Jump to Jumping Sequence
	loop
	KBOS R 0 A_SpawnItem("KilmaatikhanTail6",-8,0,0)
	KBOS R 2 A_Chase
	KBOS R 0 A_Jump(1,27) //Jump to Jumping Sequence
	loop
	KBOS R 2 A_Chase
	KBOS R 0 A_Jump(1,25) //Jump to Jumping Sequence
	loop
	KBOS A 0 A_TakeInventory("KilmaatikhanSnakecheck",6)
	KBOS A 0 A_PlaySound("monster/set/spiritexplode")
	KBOS A 0 A_SpawnItem("Powerslaveexplosion",0,10,0)
	KBOS A 0 A_GiveInventory("KilmaatikhanSnakecheck",1)
	loop
	KBOS A 0 A_TakeInventory("KilmaatikhanSnakecheck",6)
	KBOS A 0 A_PlaySound("monster/set/spiritexplode")
	KBOS A 0 A_SpawnItem("Powerslaveexplosion",0,10,0)
	KBOS A 0 A_GiveInventory("KilmaatikhanSnakecheck",2)
	loop
	KBOS A 0 A_TakeInventory("KilmaatikhanSnakecheck",6)
	KBOS A 0 A_PlaySound("monster/set/spiritexplode")
	KBOS A 0 A_SpawnItem("Powerslaveexplosion",0,10,0)
	KBOS A 0 A_GiveInventory("KilmaatikhanSnakecheck",3)
	loop
	KBOS A 0 A_TakeInventory("KilmaatikhanSnakecheck",6)
	KBOS A 0 A_PlaySound("monster/set/spiritexplode")
	KBOS A 0 A_SpawnItem("Powerslaveexplosion",0,10,0)
	KBOS A 0 A_GiveInventory("KilmaatikhanSnakecheck",4)
	loop
	KBOS A 0 A_TakeInventory("KilmaatikhanSnakecheck",6)
	KBOS A 0 A_PlaySound("monster/set/spiritexplode")
	KBOS A 0 A_SpawnItem("Powerslaveexplosion",0,10,0)
	KBOS A 0 A_GiveInventory("KilmaatikhanSnakecheck",5)
	loop
	KBOS A 0 A_TakeInventory("KilmaatikhanSnakecheck",6)
	KBOS A 0 A_PlaySound("monster/set/spiritexplode")
	KBOS A 0 A_SpawnItem("Powerslaveexplosion",0,10,0)
	KBOS A 0 A_GiveInventory("KilmaatikhanSnakecheck",6)
	loop
	KBOS A 0 ThrustThingZ(0,64,0,1)
	KBOS A 0 A_Recoil(-10)
	loop
	Melee:
	KBOS S 0 A_FaceTarget
	KBOS S 0 A_MeleeAttack
	KBOS S 0 A_JumpIfInventory("KilmaatikhanSnakecheck",6,30)
	KBOS S 0 A_JumpIfInventory("KilmaatikhanSnakecheck",5,25)
	KBOS S 0 A_JumpIfInventory("KilmaatikhanSnakecheck",4,20)
	KBOS S 0 A_JumpIfInventory("KilmaatikhanSnakecheck",3,15)
	KBOS S 0 A_JumpIfInventory("KilmaatikhanSnakecheck",2,10)
	KBOS S 0 A_JumpIfInventory("KilmaatikhanSnakecheck",1,5)
	KBOS S 0 A_SpawnItem("KilmaatikhanTail1",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)
	KBOS S 0 A_SpawnItem("KilmaatikhanTail1",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)  
	goto See
	KBOS S 0 A_SpawnItem("KilmaatikhanTail2",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)
	KBOS S 0 A_SpawnItem("KilmaatikhanTail2",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)  
	goto See
	KBOS S 0 A_SpawnItem("KilmaatikhanTail3",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)
	KBOS S 0 A_SpawnItem("KilmaatikhanTail3",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)  
	goto See
	KBOS S 0 A_SpawnItem("KilmaatikhanTail4",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)
	KBOS S 0 A_SpawnItem("KilmaatikhanTail4",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)  
	goto See
	KBOS S 0 A_SpawnItem("KilmaatikhanTail5",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)
	KBOS S 0 A_SpawnItem("KilmaatikhanTail5",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)  
	goto See
	KBOS S 0 A_SpawnItem("KilmaatikhanTail6",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)
	KBOS S 0 A_SpawnItem("KilmaatikhanTail6",-8,0,0)
	KBOS S 2 A_ExtChase(0,0)  
	goto See
	KBOS SS 2 A_ExtChase(0,0)
	goto See
    Death:
	ForcedEnd:
		KBOS S 1 A_Scream
		TNT1 A 0 A_SpawnProjectile("PowerslaveExplosion2Kilmaatikhan",12,random(-23,23),random(-180,180),2,random(15,45))
		TNT1 A 0 A_PlaySound("monster/set/spiritexplode")
		TNT1 A 0 A_SpawnProjectile("KilmaatikhanGiblet1",12+random(3,6),random(-6,6),random(-180,180),2,random(0,45))
		TNT1 A 0 A_SpawnProjectile("KilmaatikhanGiblet2",12+random(3,6),random(-6,6),random(-180,180),2,random(0,45))
		TNT1 A 0 A_SpawnProjectile("KilmaatikhanGiblet3",12+random(3,6),random(-6,6),random(-180,180),2,random(0,45))
		TNT1 A 3 A_SpawnProjectile("KilmaatikhanGiblet4",12+random(3,6),random(-6,6),random(-180,180),2,random(0,45))
		TNT1 A 0 A_PlaySound("monster/set/spiritexplode")
		TNT1 A 0 A_SpawnProjectile("PowerslaveExplosion2Kilmaatikhan",12,random(-23,23),random(-180,180),2,random(15,45))
		TNT1 A 0 A_SpawnProjectile("KilmaatikhanGiblet5",12+random(3,6),random(-6,6),random(-180,180),2,random(0,45))
		TNT1 A 0 A_SpawnProjectile("KilmaatikhanGiblet6",12+random(3,6),random(-6,6),random(-180,180),2,random(0,45))
		TNT1 A 0 A_SpawnProjectile("KilmaatikhanGiblet7",12+random(3,6),random(-6,6),random(-180,180),2,random(0,45))
		TNT1 A 3 A_SpawnProjectile("KilmaatikhanGiblet8",12+random(3,6),random(-6,6),random(-180,180),2,random(0,45))
		TNT1 A 0 A_GiveInventory("KilmaatikhanDeathexplosiongroup",1)
		TNT1 A 0 A_JumpIfInventory("KilmaatikhanDeathexplosiongroup",20,1)
		goto Death+1
		TNT1 A 35 A_NoBlocking
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		SmallMedium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    Ice:
	"####" "#" 5 A_GenericFreezeDeath
	"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"####" "#" 1 A_FreezeDeathChunks
	Wait
    }
}

Actor KilmaatSpawnStateCheck : Inventory
{
    Inventory.Amount 1
    Inventory.MaxAmount 1
}

Actor KilmaatikhanGiblet1 : MiteGib1
{
    speed 13
    Translation "112:119=216:223","120:127=232:239"
}

Actor KilmaatikhanGiblet2 : MiteGib2
{
    speed 13
    Translation "112:119=216:223","120:127=232:239"
}

Actor KilmaatikhanGiblet3 : MiteGib3
{
    speed 13
    Translation "112:119=216:223","120:127=232:239"
}

Actor KilmaatikhanGiblet4 : MiteGib4
{
    speed 13
    Translation "112:119=216:223","120:127=232:239"
}

Actor KilmaatikhanGiblet5 : MiteGib5
{
    speed 13
    Translation "112:119=216:223","120:127=232:239"
}

Actor KilmaatikhanGiblet6 : MiteGib6
{
    speed 13
    Translation "112:119=216:223","120:127=232:239"
}

Actor KilmaatikhanGiblet7 : MiteGib7
{
    speed 13
    Translation "112:119=216:223","120:127=232:239"
}

Actor KilmaatikhanGiblet8 : MiteGib8
{
    speed 13
    Translation "112:119=216:223","120:127=232:239"
}

Actor KilmaatikhanTail1
{
    radius 0
    height 0
    scale 0.8
    +NOCLIP
    +NOGRAVITY
    states
    {
	Spawn:
	KBS2 D 13
	stop
    }
}

Actor KilmaatikhanTail2 : KilmaatikhanTail1
{
    states
    {
    Spawn:
	KBS2 D 11
	stop
    }
}
  
Actor KilmaatikhanTail3 : KilmaatikhanTail1
{
    states
    {
    Spawn:
	KBS2 D 9
	stop  
    }
}

Actor KilmaatikhanTail4 : KilmaatikhanTail1
{
    states
    {
    Spawn:
	KBS2 D 7
	stop  
    }
}

Actor KilmaatikhanTail5 : KilmaatikhanTail1
{
    states
    {
    Spawn:
	KBS2 D 5
	stop  
    }
}

Actor KilmaatikhanTail6 : KilmaatikhanTail1
{
    states
    {
    Spawn:
	KBS2 D 3
	stop  
    }
}

Actor KilmaatikhanSnakecheck : Inventory
{
    Inventory.Amount 1
    Inventory.MaxAmount 6
}

Actor KilmaatikhanDeathexplosiongroup : Inventory
{
    Inventory.Amount 1
    Inventory.MaxAmount 48
}



//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Magmos.  Magmos is the above-ground and move anywhere version of the Magmantis
//enemy.  Magmos basically attacks like a Magmantis, but always has burning fire
//around at all times, as if it were to show that Magmos is moving around in a
//portal of Ethereal flames.
//
//As another warning, do not get too close to Magmos, as the heat from
//himself and his flames can hurt you at close range.  Note that he does not
//scorch nearby monsters when still in his 'Spawn' frames.
Actor Magmos : Magmantis 7347	//spider master
{
	DropItem "RandomWeaponPower"
	DropItem "Mana1BigAmmo"
	DropItem "Mana1BigAmmo"
	DropItem "Mana2BigAmmo"
	DropItem "Mana2BigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 
    obituary "%o was roasted alive in Magmos' inferno of incredible horror."
    health 6000
    painchance 32
    +BOSSDEATH
    +NORADIUSDMG
    +FIREDAMAGE
    +MISSILEMORE
    +NOICEDEATH
    -LOOKALLAROUND
    +FLOORCLIP
    +DONTMORPH
    +NOFEAR
	RipLevelMin 1
    seesound "monster/magmantis/sight"
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Fire
	DamageFactor "Fire", 0.5
	DamageFactor "Ice", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEMagic", 1.5
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
    States
    {
        Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Spawn:
	MAGM A 0 A_SpawnItemEx("MagmosFire1",24,0,0,0,0,0,0)  
	MAGM A 0 A_SpawnItemEx("MagmosFire1",24,0,0,0,0,0,90)  
	MAGM A 0 A_SpawnItemEx("MagmosFire1",24,0,0,0,0,0,180)  
	MAGM A 0 A_SpawnItemEx("MagmosFire1",24,0,0,0,0,0,270)
	MAGM A 2 Bright A_Look
	MAGM A 0 A_SpawnItemEx("MagmosFire2",24,0,0,0,0,0,0)  
	MAGM A 0 A_SpawnItemEx("MagmosFire2",24,0,0,0,0,0,90)  
	MAGM A 0 A_SpawnItemEx("MagmosFire2",24,0,0,0,0,0,180)  
	MAGM A 0 A_SpawnItemEx("MagmosFire2",24,0,0,0,0,0,270)  
	MAGM A 2 Bright A_Look
	MAGM A 0 A_SpawnItemEx("MagmosFire3",24,0,0,0,0,0,0)  
	MAGM A 0 A_SpawnItemEx("MagmosFire3",24,0,0,0,0,0,90)  
	MAGM A 0 A_SpawnItemEx("MagmosFire3",24,0,0,0,0,0,180)  
	MAGM A 0 A_SpawnItemEx("MagmosFire3",24,0,0,0,0,0,270)  
	MAGM A 2 Bright A_Look
	MAGM A 0 A_SpawnItemEx("MagmosFire4",24,0,0,0,0,0,0)  
	MAGM A 0 A_SpawnItemEx("MagmosFire4",24,0,0,0,0,0,90)  
	MAGM A 0 A_SpawnItemEx("MagmosFire4",24,0,0,0,0,0,180)  
	MAGM A 0 A_SpawnItemEx("MagmosFire4",24,0,0,0,0,0,270)  
	MAGM A 2 Bright A_Look
	loop
    See:
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM B 2 Bright A_Chase
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM B 2 Bright A_Chase
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM B 2 Bright A_Chase
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM B 2 Bright A_Chase
	loop
    Missile:
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM B 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM B 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM B 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM C 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM C 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM D 0 Bright A_FaceTarget
	MAGM D 0 A_PlaySound("monster/magmantis/attack")  
	MAGM D 2 Bright A_SpawnProjectile("MagmantisMagmaBall",100+random(-8,4),random(-24,24),0)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM D 0 Bright A_FaceTarget
	MAGM D 2 Bright A_SpawnProjectile("MagmantisMagmaBall",100+random(-8,4),random(-24,24),0)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM D 0 Bright A_FaceTarget
	MAGM D 2 Bright A_SpawnProjectile("MagmantisMagmaBall",100+random(-8,4),random(-24,24),0)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM D 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM D 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM C 2 Bright A_FaceTarget
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM C 2 Bright A_FaceTarget
	goto See
    Pain:
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM D 2 Bright A_Pain
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM D 2 Bright
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner3",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM D 2 Bright  
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner4",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM C 2 Bright
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner1",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM CB 1 Bright
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireSpawner2",0,0,270,2)
	MAGM A 0 A_Explode(56,55,1)
	MAGM B 2 Bright
	goto See
    Death:
	MAGM A 0 A_SpawnProjectile("MagmosFireDeathSpawner",0,-24,0,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireDeathSpawner",0,0,90,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireDeathSpawner",0,-24,180,2)
	MAGM A 0 A_SpawnProjectile("MagmosFireDeathSpawner",0,0,270,2)
	MAGM D 4 Bright A_Scream
	MAGM CBAAAAAA 2 Bright A_FaceTarget
	MAGM BCD 3 Bright A_FaceTarget
	MAGM EFGH 4 Bright
	MAGM IIIIII 0 A_SpawnProjectile("MagmantisLavasplatter",random(24,112),random(-24,24),random(-180,180),2,random(0,60))
	MAGM IIIIII 0 A_SpawnProjectile("MagmantisLavasplatter2",random(24,112),random(-24,24),random(-180,180),2,random(0,60))
	MAGM I 0 A_SpawnItem("Powerslaveexplosion2",0,56)
	MAGM I 0 A_PlaySound("monster/magmantis/firehit")
	MAGM I 4 Bright A_SpawnItem("Magmantishalfhead",0,112)
	MAGM MNOPQ 3 Bright
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	TNT1 A 0 A_NoBlocking
	stop  
    }
}

Actor MagmosFire1
{
    scale 0.75
    radius 12
    height 1
    +NOCLIP
    +NOGRAVITY
    states
    {
    Spawn:
	PSFX K 3 Bright
	stop
    }
}

Actor MagmosFire2 : MagmosFire1
{
    states
    {
    Spawn:
	PSFX L 3 Bright
	stop
    }
}

Actor MagmosFire3 : MagmosFire1
{
    states
    {
    Spawn:
	PSFX M 3 Bright
	stop
    }
}
Actor MagmosFire4 : MagmosFire1
{
    states
    {
    Spawn:
	PSFX N 3 Bright
	stop
    }
}

Actor MagmosFireDeath : MagmosFire1
{
    states
    {
    Spawn:
	PSFX KLMNKLMNKLMNKLMNKLMNKLMN 2 Bright
	TNT1 A 0 A_SpawnProjectile("MagmosFireThrow",32,0,0,2,3)
	TNT1 A 0 A_SpawnProjectile("MagmosFireThrow",32,0,45,2,3)
	TNT1 A 0 A_SpawnProjectile("MagmosFireThrow",32,0,90,2,3)
	TNT1 A 0 A_SpawnProjectile("MagmosFireThrow",32,0,135,2,3)
	TNT1 A 0 A_SpawnProjectile("MagmosFireThrow",32,0,180,2,3)
	TNT1 A 0 A_SpawnProjectile("MagmosFireThrow",32,0,225,2,3)
	TNT1 A 0 A_SpawnProjectile("MagmosFireThrow",32,0,270,2,3)
	TNT1 A 0 A_SpawnProjectile("MagmosFireThrow",32,0,315,2,3)
	stop
    }
}

Actor MagmosFirethrow
{
    radius 3
    height 3
    speed 3
    PROJECTILE
    +MISSILE
    +NODAMAGETHRUST
    +NOCLIP
    seesound "vile/firecrkl"
	DamageType "Fire"
    states
    {
    Spawn:
	PSFX D 0 A_Explode(15,10,0)
	PSFX D 3 Bright A_LowGravity
	PSFX E 3 Bright A_Explode(15,10,0)
	PSFX F 3 Bright A_Explode(15,10,0)
	PSFX G 3 Bright A_Explode(15,10,0)
	PSFX H 3 Bright A_Explode(15,10,0)
	stop
    }
}


Actor MagmosFireSpawner1
{
    radius 0
    height 0
    +NOGRAVITY
    +NOCLIP
    states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 1 A_SpawnItem("MagmosFire1",28,0,0)
	stop
    }  
}

Actor MagmosFireSpawner2 : MagmosFireSpawner1
{
    states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 1 A_SpawnItem("MagmosFire2",28,0,0)
	stop
    }
}

Actor MagmosFireSpawner3 : MagmosFireSpawner1
{
    states
    {
    Spawn:
	  TNT1 A 0
	  TNT1 A 1 A_SpawnItem("MagmosFire3",28,0,0)
	  stop
    }
}

Actor MagmosFireSpawner4 : MagmosFireSpawner1
{
states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 1 A_SpawnItem("MagmosFire4",28,0,0)
	stop
    }
}

Actor MagmosFireDeathSpawner : MagmosFireSpawner1
{
    states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 1 A_SpawnItem("MagmosFireDeath",28,0,0)
	stop
    }
}

//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
//Cerinton.  This guy is a variation of the Rex Monster.  Cerinton's
//attacks are ones that involve the elements.  Cerinton can even use
//the Maelstrom spell as well.  This fiend used to be only vulnerable
//when on it's hind legs!!!
Actor Cerinton : RexFiend 7348	//spidermaster
{
	DropItem "RandomWeaponPower"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner"
	DropItem "PowerslaveSpawner"
	DropItem "PowerslaveSpawner"
	DropItem "PowerslaveSpawner"
	DropItem "PowerupSpawner" 
	DropItem "PowerupSpawner" 
	DropItem "PowerupSpawner" 
    obituary "%o felt the elemental fury of Cerinton."
    hitobituary "%o became an edible treat for Cerinton."
    scale 1
    radius 56
    height 88
    meleerange 184
    health 6000
    seesound "izual/sight"
    deathsound "izual/death"
    +BOSSDEATH
    +BOSS
    +FLOORCLIP
    +NORADIUSDMG
    +NOICEDEATH
    +DONTMORPH
    +NOFEAR
    Translation "16:47=104:111","128:143=104:111","48:79=104:111",
		"255:255=103:103","144:151=108:111","13:15=109:111",
		"1:2=110:111","232:239=104:111","160:167=96:111"
    DamageFactor "Wormwood", 0.2
    PainChance "Charm", 0
    PainChance "Terror", 0
    PainChance "Defile", 0
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0

//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
        See:
	REXF ABACD 4 A_Chase
	loop
    Missile:
	REXF F 0 A_Jump(11,6) //Ice Chunks
	REXF F 0 A_Jump(10,19) //Fireballs
	REXF F 0 A_Jump(8,26) //Tornadoes
	REXF F 0 A_Jump(7,30) //Lightning Shots (From Selkis)
	REXF F 0 A_Jump(7,34) //Maelstrom Spell use
	REXF F 0 A_Jump(6,38) //Reiver's Fireballs Ring
	goto Missile
	REXF F 6 A_FaceTarget
	REXF E 0 A_SpawnProjectile("IceShard",45,8,-4,2)
	REXF E 0 A_SpawnProjectile("IceShard",45,7,-3,2)
	REXF E 0 A_SpawnProjectile("IceShard",45,6,-2,2)
	REXF E 0 A_SpawnProjectile("IceShard",45,5,-1,2)
	REXF E 0 A_SpawnProjectile("IceShard",45,3,1,2)
	REXF E 0 A_SpawnProjectile("IceShard",45,2,2,2)
	REXF E 0 A_SpawnProjectile("IceShard",45,1,3,2)
	REXF E 0 A_SpawnProjectile("IceShard",45,0,4,2)
	REXF E 5 Bright A_SpawnProjectile("IceGuyFX",45,4,0,2)
	REXF F 3 A_FaceTarget
	REXF F 0 A_SpidRefire
	REXF F 0 A_Jump(64,1)
	goto Missile+6
	REXF F 0
	goto See
	REXF F 6 A_FaceTarget
	REXF EEEEEE 4 Bright A_SpawnProjectile("FireBallCerinton",45,4,0)
	REXF F 3 A_FaceTarget
	goto See
	REXF GH 4 A_FaceTarget
	REXF I 15 A_SpawnProjectile("Whirlwind",45,0,0)
	REXF HG 4 A_FaceTarget
	goto See
	REXF F 6 A_FaceTarget
	REXF F 0 A_SpawnProjectile("Selkislightningball",45,4,0)
	REXF F 0 A_SpawnProjectile("Selkislightningball",45,4,-15)
	REXF E 5 Bright A_SpawnProjectile("Selkislightningball",45,4,15)
	REXF F 3 A_FaceTarget
	goto See
	REXF GH 5 A_FaceTarget
	REXF I 18 A_SpawnProjectile("MaelstromBall",70,4,0)
	REXF HG 5 A_FaceTarget
	goto See
	REXF GH 5 A_FaceTarget
	REXF HG 4 A_FaceTarget
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,0,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,5,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,10,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,15,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,20,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,25,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,30,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,35,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,40,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,45,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,50,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,55,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,60,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,65,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,70,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,75,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,80,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,85,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,90,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,95,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,100,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,105,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,110,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,115,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,120,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,125,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,130,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,135,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,140,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,145,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,150,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,155,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,160,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,165,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,170,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,175,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,180,2,0)  
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-5,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-10,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-15,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-20,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-25,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-30,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-35,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-40,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-45,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-50,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-55,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-60,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-65,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-70,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-75,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-80,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-85,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-90,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-95,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-100,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-105,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-110,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-115,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-120,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-125,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-130,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-135,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-140,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-145,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-150,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-155,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-160,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-165,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-170,2,0)
	REXF A 0 A_SpawnProjectile("WraithFX1",12,0,-175,2,0)
	REXF A 0 A_SpawnProjectile("SetStompSound",24,0,0)
	REXF A 0 A_QuakeEx(1,1,0, 48,0,42,"", QF_SCALEDOWN)
	REXF F 12
	REXF F 0 A_SpidRefire
	REXF F 0 A_Jump(112,1)
	goto Missile+43
	REXF F 0
	goto See
    Melee:
	REXF F 10 A_FaceTarget
	REXF E 0 A_FaceTarget
	TNT1 A 0 A_JumpIfCloser(190,"ContinueMelee")
	Goto See
    ContinueMelee:
	REXF E 0 A_Playsound("weapons/frzball")  
	TNT1 A 0 A_JumpIfCloser(200,1)
	Goto See
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_FaceTarget
	REXF E 1 A_SpawnProjectile("FreezeVapor",45,8,0)
	REXF E 0 A_CPosRefire
	REXF E 0 A_FaceTarget
	Loop
    Death:
	REXF J 6 A_Scream
	REXF JKLMN 6
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"####" "#" 0 A_QueueCorpse
	"####" "#" 0 A_ChangeFlag("CORPSE",1)
	REXF O -1 A_NoBlocking
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Big
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

Actor Fireballcerinton : FireBall
{
	DamageType "Fire"
speed 18
    seesound "FireDemonAttack"
    deathsound "DemonMissileFire"
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
Actor JonWeak 7349	//baron
{
	DropItem "CellAmmo"
	DropItem "ShellAmmo"
	DropItem "BulletBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    obituary "%o didn't see this guy coming along."
    hitobituary "%o got cut up pretty bad by this operative's Machette."
    health 400
    speed 10
    mass 400
    radius 16
    height 52
    scale 0.5
    meleedamage 5
    painchance 60
    seesound "monster/jon/sight"
    activesound "monster/jon/taunt"
    painsound "monster/jon/pain"
    deathsound "monster/jon/death"
    meleesound "monster/jon/macheteslash"
    Monster	+DONTCORPSE	RipLevelMin 1
    +BOSSDEATH
    +FLOORCLIP
    +DONTMORPH
    DamageFactor "Wormwood", 0.5
    PainChance "Charm", 96
    PainChance "Terror", 96
    PainChance "Drain", 64
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Spawn:
	JON2 B 0
	JON2 B 0 A_GiveInventory("JonFlamercheck",1)
	JON2 BBBBBB 2 A_Look
	JON2 A 0 A_Jump(32,2)
	JON2 A 0 A_Jump(32,5)
	goto Spawn+2
	JON2 AAA 2 A_Look
	goto Spawn+2
	JON2 CCC 2 A_Look
	goto Spawn+2
    See:
	JONP A 1 A_JumpIfInventory("JonFlamercheck",1,3)
	JONP A 0 A_PlayWeaponSound("monster/jon/flameoff")
	JONP A 0 A_GiveInventory("JonFlamercheck",1)
	JONP ABCD 4 A_FastChase
	goto See+3
    Missile:
	JONP E 0 A_Jump(7,4)//Pistol
	JONP E 0 A_Jump(11,9)//M-60
	JONP E 0 A_Jump(10,13)//Amun Bomb
	JONP E 0 A_Jump(9,19)//Flamethrower
	JONP E 0 A_Jump(5,24)//Cobra Staff
	goto Missile
	JONP E 6 A_FaceTarget(0,0)
	JONP F 0 A_PlayWeaponSound("monster/jon/pistol")
	"----" A 0 A_SpawnProjectile("BulletTracerFXInverted",20,0,random(-5,5),CMF_OFFSETPITCH,0)
	JONP F 4 A_CustomBulletAttack(5.6, 0, 1, 10, "BulletDamagePuff")
	JONP E 5 A_FaceTarget
	JONP E 0 A_SpidRefire
	goto Missile+5
	JONP E 5 A_FaceTarget(0,0)
	JONP F 0 A_PlayWeaponSound("monster/jon/m60")
	"----" A 0 A_SpawnProjectile("BulletTracerFXInverted",20,0,random(-7,7),CMF_OFFSETPITCH,random(-1,1))
	JONP F 3 A_CustomBulletAttack(7, 1, 1, 7, "BulletDamagePuff")
	JONP E 2 A_FaceTarget
	JONP E 0 A_SpidRefire
	goto Missile+11
	JONP E 0 A_JumpIfCloser(512,1)
	goto Missile
	JONP EE 5 A_FaceTarget
	JONP E 0 A_PlayWeaponSound("monster/jon/amunbomb")
	JONP E 6 A_ThrowGrenade("JonAmunBomb",30,20,2.5)
	JONP E 0 A_JumpIfCloser(178,2)
	JONP E 0 A_SpidRefire
	goto See
	JONP E 0 A_JumpIfCloser(178,1)
	goto Missile
	JONP E 0 A_PlayWeaponSound("monster/jon/flameon")
	JONP E 0 A_TakeInventory("JonFlamercheck",1)
	JONP EE 5 A_FaceTarget
	JONP E 0 A_JumpIfCloser(178,1)
	goto Missile  
	JONP F 2 Bright A_SpawnProjectile("JonFlamethrower",24,0,0)
	JONP F 0 A_SpidRefire
	goto Missile+27
	JONP E 5 A_FaceTarget
	JONP F 4 A_SpawnProjectile("JonCobraStaff",24,0,0)
	JONP E 3 A_FaceTarget
	JONP E 0 A_SpidRefire
	goto Missile+30
    Melee:
	JONP E 0 A_Stop
	JONP E 6 A_FaceTarget
	JONP E 0 A_PlaySound("monster/jon/machete")
	JONP E 12 A_MeleeAttack
	goto See
    Pain:
	JONP G 4 A_Pain
	JONP HG 3
	goto See
    Ice:
	JONP G 5 A_GenericFreezeDeath
	JONP G 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	JONP G 1 A_FreezeDeathChunks
	Wait
    Death:
	JONP I 5 A_Scream
	JONP JKLMNO 5
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	"####" "#" 0 A_QueueCorpse
	"####" "#" 0 A_ChangeFlag("CORPSE",1)
	JONP O -1 A_NoBlocking
	stop
    XDeath:
	JONP PPPP 0 A_TossGib
	JONP AAA 0 A_SpawnProjectile("PowerslaveMiscGib5",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	JONP P 4 A_XScream
	JONP Q 3
	JONP A 0 A_SpawnProjectile("PowerslaveMiscGib4",45,0+Random(9,-9),0+Random(0,370),2,0+random(5,50))
	JONP AAA 0 A_SpawnProjectile("PowerslaveMiscGib5",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	JONP A 0 A_SpawnProjectile("PowerslaveMiscGib7",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	JONP AAAAAA 0 A_TossGib
	JONP R 3
	ANUB A 0 A_SpawnProjectile("PowerslaveMiscGib6",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	ANUB AAA 0 A_SpawnProjectile("PowerslaveMiscGib5",0+Random(24,45),0+Random(9,-9),0+Random(0,370),2,0+random(5,50))  
	ANUB AAAAAAAA 0 A_TossGib
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	JONP S 3 A_NoBlocking
	stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    Burn:
	TNT1 A 0 A_Fall
	TNT1 A 120 A_SpawnItemEx("GenericHumanBurn",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	Stop

	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		"####" "#" 1 A_FreezeDeathChunks
		Wait
    }
}


Actor Jonamunbomb
{
    Radius 10
    Height 6
    Speed 20
    Scale 0.15
    Damage 20
    PROJECTILE
    +EXTREMEDEATH
    +CANBOUNCEWATER
    EXPLOSIONDAMAGE 256
    EXPLOSIONRADIUS 130
    seesound "monster/jon/amunbomb"
    deathsound "monster/jon/bombexplosion"
    States
    {
    Spawn:
	AMNB A 3 Bright A_Gravity
	loop
    Death:
	AMNB A 0 A_Explode(256,130)
	AMNB A 0 A_PlaySound("monster/jon/bombexplosion")
	AMNB A 0 A_SpawnItem("PowerSlaveexplosion2",0,10)
	AMNB A 0
	stop
    }
}

Actor JonCobraStaff
{
    scale 0.5
    radius 5
    height 10
    speed 12
    damage 15
    seesound "monster/jon/cobrastaffuse"
    deathsound "monster/jon/cobrastaffhits"
    PROJECTILE
    +SEEKERMISSILE
    +STRIFEDAMAGE
	DamageType "AEPoison"
    states
    {
    Spawn:
	PSCS A 0 A_SpawnItem("CobraStaffTail",-12,0,0)
	PSCS A 0 A_SeekerMissile(90,90)
	PSCS A 1 Bright A_CStaffMissileSlither
	loop
    Death:
	PSCS CDEF 4 Bright
	stop
    }
}

Actor CobraStaffTail
{
    scale 0.5
    speed 0
    PROJECTILE
    states
    {
    Spawn:
	PSCS B 2 Bright
	PSCS B 0 Bright A_SpawnItem("CobraStaffTail2",0,0,0)
	stop
    }
}

Actor CobraStaffTail2 : CobraStaffTail
{
    scale 0.4
    states
    {
    Spawn:
	PSCS B 2 Bright
	PSCS B 0 Bright A_SpawnItem("CobraStaffTail3",0,0,0)
	stop
    }
}

Actor CobraStaffTail3 : CobraStaffTail
{
    scale 0.3
    states
    {
    Spawn:
	PSCS B 2 Bright
	PSCS B 0 Bright A_SpawnItem("CobraStaffTail4",0,0,0)
	stop
    }
}

Actor CobraStaffTail4 : CobraStaffTail
{
    scale 0.2
    states
    {
	Spawn:
	PSCS B 2 Bright
	stop
    }
}


//=====================================================================================
//=====================================================================================


//=====================================================================================
//=====================================================================================
Actor Jon : JonWeak 7350	//cyberdemon
{
	DropItem "CellBigAmmo"
	DropItem "CellBigAmmo"
	DropItem "ShellBigAmmo"
	DropItem "ShellBigAmmo"
	DropItem "ExploBigAmmo"
	DropItem "ExploBigAmmo"
	DropItem "BulletBigAmmo"
	DropItem "BulletBigAmmo"
	DropItem "Mana1BigAmmo"
	DropItem "Mana1BigAmmo"
	DropItem "Mana2BigAmmo"
	DropItem "Mana2BigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerupSpawner" 8
    +BOSSDEATH
    obituary "%o found out one reason why this guy became king of the world."
    health 5500
    +BOSS
    +NOFEAR
    Scale 0.6
    DamageFactor "Wormwood", 0.2
    PainChance "Charm", 0
    PainChance "Terror", 0
    PainChance "Drain", 40
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    states
    {
    Spawn:
	JON2 B 0
	JON2 B 2 A_GiveInventory("JonFlamercheck",1)
	JON2 B 0 A_JumpIfInventory("JonBossCheck",1,15) //If this is available, then Powerslave player says "Lets get the hell outta here", but only if he Missile'd already.
	JON2 BBBBBB 2 A_Look
	JON2 A 0 A_Jump(32,2)
	JON2 A 0 A_Jump(32,5)
	goto Spawn+2
	JON2 AAA 2 A_Look
	goto Spawn+2
	JON2 CCC 2 A_Look
	goto Spawn+2
	JON2 A 0 A_PlaySound("monster/jon/taunt9") //Powerslave player says this if the player got killed by a Missile weapon.
	JON2 A 0 A_TakeInventory("JonBossCheck",1)
	goto Spawn+2
    Missile:
	JONP E 0 A_GiveInventory("JonBossCheck",1)
	JONP E 0 A_JumpIfInventory("JonFlamercheck",1,3)
	JONP E 0 A_GiveInventory("JonFlamercheck",1)
	JONP E 10 A_PlaySound("monster/jon/flameoff")
	JONP E 0 A_Jump(5,7)//Pistol
	JONP E 0 A_Jump(11,11)//M-60
	JONP E 0 A_Jump(10,15)//Amun Bomb
	JONP E 0 A_Jump(9,21)//Flamethrower
	JONP E 0 A_Jump(8,28)//Cobra Staff
	JONP E 0 A_Jump(9,31)//Ring of Ra
	JONP E 0 A_Jump(6,34)//Sacred Manacle
	goto Missile
	JONP E 6 A_FaceTarget(0,0)
	JONP F 0 A_PlayWeaponSound("monster/jon/pistol")
	"----" A 0 A_SpawnProjectile("BulletTracerFXInverted",20,0,random(-5,5),CMF_OFFSETPITCH,0)
	JONP F 4 Bright A_CustomBulletAttack(5.6, 0, 1, 10, "BulletDamagePuff")
	JONP E 5 A_FaceTarget
	JONP E 0 A_SpidRefire
	goto Missile+11
	JONP E 5 A_FaceTarget(0,0)
	JONP F 0 A_PlayWeaponSound("monster/jon/m60")
	"----" A 0 A_SpawnProjectile("BulletTracerFXInverted",20,0,random(-7,7),CMF_OFFSETPITCH,random(-1,1))
	JONP F 3 Bright A_CustomBulletAttack(7, 1, 1, 7, "BulletDamagePuff")
	JONP E 2 A_FaceTarget
	JONP E 0 A_SpidRefire
	goto Missile+17
	JONP E 0 A_JumpIfCloser(512,1)
	goto Missile
	JONP EE 5 A_FaceTarget
	JONP E 0 A_PlayWeaponSound("monster/jon/amunbomb")
	JONP E 6 A_ThrowGrenade("JonAmunBomb",30,20,2.5)
	JONP E 0 A_JumpIfCloser(178,2)
	JONP E 0 A_SpidRefire
	goto Missile+21
	JONP E 0 A_JumpIfCloser(178,1)
	goto Missile
	JONP E 0 A_PlayWeaponSound("monster/jon/flameon")
	JONP E 0 A_TakeInventory("JonFlamercheck",1)
	JONP EE 5 A_FaceTarget
	JONP E 0 A_JumpIfCloser(178,1)
	goto Missile  
	JONP F 2 Bright A_SpawnProjectile("JonFlamethrower",24,0,0)
	JONP F 0 A_SpidRefire
	goto Missile+33
	JONP E 5 A_FaceTarget
	JONP F 4 A_SpawnProjectile("JonCobraStaff",24,0,0)
	JONP E 3 A_FaceTarget
	JONP E 0 A_SpidRefire
	goto Missile+36
	JONP E 5 A_FaceTarget
	JONP F 0 A_SpawnProjectile("RingofRaFireball",36,10,0+random(-10,10),0,15)
	JONP F 2 Bright A_SpawnProjectile("RingofRaFireball",36,-10,0+random(-10,10),0,15)
	JONP F 0 A_SpidRefire
	goto Missile+41
	JONP E 0 A_PlaySound("monster/jon/manaclecharge")
	JONP EE 5 A_FaceTarget
	JONP E 0 A_PlaySound("monster/jon/manaclecharge")
	JONP EE 5 A_FaceTarget
	JONP E 0 A_PlaySound("monster/jon/manaclecharge")
	JONP EE 5 A_FaceTarget
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_SpawnProjectile("SacredManacleshot",24,0+Random(-2,2),0+Random(-25,25),0,0+Random(-15,15))
	JONP F 0 A_PlaySound("monster/jon/sacredmanacleattack")
	JONP F 5 Bright A_SpawnProjectile("SacredManacleshot",24+Random(-3,3),0+Random(-5,5),0+Random(-15,15),0,0+Random(-15,15))
	JONP G 20 A_FaceTarget
	goto See
    Ice:
	JONP G 5 A_GenericFreezeDeath
	JONP G 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	JONP G 1 A_FreezeDeathChunks
	Wait
    Burn:
	TNT1 A 0 A_Fall
	TNT1 A 120 A_SpawnItemEx("GenericHumanBurn",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	Stop  
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    } 
}

Actor JonEnhancedgetsscorched : LeonardEnhancedGetsGibbed
{
    deathsound "monster/jon/death2"
}

Actor JonFlamethrower
{
    radius 8
    height 14
    scale 0.5
    damage 2
    speed 10
    PROJECTILE
    DamageType "Fire"
    +MISSILE
    seesound "monster/jon/flamer"
    states
    {
    Spawn:
	PSFX AOAO 1 Bright
	PSFX AOAOAOAOAOBBCDEEFFGGHI 1 Bright A_Explode(5,10,0)
	stop
    Death:
	PSFX EFGHI 3 Bright A_Explode(7,12,0)
	stop
    }
}

Actor JonFlamercheck : Inventory
{
    inventory.amount 1
    inventory.maxamount 1
}

Actor JonBossCheck : Inventory
{
    inventory.amount 1
    inventory.maxamount 1
}

Actor SacredManacleshot
{
    radius 1
    height 2
    damage 9 //Sacred Manacle's 12 shots should kill a Magmantis in one blow ;)
    speed 12 //Yet the speed should not be 'too' fast...
    Translation "192:207=192:195"
    PROJECTILE
    +SEEKERMISSILE
	DamageType "Holy"
    states
    {
    Spawn:
	MWND D 0 A_SeekerMissile(90,90)
	MWND D 0 A_SpawnItem("SacredManacleTrail",0,0)
	MWND D 1 Bright A_BishopMissileWeave
	loop
    Death:
	TNT1 A 1
	stop
    }
}

Actor SacredManacleTrail
{
    radius 1
    height 2
    speed 0
    Translation "192:207=192:195"
    PROJECTILE
    states
    {
    Spawn:
	MWND D 8 Bright
	stop
    }
}













//==================================================================
//==================================================================

//==================================================================
//==================================================================
Actor SelkisMinion 		//chaingunner
{
	DropItem "CellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerMonsterAmmo" 128
	DropItem "PowerupSpawner" 8
    obituary "%o was eradicated by Selkis."
    hitobituary "%o was pincer'd by Selkis."
    health 120
    radius 20
    height 56
    speed 5
    Scale 0.44
    painchance 128
    mass 900
    Monster	+DONTCORPSE	RipLevelMin 1
    +MISSILEMORE
    +FLOORCLIP
    +DONTMORPH
    +NOFEAR
    seesound "snake/sight"
    activesound "snake/active"
    painsound "snake/pain"
    deathsound "snake/death"
    Translation "0:255=%[0,0,0]:[1.0,0.4,0.4]", "176:191=176:191", "32:47=32:47"
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
	PainChance "Slow", 255
//Unholy
	DamageFactor "Holy", 2.0
	DamageFactor "Unholy", 0.5
	DamageFactor "UnholyDisint", 0.5
	DamageFactor "Fire", 0.75
	DamageFactor "Ice", 0.75
	DamageFactor "AEPoison", 0.75
	DamageFactor "AEMagic", 0.75
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See 


    Spawn:
	SELK A 1 A_Look
	loop
    See:
		SELK ABCD 4 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
    Missile:
	SELK E 2 A_FaceTarget
	TNT1 A 0 A_PlaySound("firedemonattack")
	SELK F 3 Bright A_SpawnProjectile("MiniSelkisProj",35,0,0)
	TNT1 A 0 A_CPosRefire
	Loop
    Pain:
	SELK L 3
	SELK M 4 A_Pain
	SELK L 3
	goto See
    Death:
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
	SELK N 5 A_Scream
	SELK N 0 A_NoBlocking  
	SELK PQRS 5
	SELK T 0 A_PlaySound("monster/jon/bombexplosion")
	SELK T 4 A_SpawnItem("BossDeathExplosion",0,24+Random(-5,5),0)
	TNT1 AA 0 A_SpawnItem("RedMite",0,0,0)
	SELK UVWX 4 Bright A_TossGib
	SELK Y 8 A_TossGib
	TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
	SELK YZ 4 
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
	SELK Z -1
	stop
	
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto Death+7
		
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}

Actor MiniSelkisProj
{
	Projectile
	Speed 20
	Damage 2
	Radius 6
	Height 10
	RenderStyle Add
	Scale 0.4
	States
	{
	Spawn:
		CTFX A 3 Light("BlueSmallFlicker1") Bright
		Loop
	Death:
		CTFX BCDEF 3 Light("BlueSmallFlicker2") Bright A_FadeOut
		Stop
	}
}

//==================================================================
//==================================================================

//==================================================================
//==================================================================
Actor KilmaatSoldier2 	//shotguy
{
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerShotgunner" 210
	DropItem "PowerupSpawner" 8
    obituary "%o encountered the Kilmaat."
    scale 0.52
    radius 16
    height 52
    health 90
    speed 6
    painchance 70
    mass 450
    seesound "monster/kilmaatsentry/sight"
    painsound "monster/selkis/pain2"
    activesound "monster/kilmaatsentry/active"
    deathsound "monster/kilmaatsentry/death"
    Monster	+DONTCORPSE	RipLevelMin 1
    +MISSILEMORE
    +FLOORCLIP
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Defile", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
	PainChance "Slow", 255
	
    Translation  "0:255=%[0,0,0]:[0.6,1.0,0.6]", "208:235=208:235", "160:191=160:191", "248:249=248:249"
//Flesh
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 1.5
	DamageFactor "AEBullet", 2.0
    States
    {
                Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See 


    Spawn:
	KILM A 1 A_Look
	loop
    See:
	KILM ABCD 2 A_Chase
		TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDecide")
		Loop
	DefileDecide:
		TNT1 A 0 A_Jump(15,1)
		Goto See
		TNT1 A 0 A_Die
		Wait
    Missile:
	KILM E 4 A_FaceTarget
	TNT1 A 0 A_PlaySound("monster/kilmaatsentry/shoot")
	KILM FFFF 0 Bright A_SpawnProjectile("KilmaatGunshotWeak",32,5,random(4,-4))
	KILM F 4 Bright A_SpawnProjectile("KilmaatGunshotWeak",32,5,random(4,-4))
	KILM E 4 A_FaceTarget
	KILM E 0 A_SpidRefire
	KILM E 0 A_Jump(96,1)
	goto Missile
	KILM E 0
	goto See
    Pain:
	KILM G 8 A_Pain
	goto See
    Death:
	TNT1 A 0 //A_JumpIfInventory("DefileCheck",1,"DefileDeath")
	KILM H 4
	KILM I 4 A_Scream
	KILM JK 3
	KILM JJJJJJJJ 0 A_TossGib  
	KILM O 3 A_SpawnItem("Kilmaatguts")
	KILM P 1 A_NoBlocking
		"####" "#" 0 A_ChangeFlag("CORPSE",1)
	KILM P -1
	stop
	DefileDeath:
		TNT1 A 0 A_Die
		TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		Goto Death+2
    Raise:
	KILM POKJIH 3
	goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
		"----" A 0 A_ChangeFlag("NOINTERACTION",1)
		"----" A 0 A_Stop	
		"----" A 0 A_Fall
		"----" A 0 A_SpawnItemEx("DisintegrationShadow",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE|SXF_TRANSFERSPRITEFRAME,0,
		Medium
		)
		TNT1 A 35
		TNT1 A 0 A_KillMaster("Massacre",KILS_FOILINVUL,None,"AEoDSpawner")
		Stop
    }
}
Actor KilmaatGunshotWeak
{
    radius 6
    height 8
    scale 0.1
    damage 1
    speed 20
    RENDERSTYLE ADD
    Alpha 0.95
    PROJECTILE
    +MISSILE
    +STRIFEDAMAGE
	DamageType "Plasma"
    deathsound "enforcer/shotcrash"
    states
    {
    Spawn:
	TNT1 A 0
	TNT1 A 0 ThrustThingZ(0,random(2,-2),0,1)
	RRAE AD 2 Bright
	Goto Spawn+2
    Death:
	RRAE EF 2 Bright
	RRAE G 2 Bright A_SpawnProjectile("LaserSpawnin",0,0,0)
	RRAE H 2 Bright
	stop
    }
}