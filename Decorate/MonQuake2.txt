
//===========================================================================
//===========================================================================

actor FBerserker 7380		// demon
{
	DropItem "CellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 200
    Radius 20
    Height 56
    Scale 0.46
    Speed 12
    PainChance 150
    Mass 400
    Monster	RipLevelMin 1
    +FLOORCLIP
    SeeSound "q2berserker/sight"
    PainSound "q2berserker/pain"
    DeathSound "q2berserker/death"
    ActiveSound "q2berserker/idle"
    MeleeSound "implord/macehit"
    Obituary "%o was smashed by a berserker."
    MeleeDamage 7
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 153
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See

    Spawn:
        BERI A 10 A_Look
	Loop
    See:
        BERW AABBCCDDEEFF 2 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(5,"Death")
	Loop
    Melee:
	  TNT1 A 0 A_Jump(128,6)
	  TNT1 A 0 A_PlaySound("q2berserker/attack")
        BERA AB 5 A_FaceTarget
        BERA C 6 A_CustomMeleeAttack(random(5,30))
	  BERA D 5
        Goto See
	  TNT1 A 0 A_PlaySound("q2berserker/attack")
        BERA EFG 4 A_FaceTarget
        BERA H 4 A_CustomMeleeAttack(random(5,30))
	  BERA I 4
        Goto See

    Pain:
        BERP A 2
        BERP A 5 A_Pain
        Goto See
    Death:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,9)
        BERD A 4
        BERD B 4 A_Scream
        BERD C 4
        BERD D 4 A_Fall
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Beefy")
        BERD EFG 4
        BERD H -1
        Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	BERP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	BERP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
        BERD HGFEDCBA 6
        Goto See
    }
}

//===========================================================================
//===========================================================================

actor IronMaiden 7381	// hell knight
{
	DropItem "ExploAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 500
    Radius 20
    Height 64
    Scale 0.4
    Speed 5
    PainChance 150
    Mass 400
    Monster	RipLevelMin 1 
    +FLOORCLIP
    +DONTMORPH
    SeeSound "q2bitch/sight"
    PainSound "q2bitch/pain"
    DeathSound "q2bitch/death"
    ActiveSound "q2bitch/search"
    MeleeSound "implord/macehit"
    Obituary "%o was exploded by the Iron Maiden."
    HitObituary "%o shouldn't have approached that much to the Iron Maiden."
    MeleeDamage 8
    +BOSSDEATH
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 110
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
        BITI AAAAAAAAAAAAAAAA 5 A_Look
	TNT1 A 0 A_PlaySound("q2bitch/doingnothing")
	BITI AAAAAAAAAA 6 A_Look
	TNT1 A 0 A_Jump(128,7)
	BITI AAAAAAA 6 A_Look
	BITI AAAAAAAAAA 6 A_Look
        Loop
    See:
        BITW AABBCCDDEEFF 2 A_Chase
        Loop
    Missile:
	TNT1 A 0 A_PlaySound("q2bitch/attackscream")
        BITA ABCD 5 A_FaceTarget
        BITA D 5 A_CustomMissile("BitchRocket",29,-6,0)
	BITA E 5
        Goto See
    Pain:
        BITP A 2
        BITP A 5 A_Pain
        Goto See
    Death:
        BITD A 6
        BITD B 6 A_Scream
        BITD C 6
        BITD D 6 A_Fall
        BITD EFG 6
        BITD HIJKLMN 5
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Small")
        BITD O -1 A_KillMaster
        Stop
    Ice:
	BITP A 5 A_GenericFreezeDeath
	BITP A 0 A_KillMaster
	BITP A 1 A_FreezeDeathChunks
	Wait
    XDeath:
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_KillMaster
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	BITP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	BITP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
	BITD ONMLKJIHGFEDCBA 4
	Goto See
    }
}

actor BitchRocket
{
    Radius 12
    Height 8
    Speed 20
    Damage 15
    Projectile
    Scale 0.45
    +ROCKETTRAIL
    SeeSound "q2weapon/rocketlauncherfire"
    DeathSound "quake4/Misc/RocketExplo"
    States
    {
    Spawn:
	QROK A 2 A_SpawnItemEx("Q2RocketAltSmoke",-4,random(3,-3),0,0,frandom(0.3,-0.3),frandom(0.3,0.75),0,32)
	TNT1 A 0 A_SpawnItemEx("Q2RocketExtra",0,0,0,1,0,random(-1,1),random(1,360))
	Loop
    Death:
	TNT1 A 0 A_SpawnItemEx("MonExplosionMedium",0,0,0,0,0,0,0,32)
	TNT1 A 0 A_PlaySound("weapons/rockexplo")
	TNT1 A 4 A_Explode(96,128)
	Stop
    }
}

Actor RocketExplosion
{
    Radius 5
    Height 5
    Speed 0
    +NOCLIP
    Speed 0
    Projectile
    SeeSound "weapons/rockexplo"
    States
    {
    Spawn:
	EXP3 BCDEFGHIJKLMNOPQRSTUVWXYZ 2 Bright A_FadeOut(0.025)
	Wait
    }
}

actor YellowBit
{
    Mass 1
    Radius 1
    Height 1
    Speed 5
    Damage 0
    PROJECTILE
    +NOCLIP
    States
    {
    Spawn:
        YELL AAAA 5
        Stop
    }
}

//===========================================================================
//===========================================================================

actor FTankBoss 7382	// spider mastermind
{
	DropItem "AEoDHowitzerItem" 64
	DropItem "ExploBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 5500
    Radius 72
    Height 95
    Scale 0.7
    Speed 12
    PainChance 15
    Mass 9000
    Monster	RipLevelMin 2
    +BOSSDEATH
    +FLOORCLIP
    +MISSILEEVENMORE
    +BOSS
    +NORADIUSDMG
    BloodType NoBloodPuff
    +NOICEDEATH
    +DONTMORPH
    +NOFEAR
    SeeSound "q2bosstank/sight"
    PainSound "q2bosstank/pain"
    DeathSound "q2bosstank/death"
    ActiveSound "q2bosstank/search"
    AttackSound "q2weapon/machinegun"
    Obituary "%o was shredded by a tank-boss."
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
	BS1W A 5 A_Look
        Loop
    See:
	TNT1 A 0 A_PlaySound("q2bosstank/walk")
        BS1W AABB 3 A_Chase
        BS1W CCDD 3 A_Chase
        Loop
    Missile:
	TNT1 A 0 A_Jump(200,"Rocket","Minigun")
    Howitzer:
	TNT1 A 0 A_StopSound
	TNT1 A 0 A_PlaySound("weapons/howitzer/altpowerup",CHAN_VOICE,1.0,0,0.4)   //oh you'll hear it :D
	BS1A FGGGGGGGG 10 A_FaceTarget
	TNT1 A 0 A_PlaySound("weapons/howitzer/altfire",CHAN_VOICE,1.0,0,0.4)
//	TNT1 a 0 A_Recoil(10)
	TNT1 AAAAA 0 A_SpawnItemEx("NewExploMediumSmoke",30,random(-36,-44),random(118,122),0,0,frandom(0.4,0.99),0,32)
	BS1A J 10 Bright A_CustomBulletAttack(5,5,1,3,"HowitzerPuff")
	BS1A KLMN 14
	Goto See
    Rocket:
	TNT1 A 0 A_StopSound
	BS1A FG 10 A_FaceTarget
	BS1A Z 0 A_FaceTarget
	BS1A H 10 Bright A_CustomMissile("BossTankRocket",122,-36,0)
	BS1A Z 0 A_FaceTarget
	BS1A I 10 Bright A_CustomMissile("BossTankRocket",120,-40,0)
	BS1A Z 0 A_FaceTarget
	BS1A J 10 Bright A_CustomMissile("BossTankRocket",118,-44,0)
	BS1A KLMN 14
	Goto See
    Minigun:
	TNT1 A 0 A_StopSound
	BS1A ABCD 5 A_FaceTarget
	BS1A ABCD 4 A_FaceTarget
	BS1A A 3 Bright A_CustomBulletAttack(6,6,2,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",24,44,102,0,0,0,0,32)
	TNT1 a 0 A_SpawnItemEx("NewExploSmallSmoke",24,44,106,0,0,frandom(0.4,0.99),0,32,128)
	BS1A Z 0 A_FaceTarget
	BS1A B 3 Bright A_CustomBulletAttack(6,6,2,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",24,44,102,0,0,0,0,32)
	TNT1 a 0 A_SpawnItemEx("NewExploSmallSmoke",24,44,106,0,0,frandom(0.4,0.99),0,32,128)
	BS1A Z 0 A_FaceTarget
	BS1A C 3 Bright A_CustomBulletAttack(6,6,2,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",24,44,102,0,0,0,0,32)
	TNT1 a 0 A_SpawnItemEx("NewExploSmallSmoke",24,44,106,0,0,frandom(0.4,0.99),0,32,128)
	BS1A Z 0 A_FaceTarget
	BS1A D 3 Bright A_CustomBulletAttack(6,6,2,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",24,44,102,0,0,0,0,32)
	TNT1 a 0 A_SpawnItemEx("NewExploSmallSmoke",24,44,106,0,0,frandom(0.4,0.99),0,32,128)
	BS1A Z 0 A_FaceTarget
	BS1A E 0 A_CPosRefire
	BS1A A 0
	Goto "Minigun"+9
    Pain:
        BS1P A 2
        BS1P A 5 A_Pain
        Goto See
    Death:
	TNT1 A 0 A_StopSound
        BS1D A 6 A_Scream
        BS1D B 6
        BS1D C 6
        BS1D D 6 A_Fall
	TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
	TNT1 A 0 A_TossGib
	TNT1 A 0 A_TossGib
        BS1D EFG 6 
	TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
        BS1D HIJ 6
	TNT1 AAAA 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
	TNT1 A 0 A_TossGib
	TNT1 A 0 A_TossGib
	TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal")
	BS1D K 20
        XTRA C 0 A_PlaySound("other/gibdeath")
	TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAAAAAAAAAAAAAAAA 0 A_TossGib
	TNT1 AAAAA 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
	TNT1 A 0 A_KillMaster
        Stop

    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	TNT1 a 0 A_KillMaster
	BS1P A 1 A_FadeOut(0.15)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowBig",0,0,45,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksBig",0,0,45,0,0,0,0,32)
	BS1P AA 2 A_FadeOut(0.03)
	Goto Disintegrate+7
    }
}

actor BossTankRocket
{
    Radius 12
    Height 8
    Speed 26
    Damage 30
    Projectile
    Scale 0.6
    +ROCKETTRAIL
    ExplosionDamage 125
    ExplosionRadius 256
    Translation "4:95=176:191"
    SeeSound "q2weapon/rocketlauncherfire"
    DeathSound "quake4/Misc/RocketExplo"
    States
    {
    Spawn:
     	MI13 A 1 Bright A_SpawnItemEx("Q2RocketAltSmoke",-4,random(3,-3),0,0,frandom(0.3,-0.3),frandom(0.3,0.75),0,32)
	MISS A 0 A_CustomMissile("BarbasRocket1Trail2",random(3,-3),random(3,-3),0)
	TNT1 AA 0 A_CustomMissile("BarbasRocket1Trail1",random(3,-3),random(3,-3),0)
	Loop
    Death:
	TNT1 A 0 A_SPawnItemEx("MonExplosionMedium",0,0,0,0,0,0,0,32)
	EXP3 A 0 Bright A_Explode(160,160)
	Stop
    }
}

Actor ShotSmoke
{
    Mass 1
    Radius 8
    Speed 2
    Renderstyle Add
    Alpha 0.5
    Scale 0.65
    +NOGRAVITY
    Height 6
    States
    {
    Spawn:
        PUF5 ABCDEFGHIJKLMNOP 1 A_NoGravity
        Stop
    }
}


//===========================================================================
//===========================================================================

actor FHoverBoss 7383	// spider mastermind
{
	DropItem "AEoDVulcanCannonItem" 64
	DropItem "ExploBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 4500
    Radius 70
    Height 100
    Speed 6
    PainChance 50
    Mass 9000
    Scale 0.8
    Monster	RipLevelMin 2
    +BOSSDEATH
    +BOSS
    +NOGRAVITY
    +FLOAT
    +NORADIUSDMG
    BloodType NoBloodPuff
    +NOICEDEATH
    +DONTMORPH
    +NOFEAR
    SeeSound "q2flyingboss/sight"
    DeathSound "q2flyingboss/death"
    PainSound "q2flyingboss/pain"
    AttackSound "q2weapon/machinegun"
    Obituary "%o was destroyed by a hover boss."
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
	BS2W A 0 
	BS2W A 0 A_PlaySound("q2flyingboss/walk",6,0.4,1,1)
        BS2W A 4 Bright A_Look
        Loop
    See:
        BS2W AAAAAA 2 Bright A_Chase
        Loop
    Missile:
	BS2A A 0 A_Jump(96,"Rockets") 
	BS2A AAAA 4 A_FaceTarget
	BS2A A 3 Bright A_CustomBulletAttack(9,9,2,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",60,60,80,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",40,60,75,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",40,-60,80,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",40,-60,75,0,0,0,0,32)
	BS2A E 0 A_CPosRefire
	BS2A A 0
	Goto Missile+5
    Rockets:
	BS2A BBCCDD 5 A_FaceTarget
	BS2A D 0 A_CustomMissile("BossTankRocket",10,18,0)
	BS2A D 0 A_CustomMissile("BossTankRocket",10,9,0)
	BS2A D 0 A_CustomMissile("BossTankRocket",10,0,0)
	BS2A D 0 A_CustomMissile("BossTankRocket",10,-9,0)
	BS2A D 0 A_CustomMissile("BossTankRocket",10,-18,0)
	BS2A CB 10
        Goto See
    Pain:
	BS2P A 3 
	BS2P A 3 A_Pain
	Goto See
    Death:
        BS2D A 0 A_StopSound
		BS2D A 6 A_LowGravity
        BS2D B 6 A_Scream
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
        BS2D D 5 A_Fall
        BS2D E 4 
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
        BS2D G 5 
        Goto Death+7
    Crash:
	TNT1 A 0 A_JumpIfInventory("DisintegrateToken",1,"DisintegrateCont")
	TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal")
	BS2D H 6 A_SetFloorClip
	BS2D I 6
	TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
	BS2D J 6
	BS2D K 6
	BS2D L 6
	BS2D M 6
	TNT1 AA 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
	BS2D N 6
	BS2D O 6
	TNT1 AA 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
	BS2D P 20
        XTRA C 0 A_PlaySound("other/gibdeath")
	TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAAAAAAAAAAAAAAAA 0 A_TossGib
	TNT1 AAA 0 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
	TNT1 A 1 A_KillMaster
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 A_GiveInventory("DisintegrateToken",1)
    DisintegrateCont:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	TNT1 A 0 A_KillMaster
	BS2P A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowBig",0,0,45,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksBig",0,0,45,0,0,0,0,32)
	BS2P AA 2 A_FadeOut(0.03)
	Goto DisintegrateCont+7
    }
}


//===========================================================================
//===========================================================================

actor FMakronPet 7384	// cyberdemon
{
	DropItem "CellBigAmmo"
	DropItem "CellBigAmmo" 128
    Health 2500
    Radius 40
    Height 95
    Scale 0.7
    Speed 10
    PainChance 15
    Mass 9000
    Monster	RipLevelMin 2 
    +FLOORCLIP
    +MISSILEMORE
    +BOSS
    +NORADIUSDMG
    BloodType NoBloodPuff
    +NOICEDEATH
    +DONTMORPH
    +NOFEAR
    //DropItem FMakron
    SeeSound "q2makron2/voice"
    PainSound "q2makron1/pain"
    DeathSound "q2makron1/death"
    ActiveSound "q2makron1/seeking"
    AttackSound "q2weapon/machinegun"
    Obituary "%o was killed by makron and it's pet."
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
	BS4I A 5 A_Look
        Loop
    See:
        BS4W AABBCCDDEEFFGG 4 A_Chase
        Loop
    Missile:
	TNT1 A 0 A_Jump(128,9)
	BS4B ABC 9 A_FaceTarget
	BS4B Z 0 A_FaceTarget
	BS4B D 10 A_CustomMissile("AEoDBFG10KShot2M",80,-26,0)
	BS4B Z 0 A_FaceTarget
	BS4B EF 7 A_FaceTarget
	Goto See
	BS4C ABCD 5 A_FaceTarget
	BS4C EF 4 A_FaceTarget
	BS4C G 3 Bright A_CustomBulletAttack(4,4,1,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,-40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,-40,65,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,40,65,0,0,0,0,32)
	BS4C Z 0 A_FaceTarget
	BS4C H 3 Bright A_CustomBulletAttack(4,4,1,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,-40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,-40,65,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,40,65,0,0,0,0,32)
	BS4C Z 0 A_FaceTarget
	BS4C I 3 Bright A_CustomBulletAttack(4,4,1,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,-40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,-40,65,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,40,65,0,0,0,0,32)
	BS4C Z 0 A_FaceTarget
	BS4C J 3 Bright A_CustomBulletAttack(4,4,1,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,-40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,-40,65,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,40,65,0,0,0,0,32)
	BS4C Z 0 A_FaceTarget
	BS4C K 3 Bright A_CustomBulletAttack(4,4,1,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,-40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,-40,65,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,40,65,0,0,0,0,32)
	BS4C Z 0 A_FaceTarget
	BS4C L 3 Bright A_CustomBulletAttack(4,4,1,5,"BulletDamagePuff")
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,-40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,-40,65,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",35,40,70,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",35,40,65,0,0,0,0,32)
	BS4C Z 0 A_FaceTarget
	BS4C A 0 A_CPosRefire
	BS4C M 0
	Goto Missile+16
    Pain:
        BS4P A 2
        BS4P A 5 A_Pain
        Goto See
    Death:
		TNT1 A 0 A_StopSound
		BS4D A 6 A_Scream
		BS4D BCDEFGHI 6
		BS4D JKL 4
		BS4D M 30 A_PlaySound("quake4/Misc/Body/Metal",6)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		BS4D M 10 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		BS4D M 50 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		BS4D M 20 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_TossGib
		BS4D M 0 A_Fall
		TNT1 A 0 A_SpawnItemEx("FMakron",0,0,0,0,0,0,0,32|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID|SXF_TRANSFERPOINTERS,0,tid)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		Stop
	Death.Massacre:
	Death.Telefrag:
		TNT1 A 0 A_StopSound
		BS4D A 6 A_Scream
		BS4D BCDEFGHI 6
		BS4D JKL 4
		BS4D M 30 A_PlaySound("quake4/Misc/Body/Metal",6)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		BS4D M 10 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		BS4D M 50 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		BS4D M 20 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_TossGib
		BS4D M 0 A_Fall
		TNT1 A 0 A_SpawnItemEx("FMakron",0,0,0,0,0,0,0,32|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID|SXF_SETMASTER,0,tid)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 0 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 1 A_SpawnItemEx("BossDeathExplosion",random(0,30),0,random(0,50),0,0,0,random(0,359),32)
		TNT1 A 75 A_KillChildren
		TNT1 A 0 A_KillMaster
		Stop
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		"####" "#" 0 A_SpawnItemEx("FMakron",0,0,0,0,0,0,0,32|SXF_TRANSFERSPECIAL|SXF_CLEARCALLERSPECIAL|SXF_CLEARCALLERTID|SXF_TRANSFERPOINTERS,0,tid)
		"####" "#" 0 Thing_SetTranslation(0,50)
		"####" "#" 0 A_StopSound(6)
		"####" "#" 1 A_FadeOut(0.015)
		"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
		"####" "#" 0 A_Stop    
		"####" "#" 0 A_Fall
		"####" "#" 0 A_SpawnItemEx("DisintegrateShadowBig",0,0,45,0,0,0,0,32)
		DisintegrateCont:
		"####" "#" 0 A_SpawnItemEx("DisintegrateSparksBig",0,0,45,0,0,0,0,32)
		"####" "##" 2 A_FadeOut(0.03)
		Loop
    }
}

//===========================================================================
//===========================================================================

actor FMakron 7385
{
	DropItem "AEoDBioForceGunItem" 64
	DropItem "CellBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 3500
    Radius 25
    Height 65
    Scale 0.45
    Speed 6
    PainChance 25
    Mass 4000
    Monster	RipLevelMin 2 
    +FLOORCLIP
    +MISSILEMORE
    +BOSS
    +NORADIUSDMG
    BloodType NoBloodPuff
    +LOOKALLAROUND
    +DONTMORPH
    +NOFEAR
    SeeSound "q2makron2/voice"
    PainSound "q2makron1/pain"
    DeathSound "q2makron2/death"
    ActiveSound "q2makron2/seeking"
    AttackSound "q2weapon/railgunfire"
    Obituary "%o met the stroggos leader."
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
	BS5I A 5 A_Look
        Loop
    See:
        BS5W AABBCCDDEE 3 A_Chase
        Loop
    Missile:
	TNT1 A 0 A_Jump(96,"BFG","DarkMatterGun")
	TNT1 A 0 A_Jump(256,"Railgun","Blaster")
    BFG:
	BS5B ABC 7 A_FaceTarget
	BS5B D 3 A_FaceTarget
	BS5B D 0 A_PlaySound("reilsss/weapons/bfg9kfire",7,1.0,0)
	BS5B D 0 A_CustomMissile("AEoDBFG10KShot2M",45,-7,0)
	BS5B EFG 7
	Goto See
    Railgun:
	BS5R ABCD 6 A_FaceTarget
	BS5R E 0 A_PlaySound("weapons/railgun/pfire")
	TNT1 a 0 A_FaceTarget 
	BS5R E 7 A_CustomRailgun(random(100,150),0,"Red","Green",1,0,0,"BulletDamagePuff")
	BS5R FG 7 A_FaceTarget
	Goto See
    Blaster:
	BS5A AB 7 A_FaceTarget
	BS5A CC 0 A_CustomMissile("MakronBeam",40,10,80+random(4,-4))
	BS5A C 4 A_FaceTarget
	BS5A DD 0 A_CustomMissile("MakronBeam",40,10,77+random(4,-4))
	BS5A D 4 A_FaceTarget
	BS5A EE 0 A_CustomMissile("MakronBeam",40,10,65+random(4,-4))
	BS5A E 4 A_FaceTarget
	BS5A FF 0 A_CustomMissile("MakronBeam",40,10,55+random(4,-4))
	BS5A F 4 A_FaceTarget
	BS5A GG 0 A_CustomMissile("MakronBeam",40,10,45+random(4,-4))
	BS5A G 4 A_FaceTarget
	BS5A HH 0 A_CustomMissile("MakronBeam",40,10,22+random(4,-4))
	BS5A H 4 A_FaceTarget
	BS5A II 0 A_CustomMissile("MakronBeam",40,10,0+random(4,-4))	//
	BS5A I 4 A_FaceTarget
	BS5A JJ 0 A_CustomMissile("MakronBeam",40,10,-22+random(4,-4))
	BS5A J 4 A_FaceTarget
	BS5A KK 0 A_CustomMissile("MakronBeam",40,10,-45+random(4,-4))
	BS5A K 4 A_FaceTarget
	BS5A LL 0 A_CustomMissile("MakronBeam",40,10,-67+random(4,-4))
	BS5A L 4 A_FaceTarget
	BS5A KK 0 A_CustomMissile("MakronBeam",40,10,-45+random(4,-4))
	BS5A K 4 A_FaceTarget
	BS5A JJ 0 A_CustomMissile("MakronBeam",40,10,-22+random(4,-4))
	BS5A J 4 A_FaceTarget
	BS5A II 0 A_CustomMissile("MakronBeam",40,10,0+random(4,-4))	//
	BS5A I 4 A_FaceTarget
	BS5A HH 0 A_CustomMissile("MakronBeam",40,10,22+random(4,-4))
	BS5A H 4 A_FaceTarget
	BS5A GG 0 A_CustomMissile("MakronBeam",40,10,45+random(4,-4))
	BS5A G 4 A_FaceTarget
	BS5A FF 0 A_CustomMissile("MakronBeam",40,10,55+random(4,-4))
	BS5A F 4 A_FaceTarget
	BS5A EE 0 A_CustomMissile("MakronBeam",40,10,65+random(4,-4))
	BS5A E 4 A_FaceTarget
	BS5A DD 0 A_CustomMissile("MakronBeam",40,10,77+random(4,-4))
	BS5A D 4 A_FaceTarget
	BS5A CC 0 A_CustomMissile("MakronBeam",40,10,80+random(4,-4))
	BS5A c 4 A_FaceTarget
	BS5A BA 8 
	Goto See
    DarkMatterGun:
	BS5B ABC 7 A_FaceTarget
	BS5B D 3 A_FaceTarget
	BS5B D 0 A_PlaySound("darkmattergun/fire2",7,1.0,0)
	BS5B D 0 A_CustomMissile("DarkMatterProjectile",40,10,0)
	BS5B EFG 7
	BS5B G 0 A_Jump(96,1)
	Loop
	BS5B G 0
	Goto See
    Pain:
        BS5P A 2
        BS5P A 5 A_Pain
        Goto See
    Death:
	TNT1 A 0 A_CustomMissile("MakronTorso",50,0,0+random(90,-90))
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	BS5D B 25 A_Scream
	BS5D C 20 A_Fall
	BS5D D 6
	TNT1 A 0 A_PlaySound("quake4/Misc/Body/Beefy")
	BS5D EFGH 6
	"####" "#" 0 A_QueueCorpse
	BS5D H -1 A_KillMaster
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 A_KillMaster
	TNT1 A 0 Thing_SetTranslation(0,50)	
	BS5P A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	BS5P AA 2 A_FadeOut(0.03)
	Goto Disintegrate+7
    Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster
		"####" "#" 1 A_FreezeDeathChunks
		Wait
    }
}

actor MakronBeam
{
    Mass 1
    Radius 8
    Height 6
    Speed 32
//    +ROCKETTRAIL
    Damage 12
    SeeSound "q2makron2/blasterattack"
    DeathSound "q2weapon/laserhit"
    PROJECTILE
    RenderStyle Add
	DamageType "Plasma"
    States
    {
    Spawn:
	ENFL A 1 Bright A_SpawnItemEx("Q2BlasterParticle",random(-2,2),random(-2,2),random(0,5),0,0,0,0,0)
	TNT1 AAAAAA 0 A_SpawnItemEx("Q2BlasterParticle",random(-2,2),random(-2,2),random(0,5),0,0,0,0,0)
	Loop
    Death:
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Q2BlasterParticleGravity",0,0,4,random(-3,3),random(-3,3),random(1,3),random(305,410),0)
	TNT1 A 1
        Stop
    }
}
actor Q2BlasterParticle
{
    +NOINTERACTION
    RenderStyle Add
    States
    {
    Spawn:
        WRBL P 2 Bright
	TNT1 A 0 A_Jump(64,"Death")
        Loop
    Death:
        WRBL P 1 Bright A_FadeOut(0.15)
        Wait
    }
}
actor Q2BlasterParticleGravity
{
    Projectile
    Speed 0
    +NOCLIP
    -NOGRAVITY
    Gravity 0.4
    Radius 1
    Height 1
    RenderStyle Translucent
    States
    {
    Spawn:
        WRBL PP 1 Bright 
	TNT1 A 0 A_Jump(70,"1")
        Loop
        WRBL P 1 Bright A_FadeOut(0.1)
        Wait
    Death:
	TNT1 A 1
	Stop
    }
}

actor MakronTorso
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	BounceFactor 0.3
	-NOLIFTDROP
	-SOLID
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	Scale 0.45
	States
	{
	Spawn:
		BS5D AAAAA 5
	Death:
		"####" "#" 0 A_QueueCorpse
		BS5D A -1
		Loop
	}
}

Actor BFGMakronBall : BFGBall
{
    speed 20
}

Actor AEoDBFG10KShot2M
{
    Radius 12
    Height 12
    Speed 10
    Damage 120
    RenderStyle Add
    Alpha 0.8
    PROJECTILE
    Obituary "%o was melted by the Makron's BFG10K shot."
    DeathSound "q2weapon/bfgballexplo"
	DamageType "Plasma"
    States
    {
Spawn:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	Goto "Spawn2"
Spawn2:
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 A 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	TNT1 A 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 A 0 A_CustomMissile("BFGAlpha2M",0,0,0)
	BFS1 B 1 Bright A_CustomMissile("BFG10KTrailA",10+random(10,-10),0+random(10,-10),0+random(22,-22),0)	
	TNT1 AA 0 A_SpawnItemEx("BFG10KTrailB",0,0,10,random(-3,3),random(-3,3),random(-3,3),random(1,360))
	Loop
Death:
	BFE1 A 4 Bright A_Explode(256,64,1)
	TNT1 AAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10KBoltTrail",0,random(7,-7),random(5,-5),random(1,2),random(1,2),random(-2,2),random(1,360),32)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("BFG10Extra2",0,0,10,random(-4,4),random(-4,4),random(-4,4),random(1,360))
	BFE1 BC 4 Bright
	BFE1 D 4 Bright A_BFGSpray
	BFE1 EF 4 Bright
	Stop
    }
}

ACTOR BFGAlpha2M
{
    Radius 6
    Height 8
    Speed 1
    Damage 0
    +RIPPER	RipperLevel 1
    +DOOMBOUNCE
    Scale 1
    PROJECTILE
    RENDERSTYLE ADD
    ALPHA 0.6
    States
    {
    Spawn:
	TNT1 A 0 Bright
	TNT1 A 1 Bright A_SpawnItem("BFGTurn2M",1,0,0)
	Stop
    }
}

ACTOR BFGTurn2M
{ 
    +FRIENDLY
    MONSTER
    Radius 1
    Height 1
    Speed 0
    +NOGRAVITY
    +NOCLIP
    +LOOKALLAROUND
    +MISSILEMORE
    +MISSILEEVENMORE
    -COUNTKILL
    -SOLID
    -SHOOTABLE
    MinMissileChance 0
    RenderStyle None
    ReactionTime 25
    Obituary "%o was melted by the Makron's BFG10K shot."
    States
    {
    Spawn:
	TNT1 A 0 A_CountDown
	PLAY A 1 A_Look
//	loop
    See:
	PLAY A 0 A_Chase
    Missile:
	PLAY A 0 A_FaceTarget
	PLAY A 0 A_CustomRailgun(random(1,6),0,none,"Green",1,10,3,"PlasmaPuffDMG")
	Stop
    }
}

//===========================================================================
//===========================================================================

ACTOR FHover 7386	// cacodemon
{ 
	DropItem "CellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 350
    Speed 8 
    Radius 31
    Height 56
    PainChance 128
    Mass 400
    Meleedamage 6 
    Scale 0.5
    REACTIONTIME 8 
    Monster	RipLevelMin 1
    +NOGRAVITY
    +FLOAT
    BloodType NoBloodPuff
    SeeSound "q2hover/sight"
    PainSound "q2hover/pain"
    DeathSound "q2hover/death"
    ActiveSound "q2hover/search"
    Obituary "%o was blasted by a hover." 
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Drain", 128
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn: 
	HVRW A 0 
	HVRW A 0 A_PlaySound("q2hover/flying",6,0.4,5)
	HVRW ABCDEFGHIJK 7 A_Look 
	Loop 
    See: 
	HVRW ABCDEFGHIJK 7 A_Chase 
	Loop
    Missile: 
	HVRA ABCD 4 A_FaceTarget 
	HVRA EE 4 bright A_CustomMissile("HoverBeam", 24, 0, 0, 1)
	HVRA E 0 A_FaceTarget
	HVRA EE 4 bright A_CustomMissile("HoverBeam", 24, 0, 0, 1)
	HVRA E 0 A_FaceTarget
	HVRA EE 4 bright A_CustomMissile("HoverBeam", 24, 0, 0, 1)
	HVRA E 0 A_FaceTarget
	HVRA EE 4 bright A_CustomMissile("HoverBeam", 24, 0, 0, 1)
	HVRA E 0 A_FaceTarget
	HVRA FGH 4 A_FaceTarget 
	Goto See 
    Pain: 
	HVRP A 4 A_Pain
	Goto See
    Death: 
	HVRD A 0 A_StopSound(6)
	HVRD A 6 A_Scream
	HVRD B 6 A_Fall
	Wait 
    Crash:
	TNT1 A 0 A_JumpIfInventory("DisintegrateToken",1,"DisintegrateCont")
	TNT1 A 0 A_PlaySound("quake4/Misc/Body/Beefy")
	HVRD DEFGHIJ 3
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAAA 0 A_TossGib
	LYEP A 5 A_spawnItemEx("MonExplosionMedium",0,0,0,0,0,0,0,32)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 A_GiveInventory("DisintegrateToken",1)
    DisintegrateCont:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	HVRP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	HVRP AA 2 A_FadeOut(0.03)
	Goto DisintegrateCont+6
    } 
} 

actor HoverBeam
{
    Mass 1
    Radius 8
    Height 6
    Speed 30
    Damage 3
    Scale 0.7
    SeeSound "q2hover/blasterattack"
    DeathSound "q2weapon/laserhit"
    PROJECTILE
    RenderStyle Add
	DamageType "Plasma"
    States
    {
    Spawn:
        ENFL A 1 Bright
        Loop
    Death:
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Q2BlasterParticleGravity",0,0,4,random(-3,3),random(-3,3),random(1,3),random(305,410),0)
        Stop
    }
}



//===========================================================================
//===========================================================================

actor FTank 7387	// baron
{
	DropItem "AEoDRocketLauncherItem" 20
	DropItem "ExploAmmo"
	DropItem "CellAmmo"
	DropItem "BulletAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 1000
    Radius 24
    Height 64
    Scale 0.52
    Speed 10
    PainChance 18
    Mass 9000
    Monster	RipLevelMin 1 
    +BOSSDEATH
    +FLOORCLIP
    +MISSILEEVENMORE
    +BOSS
    +NORADIUSDMG
    BloodType NoBloodPuff
    +DONTMORPH
    SeeSound "q2tank/sight"
    PainSound "q2tank/pain"
    DeathSound "q2tank/death"
    ActiveSound "q2tank/idle"
    AttackSound "weapons/riflefre"
    Obituary "%o encountered a tank commander."
    DamageFactor "Wormwood", 0.5
    PainChance "Charm", 96
    PainChance "Terror", 96
    PainChance "Drain", 64
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
	TK1I A 5 A_Look
        Loop
    See:
	TNT1 A 0 A_PlaySound("q2tank/step")
	TK1W A 7
        TK1W BCD 6 A_Chase
	TNT1 A 0 A_PlaySound("q2tank/step")
	TK1W E 7
        TK1W FGH 6 A_Chase
        Loop
    Missile:
	TNT1 A 0 A_Jump(80,"MiniGun")
	TK1B ABCD 6 A_FaceTarget
	TK1B E 4 Bright A_CustomMissile("TankBlaster", 40, -15, 0, 1)
	TK1B D 4 A_FaceTarget
	TK1B E 4 Bright A_CustomMissile("TankBlaster", 40, -15, 0, 1)
	TK1B D 4 A_FaceTarget
	TK1B E 4 Bright A_CustomMissile("TankBlaster", 40, -15, 0, 1)
	TK1B DCBA 6
	Goto See
     MiniGun:
	TNT1 A 0 A_Jump(96,"Rockets")
	TK1C ABCDE 4 A_FaceTarget
     MgunLoop:
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",20,20,45,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,20,48,0,0,frandom(0.4,0.99),0,32,128)
	TK1C F 4 Bright A_CustomBulletAttack(8,8,1,4,"BulletDamagePuff")
	TNT1 A 0 A_Jump(8,"MgunEnd")
	TNT1 A 0 A_MonsterRefire(0,"MgunEnd")
	Loop
     MgunEnd:
	TK1C EDCBA 4
	Goto See
     Rockets:
	TK1R ABCDE 6 A_FaceTarget
	TK1R F 0 A_PlaySound("q2tank/mechsound1")
	TK1R FGHIJK 6 A_FaceTarget
	TK1R L 8 A_FaceTarget
	TK1R M 6 Bright A_CustomMissile("BitchRocket", 70, 25, 0)
	TK1R N 6 A_FaceTarget
	TK1R O 6 Bright A_CustomMissile("BitchRocket", 70, 20, 0)
	TK1R P 6 A_FaceTarget
	TK1R Q 6 Bright A_CustomMissile("BitchRocket", 70, 15, 0)
	TK1R RSTUVWX 7
	Goto See
    Pain:
        TK1P A 20 A_Pain
        TK1P B 8 
        Goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	TNT1 A 0 A_KillMaster
	TK1P A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	TK1P AA 2 A_FadeOut(0.03)
	Goto Disintegrate+7
    Death:
	TNT1 AAA 0 A_TossGib
	TK1D A 1 A_Scream
	TK1D ABCDEF 6
	TNT1 AAA 0 A_TossGib
	TK1D GHIJKLM 6
	TNT1 AAA 0 A_TossGib
	TK1D NOPQR 6
	TK1D S 6 A_PlaySound("quake4/Misc/Body/Metal")
	TNT1 AAA 0 A_TossGib
	TNT1 A 0 A_KillMaster
	TK1D T -1 A_Fall
	Stop
    Ice:
	TK1P A 5 A_GenericFreezeDeath
	TK1P A 0 A_KillMaster
	TK1P A 1 A_FreezeDeathChunks
	Wait
    XDeath:
		XTRA C 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
		TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
		TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
		TNT1 AAAAAAAAAAAAAAAAAAA 0 A_TossGib
		TNT1 A 0 A_KillMaster
		Stop
    Raise:
	TK1D TSRQPO 6
	Goto See
    }
}
Actor TankBlaster : MakronBeam
{
	DamageType "Plasma"
    SeeSound "q2tank/blasterattack"
}

//===========================================================================
//===========================================================================

actor FGunner 7388	//revenant
{
	DropItem "AEGrenade"
	DropItem "AEGrenade"
	DropItem "BulletAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 350
    Radius 20
    Height 64
    Scale 0.45
    Speed 12
    PainChance 100
    Mass 200
    Monster	RipLevelMin 1
    +FLOORCLIP
    +MISSILEMORE
    SeeSound "q2infantry/sight"
    PainSound "q2gunner/pain"
    DeathSound "q2gunner/death"
    ActiveSound "q2gunner/seeking"
    AttackSound "q2gunner/chaingunattack"
    Obituary "%o was killed by a gunner."
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Defile", 255
    PainChance "Drain", 110
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See
    Spawn:
	GNNI A 5 A_Look
        Loop
    See:
	GNNW AABBCCDDEEFF 2 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(5,"Death")
	Loop
    Missile:
	TNT1 A 0 A_Jump(128,"MGun")
    Grenades:
	GNNA C 12 A_FaceTarget
	GNNA A 0 A_PlaySound("q2weapon/grenadelaunfire")
	GNNA A 4 A_CustomMissile("GunnerGrenade", 50, -20, 0)
	GNNA BC 6 A_FaceTarget
	GNNA A 0 A_PlaySound("q2weapon/grenadelaunfire")
	GNNA A 4 A_CustomMissile("GunnerGrenade", 50, -20, 0)
	GNNA BC 6 A_FaceTarget
	GNNA A 0 A_PlaySound("q2weapon/grenadelaunfire")
	GNNA A 4 A_CustomMissile("GunnerGrenade", 50, -20, 0)
	GNNA BC 6 A_FaceTarget
	Goto See
    MGun:
	GNNA DEFG 5 A_FaceTarget
    MGunLoop:
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",20,10,56,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,10,58,0,0,frandom(0.4,0.99),0,32)
	GNNA H 4 Bright A_CustomBulletAttack(5,5,1,4,"BulletDamagePuff")
	GNNA Z 0 A_FaceTarget
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",20,10,56,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,10,58,0,0,frandom(0.4,0.99),0,32)
	GNNA I 4 Bright A_CustomBulletAttack(5,5,1,3,"BulletDamagePuff")
	GNNA Z 0 A_FaceTarget
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",20,10,56,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,10,58,0,0,frandom(0.4,0.99),0,32)
	GNNA J 4 Bright A_CustomBulletAttack(5,5,1,4,"BulletDamagePuff")
	TNT1 A 0 A_Jump(16,"MGunEnd")
	TNT1 A 0 A_MonsterRefire(0,"MGunEnd")
	Loop
    MGunEnd:
	GNNA KLM 6
	Goto See

    Pain:
        GNNP A 6 A_Pain 
        Goto See
    Death:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,13)
	GNND A 5 A_Scream
	GNND B 4
	TNT1 A 0 A_PlaySound("quake4/Misc/Body/Beefy",6)
	GNND CDEFGH 4
	GNND I 5 A_Fall
	GNND JK 4
	GNND K -1
	Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	GNNP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	GNNP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
	GNND KJIHGFEDCBA 4
	Goto See
    }
}

actor GunnerGrenade
{
    Radius 8
    Height 8
    Speed 20
    Scale 0.65
    Damage 2
    PROJECTILE
    +GRENADETRAIL
    +CANBOUNCEWATER
    -NOGRAVITY
    BounceType "Doom"
    BounceSound "q2weapon/grenadelbounce"
    DeathSound "weapons/rockexplo"
    States
    {
    Spawn:
	TNT1 A 0
        QGRP KJIHGFEDCBA 3 Bright A_SpawnItemEx("QuakeGrenSmokeTrail",random(0,-3),random(2,-2),random(2,-2),0,0,0.8,0,32)
        Goto Spawn+1
    Death:
	  TNT1 A 0 A_SpawnItemEx("MonExplosionMedium",0,0,0,0,0,0,0,32)
        TNT1 A 3 Bright A_Explode(40,64,1)
        Stop
    }
}


//===========================================================================
//===========================================================================

ACTOR FQ2Soldier1 7389		// zombie
{
	DropItem "CellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerMonsterAmmo" 210
	DropItem "PowerupSpawner" 8
    Health 20
    Radius 20
    Height 56
    Speed 9
    PainChance 175
    Scale 0.45
    Monster	RipLevelMin 1 
    +FLOORCLIP
    SeeSound "q2soldier/sight"
    PainSound "q2soldier/pain"
    DeathSound "q2soldier/death"
    ActiveSound "q2soldier/seeking"
    AttackSound "q2soldier/shotgunattack"
    Obituary "%o was Shotgunned by a quake2 soldier."
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 160
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.25
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See

    Spawn:
        Q2SI A 10 A_Look
        Loop
    See:
        Q2SW AABBCCDDEEFFGG 2 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
    Missile:
        Q2SA ABC 4 A_FaceTarget
	TNT1 Z 0 Bright A_CustomMissile("ShotSmoke",35,8,5+Random(30,-30))
        Q2SA D 4 Bright A_CustomMissile("Soldier1Beam",35,8,0)
        Q2SA E 5
        Goto See
    Pain:
        Q2SP A 1
        Q2SP A 3 A_Pain
        Goto See
    Death:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,11)
        Q2SD A 4 A_Scream
        Q2SD BCDEF 3
        Q2SD G 4 A_Fall
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Small")
        Q2SD HI 4
        Q2SD J -1
        Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	Q2SP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	Q2SP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
        Q2SD JIHGFEDCBA 3
        Goto See
    }
}

Actor Soldier1Beam : MakronBeam
{
	DamageType "Plasma"
    Damage 3
    SeeSound "q2hover/blasterattack"
    DeathSound "q2weapon/laserhit"
}


//===========================================================================
//===========================================================================

ACTOR FQ2Soldier2 7390		// shotgun guy
{
	DropItem "ShellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerShotgunner" 210
	DropItem "PowerupSpawner" 8
    Health 40
    Radius 20
    Height 56
    Speed 9
    PainChance 175
    Scale 0.45
    Translation "16:47=152:159", "160:191=153:159", "208:223=154:159", "232:235=155:159", "248:248=159:159"
    Monster	RipLevelMin 1 
    +FLOORCLIP
    SeeSound "q2soldier/sight"
    PainSound "q2soldier/pain"
    DeathSound "q2soldier/death"
    ActiveSound "q2soldier/seeking"
    AttackSound "q2soldier/shotgunattack"
    Obituary "%o was Shotgunned by a quake2 soldier."
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 160
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.25
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See

    Spawn:
        Q2SI A 10 A_Look
        Loop
    See:
        Q2SW AABBCCDDEEFFGG 2 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
    Missile:
        Q2SA ABC 4 A_FaceTarget
	  TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",12,8,35,0,0,0,0,32)
	  TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",12,8,38,0,0,frandom(0.4,0.99),0,32)
        Q2SA D 4 Bright A_CustomBulletAttack(5,5,3,5,"BulletDamagePuff")
        Q2SA E 5 A_PlaySound("q2soldier/shotgunload")
	Q2SA BCE 4
        Goto See
    Pain:
        Q2SP A 1
        Q2SP A 3 A_Pain
        Goto See
    Death:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,6)
        Q2SD A 4 A_Scream
        Q2SD BCDEF 3
        Q2SD G 4 A_Fall
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Small")
        Q2SD HI 4
        Q2SD J -1
        Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,0)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,0)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,0)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	Q2SP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	Q2SP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
        Q2SD JIHGFEDCBA 3
        Goto See
    }
}

//===========================================================================
//===========================================================================

ACTOR FQ2Soldier3 7391		// chaingun guy 
{
	DropItem "BulletAmmo"
	DropItem "AEoDPeaceMakerItem" 64
	DropItem "HealthHeart" 210
	DropItem "PowerSlaveSpawnerMonsterAmmo" 128
	DropItem "PowerupSpawner" 8
    Health 70
    Radius 20
    Height 56
    Speed 9
    Translation "16:47=100:111", "160:191=101:111", "208:223=102:111", "232:235=103:111", "248:248=104:104"  //"248:104"
    PainChance 175
    Scale 0.45
    Monster	RipLevelMin 1 
    +FLOORCLIP
    SeeSound "q2soldier/sight"
    PainSound "q2soldier/pain"
    DeathSound "q2soldier/death"
    ActiveSound "q2soldier/seeking"
    AttackSound "q2soldier/chaingunattack"
    Obituary "%o was Machinegunned by a quake2 soldier."
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 160
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.25
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See

    Spawn:
        Q2SI A 10 A_Look
        Loop
    See:
      Q2SW AABBCCDDEEFFGG 2 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
    Missile:
	Q2SA AB 3 A_FaceTarget
	Q2SA B 1 A_FaceTarget
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",12,8,38,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",12,8,35,0,0,0,0,32)
	Q2SA C 1 Bright A_CustomBulletAttack(4,2,1,2,"BulletDamagePuff")
	Q2SA E 0 A_CPosRefire
	Q2SA C 1 
	Goto Missile+2
    Pain:
        Q2SP A 1
        Q2SP A 3 A_Pain
        Goto See
    Death:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,11)
        Q2SD A 4 A_Scream
        Q2SD BCDEF 3
        Q2SD G 4 A_Fall
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Small")
        Q2SD HI 4
        Q2SD J -1
        Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,0)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,0)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,0)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	Q2SP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	Q2SP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
        Q2SD JIHGFEDCBA 3
        Goto See
    }
}

//===========================================================================
//===========================================================================

ACTOR FParasite 7392	//imp
{
	var int user_counter;
	DropItem "CellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 90
    Radius 20
    Height 40
    Speed 18
    PainChance 128
    Scale 0.48
    Monster	RipLevelMin 1 
    MaxTargetRange 512
    +FLOORCLIP
    +STRIFEDAMAGE
    minmissilechance 64
    SeeSound "q2parasite/sight"
    PainSound "q2parasite/pain"
    DeathSound "q2parasite/death"
    ActiveSound "q2parasite/search"
    Obituary "%o was sucked by a parasite."
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 160
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.25
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See
    Spawn:
        PARA A 10 A_Look
        Loop
    See:
        PARW ABCDEFG 3 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
    Missile:
	PARA AB 5 A_FaceTarget
	TNT1 A 0 A_PlaySound("q2parasite/tongueout")
	TNT1 A 0 A_FaceTarget
	TNT1 A 0 A_SetUserVar("user_counter",0)
    TongueLoop:
	TNT1 A 0 A_JumpIf(user_counter>=12,"TongueEnd")
	TNT1 A 0 A_FaceTarget
	//PARA C 2 A_CustomMissile("ParasiteTongue",32,0,0)
	PARA C 2 A_CustomRailgun(random(1,2),0,none,"maroon",1,5)
	TNT1 A 0 A_SetUserVar("user_counter",user_counter+1)
	Loop
    TongueEnd:
	TNT1 A 0 A_PlaySound("q2parasite/tongueinside")
	PARA EF 5
	Goto See
    Pain:
        PARP A 1
        PARP A 3 A_Pain
        Goto See
    Death:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,9)
        PARD A 4 A_Scream
        PARD BCD 3
        PARD D 3 A_Fall
        PARD E 4
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Small")
	  PARD F 4
        PARD G -1
        Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	PARP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	PARP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
        PARD GFEDCBA 3
        Goto See
    }
}/*
Actor ParasiteTongue 
{
	var int user_x;
	var int user_y;
	var int user_z;
	var int user_life[2];
	var int user_movement[2];
	Speed 2
	Damage (random(1,2))
	Radius 2
	Height 2
	Scale .75
	RenderStyle Add
	Projectile
	+DONTREFLECT
	+EXTREMEDEATH
	+FORCERADIUSDMG
	+NODAMAGETHRUST
	+SEEKERMISSILE
	+SKYEXPLODE
	+EXPLODEONWATER
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 
	Movement:
		LPUF A 0 A_JumpIf(user_life[0]>=25000,"Death")
	//This must be done multiple times, or else it will jump beyond walls. This could
	//easily cause an engine overload.
		LPUF A 0 A_Warp(AAPTR_DEFAULT,velx,vely,velz,0,WARPF_ABSOLUTEOFFSET,1) 
		Goto MoveOut
		LPUF A 0 A_Warp(AAPTR_DEFAULT,velx,vely,velz,0,WARPF_ABSOLUTEOFFSET,1) 
		Goto MoveOut
		LPUF A 0 A_Warp(AAPTR_DEFAULT,velx,vely,velz,0,WARPF_ABSOLUTEOFFSET,1) 
		Goto MoveOut
		LPUF A 0 A_Warp(AAPTR_DEFAULT,velx,vely,velz,0,WARPF_ABSOLUTEOFFSET,1) 
		Goto MoveOut
		LPUF A 0 A_Warp(AAPTR_DEFAULT,velx,vely,velz,0,WARPF_ABSOLUTEOFFSET,1) 
		Goto MoveOut
		LPUF A 0 A_CheckSight(2)
		LPUF A 0 A_JumpIf(user_life[0]>=4000,2)
		LPUF A 0 A_SpawnItemEx("ParasitTongueTrail",0,0,0,0,0,0,0,32|SXF_ABSOLUTEMOMENTUM)
		LPUF A 0 A_SetUserArray("user_life",0,user_life[0]+1)
		Loop
	MoveOut:
	Death:
		TNT1 A 1
		Stop
	}
}
Actor ParasitTongueTrail
{
	+NOINTERACTION
	Translation "0:255=%[0,0,0]:[1,0.48,0.28]"
	//Scale 0.2
	States
	{
	Spawn:
		ENFL A 2
		Stop
	}
}*/

//===========================================================================
//===========================================================================

ACTOR FQ2Medic 7393	// arch-vile
{
	DropItem "CellBigAmmo"
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthBottle" 128
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 90
	DropItem "PowerupSpawner" 8
    Health 1100
    Radius 25
    Height 60
    Speed 16
    Mass 800
    PainChance 50
    Scale 0.48
    Monster	RipLevelMin 1 
    +FLOORCLIP
    +STRIFEDAMAGE
    +DONTMORPH
    SeeSound "q2medic/sight"
    PainSound "q2medic/pain"
    DeathSound "q2medic/death"
    ActiveSound "q2medic/search"
    Obituary "%o was killed by a medic?"
    DamageFactor "Wormwood", 0.5
    PainChance "Charm", 96
    PainChance "Terror", 96
    PainChance "Drain", 64
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
        MEDN A 10 A_Look
        Loop
    See:
        MEDW ABCDEF 3 A_VileChase
        Loop
    Missile:
	MEDA ABCD 5 A_FaceTarget
	MEDA DD 5 A_CustomMissile("MedicBlasterStrong",40,12,0)
	MEDA EFGH 4 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	MEDA I 1 A_CustomMissile("MedicBlasterWeak",40,12,0)
	MEDA I 1 A_FaceTarget
	Goto See
    Heal:
	MEDH A 4 A_PlaySound("q2medic/tongueout")
	MEDH B 12
	MEDH C 8 A_PlaySound("q2medic/heal")
	MEDH D 6
	MEDH E 6 A_PlaySound("q2medic/tongueinside")
	MEDH F 6
    Pain:
        MEDP A 1
        MEDP A 3 A_Pain
        Goto See
    Death:
        MEDD A 4 A_Scream
        MEDD BCD 3
        MEDD D 3 A_Fall
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal",6)
        MEDD EFGHI 4
        MEDD JKLMNOPQR 3
	MEDD S -1 A_KillMaster
        Stop
    Ice:
	MEDP A 5 A_GenericFreezeDeath
	MEDP A 0 A_KillMaster
	MEDP A 1 A_FreezeDeathChunks
	Wait
    XDeath:
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_KillMaster
	Stop
    Raise:
        MEDD SRQPONMLKJIHGFEDCBA 2
        Goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	MEDP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	MEDP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    }
}

actor MedicBlasterStrong : MakronBeam
{
    Mass 1
    Radius 8
    Height 6
    Speed 25
    Damage 15
    SeeSound "q2medic/blasterattack"
    DeathSound "q2weapon/laserhit"
    PROJECTILE
	DamageType "Plasma"
}

Actor MedicBlasterWeak : MedicBlasterStrong
{
    Speed 30
    Scale 0.6
    RenderStyle Add
    +STRIFEDAMAGE
    Damage 7
    -ROCKETTRAIL
    States
    {
    Spawn:
        ENFL A 1 Bright
        Loop
    }
}


//===========================================================================
//===========================================================================

ACTOR FFlyer 7394	// lost soul
{ 
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 190
	DropItem "PowerupSpawner" 8
	Health 100
	Speed 10 
	Radius 16
	Height 32
	PainChance 170
	Mass 150
	Meleedamage 4
	Scale 0.6
	REACTIONTIME 8 
	Monster	RipLevelMin 1
	+NOGRAVITY
	+FLOAT
	BloodType NoBloodPuff
	SeeSound "q2flyer/sight"
	PainSound "q2flyer/pain"
	DeathSound "q2flyer/death"
	ActiveSound "q2flyer/search"
	Obituary "%o was melt by a flyer." 
	PainChance "Charm", 255
	PainChance "Terror", 255
	PainChance "Drain", 160
	PainChance "Chaos", 255
	PainChance "ChaosExpl1", 255
	PainChance "ChaosExpl2", 255
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
	States
	{
	Pain.DarkSyphon:
		TNT1 A 0 A_Jump(64,"Pain")
		TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
		Goto Pain
	Pain.RedSyphon:
		TNT1 A 0 A_Jump(105,"Pain")
		TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
		Goto Pain
	Pain.GreenSyphon:
		TNT1 A 0 A_Jump(179,"Pain")
		TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
		Goto Pain
	Pain.BlueSyphon:
		TNT1 A 0 A_Jump(203,"Pain")
		TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
		Goto Pain
	Pain.Chaos:
		TNT1 A 0
		TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
		TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
		Goto See
	Pain.ChaosExpl1:
		TNT1 A 0
		TNT1 A 0 A_ClearTarget
		TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
		Goto Spawn
	Pain.ChaosExpl2:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
		Goto See
	Pain.Charm:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
		Goto See
	Pain.Terror:
		TNT1 A 0
		TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
		Goto See
	Pain.Drain:
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
		Goto Pain
	Spawn: 
		LYEW A 0
		LYEW A 0 A_PlaySound("q2flyer/doingnothing",6,0.4,1,5)
		LYEW ABCDEFGHIJKLMNOPQR 5 A_Look 
		Loop 
	See: 
		LYEW ABCDEFGHIJKLMNOPQR 5 A_Chase 
		Loop 
	Melee:
		LYEM ABCDEF 3 A_FaceTarget
		LYEM G 0 A_PlaySound("q2flyer/wingattack2")
		LYEM G 4 A_MeleeAttack
		LYEM HIJK 3
		LYEM L 0 A_PlaySound("q2flyer/wingattack2")
		LYEM L 4 A_MeleeAttack
		LYEM MNOPQR 3
		Goto See
	Missile: 
		LYEA ABCD 5 A_FaceTarget
		LYEA E 3 Bright A_CustomMissile("FlyerBlaster",21,-10,0)
		LYEA Z 0 A_FaceTarget
		LYEA F 3 Bright A_CustomMissile("FlyerBlaster",21,10,0)
		LYEA Z 0 A_FaceTarget
		LYEA G 3 Bright A_CustomMissile("FlyerBlaster",21,-10,0)
		LYEA Z 0 A_FaceTarget
		LYEA H 3 Bright A_CustomMissile("FlyerBlaster",21,10,0)
		LYEA Z 0 A_FaceTarget
		LYEA I 3 Bright A_CustomMissile("FlyerBlaster",21,-10,0)
		LYEA Z 0 A_FaceTarget
		LYEA J 3 Bright A_CustomMissile("FlyerBlaster",21,10,0)
		LYEA Z 0 A_FaceTarget
		LYEA K 3 Bright A_CustomMissile("FlyerBlaster",21,-10,0)
		LYEA Z 0 A_FaceTarget
		LYEA L 3 Bright A_CustomMissile("FlyerBlaster",21,10,0)
		LYEA MN 6 A_FaceTarget
		Goto See 
	Pain: 
		LYEP ABC 4
		LYEP D 4 A_Pain 
		Goto See 
	Death: 
		LYEP A 0 A_StopSound(6)
		TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
		TNT1 AAAAAAAA 0 A_TossGib
		TNT1 A 4 A_SpawnItemEx("MonExplosionMedium",0,0,0,0,0,0,0,32)
		Stop
	Death.UnholyDisint:
	Death.PlasmaDisint:
	Disintegrate:
		TNT1 A 0 Thing_SetTranslation(0,50)	
		LYEP A 1 A_FadeOut(0.015)
		TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
		TNT1 a 0 A_Stop	
		TNT1 a 0 A_Fall
		TNT1 A 0 A_SpawnItemEx("DisintegrateShadowSmallMedium",0,0,18,0,0,0,0,32)
		TNT1 A 0 A_SpawnItemEx("DisintegrateSparksSmallMedium",0,0,18,0,0,0,0,32)
		LYEP AA 2 A_FadeOut(0.03)
		Goto Disintegrate+6
	} 
} 

ACTOR Q2FlyingThingsExplo
{
    Speed 0
    +NOBLOCKMAP
    +NOGRAVITY
    +NOCLIP
    +NONSHOOTABLE
    RenderStyle Add
    ExplosionDamage 16
    ExplosionRadius 128
    SeeSound "weapons/rockexplo"
    States
    {
    Spawn:
	BBOM A 2 BRIGHT A_CustomMissile("ExploSmoke",0+Random(0,25),0+Random(5,-5),0+Random(0,370))
	BBOM B 2 BRIGHT A_Explode
	BBOM C 2 BRIGHT
	BBOM D 2 BRIGHT
	BBOM E 2 BRIGHT
	BBOM F 2 BRIGHT
	BBOM G 2 BRIGHT
	BBOM H 2 BRIGHT
	BBOM I 2 BRIGHT
	BBOM J 2 BRIGHT
	BBOM K 2 BRIGHT
	BBOM L 2 BRIGHT
	BBOM M 2 BRIGHT
	BBOM N 2 BRIGHT
	Stop
    }
}

Actor FlyerBlaster : MedicBlasterWeak
{
    Speed 34
    Scale 0.4
    RenderStyle Add
    +STRIFEDAMAGE
    Damage 3
    -ROCKETTRAIL
    SeeSound "q2flyer/blasterattack"
	DamageType "Plasma"
}


//===========================================================================
//===========================================================================
//	Endless credits to Serious Cacodemon for make this guy's shield!
//	Just awesome!!!
//===========================================================================
//===========================================================================
ACTOR FQ2Brains 7395	// hell knight
{
	DropItem "AEoDLasergunItem" 16
	DropItem "CellBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 400
    Radius 20
    Height 56
    Speed 8
    Mass 1000
    PainChance 90
    Scale 0.48
    Monster	RipLevelMin 1 
    +FLOORCLIP
    SeeSound "q2brains/sight"
    PainSound "q2brains/pain"
    DeathSound "q2brains/death"
    ActiveSound "q2brains/seeking"
    MeleeDamage 6
    Obituary "%o was slaughtered by a weird entity."
    MaxTargetRange 512
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Defile", 255
    PainChance "Drain", 110
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See
    Spawn:
        BRNI A 5 A_Look
	BRNI A 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
        Loop
    See:
	BRNW A 0 A_SpawnItem("Q2BrainsShieldup",12,0,0)
        BRNW A 6 A_Chase
	BRNW B 0 A_SpawnItem("Q2BrainsShieldup",12,0,0)
        BRNW B 6 A_Chase
	BRNW C 0 A_SpawnItem("Q2BrainsShieldup",12,0,0)
        BRNW C 6 A_Chase
	BRNW D 0 A_SpawnItem("Q2BrainsShieldup",12,0,0)
        BRNW D 6 A_Chase
	BRNW A 0 A_SpawnItem("Q2BrainsShieldup2",12,0,0)
        BRNW E 7 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(5,"Death")
	Loop
    Melee:
	BRNA A 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA A 5 A_FaceTarget
	BRNA B 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA B 5 A_FaceTarget
	BRNA C 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA C 5 A_FaceTarget
	BRNA D 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA D 5 A_FaceTarget
	BRNA E 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA E 5 A_FaceTarget
	BRNA E 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA F 5 A_MeleeAttack
	BRNA G 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA G 5 A_MeleeAttack
	BRNA H 0 A_SpawnItem("Q2BrainsShieldup4",4,0,0)
	BRNA H 4
	BRNI A 0 A_SpawnItem("Q2BrainsShieldup",4,0,0)
	BRNI A 6
	Goto See
    Missile:
	BRNA A 0 A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA A 5 A_FaceTarget
	BRNA A 0 A_SpawnItem("Q2BrainsShieldup2",2,0,0)
	BRNA A 0 A_PlaySound("ForceCube/Fire")
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 A_SpawnItem("Q2BrainsShieldup2",2,0,0)
	BRNA A 0 A_PlaySound("ForceCube/Fire")
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_FaceTarget
	BRNA A 1 Bright A_SpawnItemEx("BrainRailAttack",38,0,44,0,0,0,0,32,0)
	BRNA A 0 Bright A_SpawnItem("Q2BrainsShieldup3",4,0,0)
	BRNA A 5 A_FaceTarget
	Goto See
    Pain:
	BRNP A 1
	BRNP A 0 A_SpawnItem("Q2BrainsShieldup4",4,0,0)
        BRNP A 1
        BRNP A 3 A_Pain
        Goto See
	Pain.PillarDamage:
	BRNP A 4 A_Pain
	Goto See
    Death:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,6)
        BRND A 4 A_Scream
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal",6)
        BRND BC 4
        BRND D 3 A_Fall
        BRND E -1
        Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
        XTRA C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	BRNP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	BRNP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
        BRND EDCBA 4
        Goto See
    }
}

ACTOR BrainRailAttack
{
    Radius 1
    Height 1
    Speed 0
    Obituary "%o was slaughtered by a weird entity."
    MONSTER
    -COUNTKILL
    +NOGRAVITY
    +MISSILEMORE
    +MISSILEEVENMORE
    MinMissileChance 0
    States
    {
    Spawn:
	TNT1 AAA 1 A_LookEx(2,0,0,0,90)
	Stop
    See:
        TNT1 A 0 A_FaceTarget
        TNT1 A 0 A_CustomRailgun(random(1,2),0,none,red,1,1,1,"PlasmaPuffDMG")
	Stop
    }
}

Actor Q2BrainsShieldup
{
    radius 21
    height 68
    health 99999999
    painchance 255
	painchance "PillarDamage", 0
	damagefactor "PillarDamage", 0.0
    mass 99999999999
    RENDERSTYLE ADD
    +SHOOTABLE
    +NOCLIP
    BloodType NoBloodPuff
    +NOGRAVITY
    +GHOST
    states
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,1)
	loop
	TNT1 A 0
	stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("Q2BrainsShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	goto Spawn
	TNT1 A 0
	stop
	TNT1 A 0
	goto Spawn
    }  
}

Actor Q2BrainsShieldup2 : Q2BrainsShieldup
{
    states
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",8,1)
	loop
	TNT1 A 0
	stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("Q2BrainsShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	goto Spawn
	TNT1 A 0
	stop
	TNT1 A 0
	goto Spawn
    }  
}

Actor Q2BrainsShieldup3 : Q2BrainsShieldup
{
    states
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",6,1)
	loop
	TNT1 A 0
	stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("Q2BrainsShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	goto Spawn
	TNT1 A 0
	stop
	TNT1 A 0
	goto Spawn
    }  
}

Actor Q2BrainsShieldup4 : Q2BrainsShieldup
{
    states
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",5,1)
	loop
	TNT1 A 0
	stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("Q2BrainsShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	goto Spawn
	TNT1 A 0
	stop
	TNT1 A 0
	goto Spawn
    }  
}

Actor HoverShieldup : Q2BrainsShieldup
{
    Radius 32
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",8,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("Q2BrainsShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    }  
}

Actor HoverShieldup2 : Q2BrainsShieldup
{
    Radius 32
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",5,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("Q2BrainsShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    }  
}

Actor GunnerShieldup : Q2BrainsShieldup
{
    Radius 24
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",3,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("GunnerShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    } 
}

Actor GunnerShieldUp2 : Q2BrainsShieldup
{
    Radius 24
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",5,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("GunnerShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    } 
}

Actor GunnerShieldUp3 : Q2BrainsShieldup
{
    Radius 24
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",6,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("GunnerShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    } 
}

Actor GunnerShieldUp4 : Q2BrainsShieldup
{
    Radius 24
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("GunnerShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    } 
}

ACTOR GladiatorShieldUp : Q2BrainsShieldup
{
    Radius 26
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",5,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("GladiatorShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    } 
}

ACTOR GladiatorShieldUp2 : Q2BrainsShieldup
{
    Radius 26
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",6,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("GladiatorShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    } 
}

ACTOR GladiatorShieldUp3 : Q2BrainsShieldup
{
    Radius 26
    Height 64
    States
    {
    Spawn:
	TNT1 A 1
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",9,1)
	Loop
	TNT1 A 0
	Stop
    Pain:
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldChecker",7,6)
	TNT1 A 0 A_JumpIfInventory("Q2BrainsShieldalreadyup",1,6)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldalreadyup",1)
	TNT1 A 1 A_SpawnItem("GladiatorShield",24,0,0)
	TNT1 A 0 A_GiveInventory("Q2BrainsShieldChecker",1)
	TNT1 A 0 A_TakeInventory("Q2BrainsShieldAlreadyup",1)
	Goto Spawn
	TNT1 A 0
	Stop
	TNT1 A 0
	Goto Spawn
    } 
}

Actor Q2BrainsShield
{
    radius 0
    height 0
    +NOCLIP
    RENDERSTYLE ADD
    states
    {
    Spawn:
	BRN5 A 3
	stop
    }
}

ACTOR GunnerShield : Q2BrainsShield
{
    Scale 1.25
}

ACTOR GladiatorShield : Q2BrainsShield
{
    XScale 1.35
    YScale 1.15
}

Actor Q2BrainsShieldChecker : Inventory
{
    inventory.amount 1
    inventory.maxamount 8
}

Actor Q2BrainsShieldalreadyup : Inventory
{
    inventory.amount 1
    inventory.maxamount 1
}


//===========================================================================
//===========================================================================

ACTOR FGladiator 7396		// mancubus
{
	DropItem "AEoDRailGunItem" 20
	DropItem "ShellAmmo"
	DropItem "CellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 700
    Radius 25
    Height 60
    Mass 800
    Speed 13
    PainChance 90
    Scale 0.42
    Monster	RipLevelMin 1 
    +FLOORCLIP
    SeeSound "q2gladiator/sight"
    PainSound "q2gladiator/pain"
    DeathSound "q2gladiator/death1"
    ActiveSound "q2gladiator/idle"
    MeleeDamage 8
    MeleeRange 60
    Obituary "%o was killed by a gladiator."
    +BOSS
    +BOSSDEATH
    +DONTMORPH
    +NODAMAGETHRUST
    DamageFactor "Wormwood", 0.5
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 96
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	GLAA D 0 A_StopSound(6)
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	GLAA D 0 A_StopSound(6)
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	GLAA D 0 A_StopSound(6)
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	GLAA D 0 A_StopSound(6)
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0 A_StopSound(6)
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0 A_StopSound(6)
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0 A_StopSound(6)
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0 A_StopSound(6)
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0 A_StopSound(6)
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0 A_StopSound(6)
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
        GLAI A 10 A_Look
        Loop
    See:
        GLAW ABCDEF 4 A_Chase
	Loop
    Missile:
	TNT1 A 0 A_PlaySound("q2weapon/railgunreload")
	GLAA F 17 A_FaceTarget
	GLAA F 5 A_FaceTarget
	TNT1 A 0 A_PlaySound("q2weapon/railgunfire")
	GLAA G 8 A_CustomRailgun(random(75,150),10,"Blue","FF FF FF",0,0,5,"BulletDamagePuff")
	Goto See
    Melee:
	  GLAA A 5 A_FaceTarget
	  GLAA BC 4 A_FaceTarget
	  GLAA D 3 A_CustomMeleeAttack(random(15,40),"quake4/Berserker/MeleeHit","quake4/Berserker/MeleeSwing","Normal",1)
	  GLAA EF 3 A_FaceTarget
	  Goto See
    Pain:
	GLAA D 0 A_StopSound(6)
	GLAP A 1
	GLAP A 3 A_Pain
	Goto See
    Death:
	GLAA D 0 A_StopSound(6)
        GLAD A 4 A_Scream
        GLAD BC 4
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal")
        GLAD D 3 A_Fall	
	GLAD EFGHIJK 3
        GLAD L -1 A_KillMaster
        Stop
    Ice:
	GLAA D 0 A_StopSound(6)
	GLAP A 5 A_GenericFreezeDeath
	GLAP A 0 A_KillMaster
	GLAP A 1 A_FreezeDeathChunks
	Wait
    XDeath:
	GLAA D 0 A_StopSound(6)
        XTRA C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_Fall
	TNT1 AAAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_KillMaster
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	GLAA D 0 A_StopSound(6)
	TNT1 A 0 Thing_SetTranslation(0,50)	
	TNT1 A 0 A_KillMaster
	GLAP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	GLAP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+8
    Raise:
        GLAD LKJIHGFEDCBA 3
        Goto See
    }
}


//===========================================================================
//===========================================================================


//===========================================================================
//===========================================================================

Actor FInfantry 7397	// chaingun guy
{
	var int user_counter;
	DropItem "BulletAmmo"
	DropItem "HealthHeart" 210
	DropItem "AEoDPeaceMakerItem" 64
	DropItem "PowerSlaveSpawnerMonsterAmmo" 128
	DropItem "PowerupSpawner" 8
    Health 100
    Radius 20
    Height 56
    Mass 150
    Speed 16
    Monster	RipLevelMin 1
    +FLOORCLIP
    PainChance 32
    Obituary "%o was killed by an infantry."
    SeeSound "q2infantry/sight" 
    PainSound "q2infantry/pain" 
    DeathSound "q2infantry/death" 
    ActiveSound "q2infantry/seeking" 
    MeleeDamage 3
    Scale 0.53
    PainChance "Charm", 255
    PainChance "Terror", 255
    PainChance "Defile", 255
    PainChance "Drain", 160
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Armor
	DamageFactor "Electric", 1.25
	DamageFactor "Plasma", 0.75
	DamageFactor "PlasmaDisint", 0.75
	DamageFactor "AEBullet", 0.5
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See
    Spawn:
        INFI A 10 A_Look
        Loop
    See:
        INFW ABCEFH 3 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(15,"Death")
	Loop
    Melee:
	INFM ABCD 3 A_FaceTarget
	INFM E 3 A_PlaySound("q2infantry/slapswing")
	INFM F 3 A_MeleeAttack
	INFM GH 3 A_FaceTarget
	Goto See
    Missile:
	INFA ABC 4 A_FaceTarget
	INFA D 4 A_PlaySound("q2infantry/chaingunreload")
	INFA E 4 A_FaceTarget
	TNT1 A 0 A_SetUserVar("user_counter",0)
    MisLoop:
	TNT1 A 0 A_JumpIf(user_counter>=12,"MisEnd")
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",20,5,40,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,5,42,0,0,frandom(0.2,0.5),0,32,128)
	INFA Z 0 A_PlaySound("q2infantry/chaingunattack")
	INFA F 4 Bright A_CustomBulletAttack(9,9,1,3,"BulletDamagePuff")
	TNT1 A 0 A_SetUserVar("user_counter",user_counter+1)
	Loop
    MisEnd:
	INFA GHI 4 A_FaceTarget
	Goto See
    Pain:
        INFP A 4
        INFP A 4 A_Pain
        Goto See
    Death:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,21)
        INFD A 3 A_Scream
        INFD BCDEFGH 3
        INFD I 6 
        INFD JKLMNOPQ 3
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Small")
	  INFD R 3
        INFD S 3 A_Fall
        INFD T -1
        Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	INFP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	INFP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
	INFD TSRQPONMLKJIHGFEDCBA 3
	Goto See
    }
}



//================================================================
//================================================================

//================================================================
//================================================================

ACTOR FQ2Mutant 7398	// demon
{
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 128
	DropItem "PowerupSpawner" 8
    Health 200
    Radius 20
    Height 56
    Mass 400 
    Speed 15
    MeleeDamage 5
    Damage 5
    PainChance 160
    Scale 0.6
    Monster	RipLevelMin 1 
    SeeSound "q2mutant/sight"
    PainSound "q2mutant/pain"
    DeathSound "q2mutant/death"
    ActiveSound "q2mutant/seeking"
    MeleeSound "q2mutant/meleehit"
    AttackSound ""
    //+BOSS
    +FLOORCLIP
    Obituary "%o was disemboweled by a mutant."
    //DropItem HealthHeart
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Defile", 255
    PainChance "Drain", 110
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
//Flesh
	DamageFactor "Electric", 1.25
	DamageFactor "AEPoison", 1.25
	DamageFactor "AEBullet", 1.5
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Pain.Defile:
	TNT1 A 0
	TNT1 A 0 A_GiveInventory("DefileCheck",1)
	Goto See
    Spawn:
	Q2MI A 5 A_Look
	Loop
    See:
	Q2MW ABCCDEF 3 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(5,"Death")
	Loop
    SeeNoMissile: 	//to avoid it jumping again immediately after the jump
      TNT1 A 0 A_TakeInventory("JumpCheck",1)
	Q2MW ABCCDEF 3 A_Chase("Melee","")
	Goto See
    Melee:
	Q2MA ABCD 3 A_FaceTarget
	Q2MA Z 0 A_PlaySound("q2mutant/meleeswing")
	Q2MA E 4 A_MeleeAttack
	Q2MA FG 3 A_FaceTarget
	Q2MA Z 0 A_PlaySound("q2mutant/meleeswing")
	Q2MA H 3 A_MeleeAttack
	Q2MA I 3 A_FaceTarget
	Goto See
    Missile:
    	TNT1 A 0 A_JumpIfInventory("JumpCheck",1,"SeeNoMissile")
	TNT1 A 0 A_GiveInventory("JumpCheck",1)
	Q2MW A 0 A_PlaySound("q2mutant/sight")
	Q2MW AB 3 A_Facetarget
	TNT1 A 0 A_SkullAttack
	Q2MW C 1 ThrustThingZ(0,25,0,0)
	Q2MW C 1 A_CheckFloor(1) 
	Wait
	Q2MW D 3 
	TNT1 A 0 A_Stop
	Q2MW EF 3 
	Goto SeeNoMissile
	
    Pain:
	Q2MP A 5
	Q2MP A 5 A_Pain
	Goto See
    Death:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,10)
	Q2MD A 4
	Q2MD B 4 A_Scream
	TNT1 A 0 A_PlaySound("quake4/Misc/Body/Small",6)
	Q2MD C 4 A_NoBlocking
	Q2MD DEFGH 4
	Q2MD I -1
	Stop
	TNT1 A 0 A_Die
	TNT1 A 0 A_NoBlocking
	TNT1 A 0 A_SpawnItemEx("RedMiteSpawner",0,0,0,0,0,0,0,32,0)
	Goto XDeath+2
    XDeath:
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,"Death")
	XTRA C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	TNT1 A 0 Thing_SetTranslation(0,50)	
	Q2MP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMedium",0,0,30,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMedium",0,0,30,0,0,0,0,32)
	Q2MP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Raise:
	Q2MD IHGFEDCBA 4
	Goto See
    }
}

//===========================================================================
//===========================================================================

ACTOR FCarrier 7399		// spider mastermind
{
	DropItem "AEoDRocketLauncherItem"
	DropItem "CellBigAmmo"
	DropItem "CellBigAmmo"
	DropItem "RocketBigAmmo"
	DropItem "RocketBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 5000
    Radius 90
    Height 100
    Scale 0.65
    Speed 4
    PainChance 15
    Mass 9000
    Monster	RipLevelMin 1 
    +BOSSDEATH
    +BOSS
    +NOGRAVITY
    +FLOAT
    +NORADIUSDMG
    BloodType NoBloodPuff
    +NOICEDEATH
    //+NOTARGET
    +NOTARGETSWITCH
    +DONTMORPH
    +NOFEAR
    SeeSound "q2flyingboss/sight"
    DeathSound "q2flyingboss/death"
    PainSound "q2flyingboss/pain"
    AttackSound "reilsss/weapons/vulcancannonfire"
    Obituary "%o was demolished by a carrier."
    DamageFactor "Wormwood", 0.2
    PainChance "Drain", 40
    PainChance "Chaos", 255
    DamageFactor "ChaosExpl1", 0
    DamageFactor "ChaosExpl2", 0
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"See")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto See
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"See")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto See
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"See")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto See
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"See")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto See
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto See
    Spawn:
	CARR A 4 A_Look
	Loop
    See:
	CARR AAA 1 A_Chase
	Loop
    Missile:
	CARR A 0 A_Jump(180,8,26)
	CARR A 8 A_FaceTarget
	CARR A 0 A_FaceTarget
	/*CARR A 0 A_CustomMissile("ShotSmoke",110,40,5+random(30,-30))
	CARR A 0 A_CustomMissile("ShotSmoke",110,-40,5+Random(30,-30))*/
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",40,40,110,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",40,40,108,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",40,-40,110,0,0,frandom(0.4,0.99),0,32,128)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",40,-40,108,0,0,0,0,32)
	CARR B 2 Bright A_CustomBulletAttack(9,9,2,4,"BulletDamagePuff")
	CARR A 0 A_CPosRefire
	CARR A 0
	Goto Missile+2
	CARR C 0 A_Jump(40,"Missile")
	CARR CDEF 3 A_FaceTarget
	CARR G 8 A_FaceTarget
	CARR G 0 A_FaceTarget
	CARR H 4 Bright A_CustomMissile("SuperRocket",135,36,0)
	CARR IJKL 2 A_FaceTarget
	CARR L 10 A_FaceTarget
	CARR FEDC 3
	CARR A 5
	Goto See
	CARR MNOPQ 3 A_FaceTarget
	CARR R 8
	CARR R 0 A_Jump(200,3,5)
	CARR R 0 A_PainAttack("FShieldHover")
	CARR R 0 A_Jump(256,4)
	CARR R 0 A_PainAttack("FFlyer")
	CARR R 0 A_Jump(256,2)
	CARR R 0 A_PainAttack("FHover")
	CARR R 5 A_Jump(128,6)
	CARR R 15
	CARR R 0 A_Jump(200,3,5)
	CARR R 0 A_PainAttack("FShieldHover")
	CARR R 0 A_Jump(256,4)
	CARR R 0 A_PainAttack("FFlyer")
	CARR R 0 A_Jump(256,2)
	CARR R 0 A_PainAttack("FHover")
	CARR QPONM 3
	CARR A 5
	Goto See
    Death:
        CARR A 0 A_StopSound
	CARR A 0 A_NoBlocking
	CARR A 6 A_LowGravity
        CARR A 6 A_Scream
        CARR A 5 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
        CARR A 5
        CARR A 4 
        CARR A 5 A_SpawnItemEx("BossDeathExplosion",random(0,35),0,random(0,70),0,0,0,random(0,359),32)
        CARR A 5 
        Goto Death+7
    Crash:
	"####" "#" 0 A_JumpIfInventory("DisintegrateToken",1,"DisintegrateCont")
	TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal")
	CARR A 6 A_SetFloorClip
	TNT1 A 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
	CARR A 6
	TNT1 A 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
	CARR A 6
	TNT1 AA 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
	CARR A 20
        TNT1 A 0 A_PlaySound("other/gibdeath")
	TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAAAAAAAAAAAAAAAA 0 A_TossGib
	TNT1 A 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
	TNT1 A 0 A_CustomMissile("BossDeathExplosion",0+Random(5,80),0+Random(35,-35),0+Random(0,370))
	TNT1 A 1 A_KillMaster
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	"####" "#" 0 A_GiveInventory("DisintegrateToken",1)
    DisintegrateCont:
	"####" "#" 0 Thing_SetTranslation(0,50)	
	"####" "#" 1 A_KillMaster
	"####" "#" 1 A_FadeOut(0.015)
	"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
	"####" "#" 0 A_Stop	
	"####" "#" 0 A_Fall
	"####" "#" 0 A_SpawnItemEx("DisintegrateShadowBig",0,0,45,0,0,0,0,32)
	"####" "#" 0 A_SpawnItemEx("DisintegrateSparksBig",0,0,45,0,0,0,0,32)
	"####" "##" 2 A_FadeOut(0.03)
	Goto DisintegrateCont+7
    }
}

//===========================================================================
//===========================================================================

ACTOR FShieldHover : FHover 7400	// painelement
{
	DropItem "CellBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 650
    Translation "230:230=112:112","215:223=113:121","186:190=122:124","232:235=123:126",
		"167:167=121:121","33:47=122:127"
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 128
    PainChance "Defile", 0
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Spawn: 
	HVRW A 0
	HVRW A 0 A_PlaySound("q2hover/flying",6,0.4,5)
	HVRW A 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW A 7 A_Look
	HVRW B 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW B 7 A_Look 
	HVRW C 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW C 7 A_Look
	HVRW C 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW D 7 A_Look 
	HVRW D 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW E 7 A_Look
	HVRW E 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW F 7 A_Look 
	HVRW F 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW G 7 A_Look
	HVRW G 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW H 7 A_Look 
	HVRW H 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW I 7 A_Look
	HVRW I 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW J 7 A_Look 
	HVRW J 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW K 7 A_Look 
	Loop 
    See: 
	HVRW A 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW A 7 A_Chase
	HVRW B 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW B 7 A_Chase 
	HVRW C 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW C 7 A_Chase
	HVRW C 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW D 7 A_Chase
	HVRW D 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW E 7 A_Chase
	HVRW E 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW F 7 A_Chase 
	HVRW F 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW G 7 A_Chase
	HVRW G 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW H 7 A_Chase 
	HVRW H 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW I 7 A_Chase
	HVRW I 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW J 7 A_Chase 
	HVRW J 0 A_SpawnItemEx("HoverShieldup",12,0,0,0,0,0,0,32,0)
	HVRW K 7 A_Chase 
	Loop
    Missile:
	HVRA A 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA A 4 A_FaceTarget
	HVRA B 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA B 4 A_FaceTarget
	HVRA C 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA C 4 A_FaceTarget
	HVRA D 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA D 4 A_FaceTarget
	HVRA E 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA E 4 bright A_CustomMissile("HoverBeam2", 24, 0, 0, 1)
	HVRA E 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA E 4 bright A_CustomMissile("HoverBeam2", 24, 0, 0, 1)
	HVRA E 0 A_FaceTarget
	HVRA E 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA E 4 bright A_CustomMissile("HoverBeam2", 24, 0, 0, 1)
	HVRA E 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA E 4 bright A_CustomMissile("HoverBeam2", 24, 0, 0, 1)
	HVRA E 0 A_FaceTarget
	HVRA E 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA E 4 bright A_CustomMissile("HoverBeam2", 24, 0, 0, 1)
	HVRA E 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA E 4 bright A_CustomMissile("HoverBeam2", 24, 0, 0, 1)
	HVRA E 0 A_FaceTarget
	HVRA E 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA E 4 bright A_CustomMissile("HoverBeam2", 24, 0, 0, 1)
	HVRA E 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA E 4 bright A_CustomMissile("HoverBeam2", 24, 0, 0, 1)
	HVRA E 0 A_FaceTarget
	HVRA F 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA F 4 A_FaceTarget 
	HVRA G 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA G 4 A_FaceTarget 
	HVRA H 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRA H 4 A_FaceTarget 
	Goto See
    Pain:
	HVRP A 1
	HVRA H 0 A_SpawnItemEx("HoverShieldup2",12,0,0,0,0,0,0,32,0)
	HVRP A 3 A_Pain 
	Goto See
	Pain.PillarDamage:
	HVRA A 4 A_Pain
	Goto See
    }
}

ACTOR HoverBeam2 : HoverBeam
{
	DamageType "Plasma"
    Damage 5
    RenderStyle Add
    +THRUGHOST
    Translation "45:45=123:123","41:42=121:122","235:235=120:120","233:233=119:119",
		"223:223=118:118","220:220=117:117","218:218=116:116","63:63=115:115"
    States
    {
    Death:
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("HoverBeam2Particle",0,0,4,random(-3,3),random(-3,3),random(1,3),random(305,410),0)
        Stop
    }
}

ACTOR HoverBeam2Particle : Q2BlasterParticleGravity
{
    RenderStyle Add
    Translation "217:217=113:113"
}

//===========================================================================
//===========================================================================

ACTOR FShieldGunner : FGunner 7401	// revenant
{
	DropItem "AEoDFragLauncherItem" 20
	DropItem "ExploAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 210
    +MISSILEMORE
    Translation "1:1=5:5","15:15=109:109","74:79=105:110","128:141=89:102","226:226=4:4"
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Spawn:
	GNNI A 0 A_SpawnItemEx("Q2BrainsShieldup4",4,0,0,0,0,0,0,32,0)
	GNNI A 5 A_Look
        Loop
    See:
	GNNW A 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW A 2 A_Chase
	GNNW A 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW A 2 A_Chase
	GNNW B 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW B 2 A_Chase
	GNNW B 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW B 2 A_Chase
	GNNW C 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW C 2 A_Chase
	GNNW C 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW C 2 A_Chase
	GNNW D 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW D 2 A_Chase
	GNNW D 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW D 2 A_Chase
	GNNW E 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW E 2 A_Chase
	GNNW E 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW E 2 A_Chase
	GNNW F 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW F 2 A_Chase
	GNNW F 0 A_SpawnItemEx("GunnerShieldup",14,0,0,0,0,0,0,32,0)
	GNNW F 2 A_Chase
	TNT1 A 0 A_JumpIfInventory("DefileCheck",1,2)
	TNT1 A 0
	Loop
	TNT1 A 0 A_Jump(5,"Death")
	Loop
    Missile:
	TNT1 A 0
	TNT1 A 0 A_Jump(128,"Mgun")
	GNNA C 0 A_SpawnItemEx("GunnerShieldup2",4,0,0,0,0,0,0,32,0)
	GNNA C 4 A_FaceTarget
	GNNA C 0 A_SpawnItemEx("GunnerShieldup2",4,0,0,0,0,0,0,32,0)
	GNNA C 4 A_FaceTarget
	GNNA C 0 A_SpawnItemEx("GunnerShieldup2",4,0,0,0,0,0,0,32,0)
	GNNA C 4 A_FaceTarget
	GNNA A 0 A_PlaySound("GLFIRE")
	GNNA A 0 A_SpawnItemEx("GunnerShieldup2",4,0,0,0,0,0,0,32,0)
	GNNA A 4 A_CustomMissile("FragmentationGrenadeMon", 50, -20, 0)
	GNNA B 0 A_SpawnItemEx("GunnerShieldup4",4,0,0,0,0,0,0,32,0)
	GNNA BC 3 A_FaceTarget
	GNNA A 0 A_PlaySound("GLFIRE")
	GNNA A 0 A_SpawnItemEx("GunnerShieldup2",4,0,0,0,0,0,0,32,0)
	GNNA A 4 A_CustomMissile("FragmentationGrenadeMon", 50, -20, 0)
	GNNA A 0 A_SpawnItemEx("GunnerShieldup4",4,0,0,0,0,0,0,32,0)
	GNNA BC 3 A_FaceTarget
	Goto See
     Mgun:
	GNNA D 0 A_SpawnItemEx("GunnerShieldup3",4,0,0,0,0,0,0,32,0)
	GNNA D 5 A_FaceTarget
	GNNA E 0 A_SpawnItemEx("GunnerShieldup3",4,0,0,0,0,0,0,32,0)
	GNNA E 5 A_FaceTarget
	GNNA F 0 A_SpawnItemEx("GunnerShieldup3",4,0,0,0,0,0,0,32,0)
	GNNA F 5 A_FaceTarget
	GNNA G 0 A_SpawnItemEx("GunnerShieldup3",4,0,0,0,0,0,0,32,0)
	GNNA G 5 A_FaceTarget
     MgunLoop:
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",20,10,56,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,10,58,0,0,frandom(0.4,0.99),0,32)
	GNNA H 0 Bright A_PlaySound("weapons/nailshot")
	GNNA H 0 Bright A_CustomMissile("GunnerNail",52,5,random(-2,2))
	GNNA H 0 A_SpawnItemEx("GunnerShieldup",4,0,0,0,0,0,0,32,0)
	GNNA H 2 A_FaceTarget
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",20,10,56,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,10,58,0,0,frandom(0.4,0.99),0,32)
	GNNA I 0 Bright A_PlaySound("weapons/nailshot")
	GNNA I 0 Bright A_CustomMissile("GunnerNail",52,5,random(-2,2))
	GNNA I 0 A_SpawnItemEx("GunnerShieldup",4,0,0,0,0,0,0,32,0)
	GNNA I 2 A_FaceTarget
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlashSmall",20,10,56,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,10,58,0,0,frandom(0.4,0.99),0,32)
	GNNA J 0 Bright A_PlaySound("weapons/nailshot")
	GNNA J 0 Bright A_CustomMissile("GunnerNail",52,5,random(-2,2))
	GNNA J 0 A_SpawnItemEx("GunnerShieldup",4,0,0,0,0,0,0,32,0)
	GNNA J 2 A_FaceTarget
	TNT1 A 0 A_Jump(24,"MgunEnd")
	TNT1 A 0 A_MonsterRefire(0,"MgunEnd")
	Loop
     MgunEnd:
	GNNA J 0 A_SpawnItemEx("GunnerShieldup",4,0,0,0,0,0,0,32,0)
	GNNA J 2 A_FaceTarget
	GNNA K 0 A_SpawnItemEx("GunnerShieldup4",4,0,0,0,0,0,0,32,0)
	GNNA K 6
	GNNA H 0 A_SpawnItemEx("GunnerShieldup4",4,0,0,0,0,0,0,32,0)
	GNNA L 6
	GNNA H 0 A_SpawnItemEx("GunnerShieldup4",4,0,0,0,0,0,0,32,0)
	GNNA M 6
	Goto See
    Pain:
	GNNP A 1
	GNNP A 0 A_SpawnItemEx("GunnerShieldup4",4,0,0,0,0,0,0,32,0)
        GNNP A 5 A_Pain
        Goto See
	Pain.PillarDamage:
	GNNP A 6 A_Pain
	Goto See
    }
}

ACTOR GunnerNail : Nail
{
    Damage (1)
    +THRUGHOST
}

ACTOR GunnerGrenade2 : GunnerGrenade
{
    Damage 4
    Speed 26
    Scale 0.7
    +THRUGHOST
    ExplosionDamage 48
    ExplosionRadius 72
    Translation "176:176=160:160","179:179=162:162","182:182=164:164","185:185=166:166"
    States
    {
    Spawn:
	TNT1 A 0 A_PlaySound("null")
	QGRP A 0 ThrustThingZ(0,random(10,15),0,1)
        QGRP KJIHGFEDCBA 3 Bright A_Gravity
        Goto Spawn+2
    }
}


ACTOR FragmentationGrenadeMon
{
PROJECTILE
+CANBOUNCEWATER
-NOGRAVITY
+FORCERADIUSDMG
+EXTREMEDEATH
+ROCKETTRAIL
+THRUGHOST
Radius 4
Height 9
Health 40
Damage 10
Speed 27
Mass 0
Gravity 0.7
BounceFactor 0.6
ReactionTime 135
BounceType "Doom"
SeeSound "GBOUNCE"
Obituary "Was killed by a Frag Grenade."
Scale 0.1
States
{
Spawn:
	R090 ABCDEFGH 3 Bright
	Loop
Death:
	TNT1 A 0 A_PlaySound("GEXPLOD",6,1.0,0)
	TNT1 A 0 Radius_Quake(3,15,0,10,0)
	TNT1 A 0 A_Explode(40,150,1)
	EXP3 AAA 0 A_CustomMissile("HandGrenadeBitWeak", 8, 0, random(0,359))
	EXP3 AAA 0 A_CustomMissile("HandGrenadeBitWeak2", 8, 0, random(0,359))
	EXP3 AAA 0 A_CustomMissile("HandGrenadeBitWeak3", 8, 0, random(0,359))
	TNT1 A 15 A_SpawnItemEx("MonExplosionMedium",0,0,0,0,0,0,0)
	Stop
}
}

//===========================================================================
//===========================================================================

ACTOR FShieldGladiator : FGladiator 7402		// baron
{
	DropItem "AEoDPhalanxItem" 32
	DropItem "CellBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 800
    MeleeDamage 8
    DamageFactor "Phalanx", 0.0
    DamageFactor "Wormwood", 0.5
    +MISSILEMORE
    Translation "1:1=6:6","13:15=106:108","70:79=100:109","128:143=91:106","23:23=86:86",
		"30:30=93:93","215:215=82:82","226:226=80:80","238:239=109:110","31:47=136:151",
		"187:189=13:15","220:222=66:68","232:235=70:73"
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Spawn:
	GLAI A 0 A_SpawnItemEx("GladiatorShieldUp2",4,0,0,0,0,0,0,32,0)
        GLAI A 5 A_Look
	GLAI A 0 A_SpawnItemEx("GladiatorShieldUp2",4,0,0,0,0,0,0,32,0)
	GLAI A 5 A_Look
        Loop
    See:
	GLAA D 0 A_StopSound(6)
	GLAW A 0 A_SpawnItemEx("GladiatorShieldUp",17,0,0,0,0,0,0,32,0)
        GLAW A 4 A_Chase
	GLAW B 0 A_SpawnItemEx("GladiatorShieldUp",17,0,0,0,0,0,0,32,0)
	GLAW B 4 A_Chase
	GLAW C 0 A_SpawnItemEx("GladiatorShieldUp",17,0,0,0,0,0,0,32,0)
	GLAW C 4 A_Chase
	GLAW D 0 A_SpawnItemEx("GladiatorShieldUp",17,0,0,0,0,0,0,32,0)
	GLAW D 4 A_Chase
	GLAW E 0 A_SpawnItemEx("GladiatorShieldUp",17,0,0,0,0,0,0,32,0)
	GLAW E 4 A_Chase
	GLAW F 0 A_SpawnItemEx("GladiatorShieldUp",17,0,0,0,0,0,0,32,0)
	GLAW F 4 A_Chase
	Loop
    Missile:
	GLAA F 0 A_SpawnItemEx("GladiatorShieldUp3",4,0,0,0,0,0,0,32,0)
	GLAA F 8 A_FaceTarget
	TNT1 A 0 A_PlaySound("q2gladiator/phalanx")
	GLAA F 0 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
	GLAA F 4 A_CustomMissile("GladiatorPhalanx",45,22,0)
	GLAA F 0 A_FaceTarget
	GLAA F 0 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
	GLAA G 4 A_CustomMissile("GladiatorPhalanx",45,22,0)
	GLAA G 8 A_SpawnItemEx("GladiatorShieldUp3",4,0,0,0,0,0,0,32,0)
	GLAA G 4 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
	Goto See
    Melee:
	GLAA A 0 A_PlaySound("weapons/stroggarmsaw/up")
	GLAA A 0 A_SpawnItemEx("GladiatorShieldUp2",4,0,0,0,0,0,0,32,0)
	GLAA A 5 A_FaceTarget
	GLAA A 0 A_SpawnItemEx("GladiatorShieldUp2",4,0,0,0,0,0,0,32,0)
	GLAA B 5 A_FaceTarget
	GLAA C 0 A_PlaySound("weapons/stroggarmsaw/running",6,0.8,1)
	GLAA F 0 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
	GLAA CC 2 A_MeleeAttack
	GLAA F 0 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
	GLAA CD 2 A_MeleeAttack
     DistanceCheck:
	GLAA D 0 A_JumpIfCloser(80,"ContinueMelee")
	GLAA D 0 A_Jump(256,"MeleeEnd")
     ContinueMelee:
	GLAA D 0 A_PlaySound("weapons/stroggarmsaw/running",6,0.8,1)
	GLAA F 0 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
	GLAA DD 2 A_MeleeAttack
	GLAA F 0 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
	GLAA DD 2 A_MeleeAttack
	TNT1 A 0 A_MonsterRefire(40,"MeleeEnd")
	Goto DistanceCheck
     MeleeEnd:
	GLAA D 0 A_StopSound(6)
	GLAA E 0 A_PlaySound("weapons/stroggarmsaw/down")
	GLAA F 0 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
	GLAA EF 4 A_FaceTarget
	Goto See
    Pain:
	GLAA D 1 A_StopSound(6)
        GLAP A 0 A_SpawnItemEx("GladiatorShieldUp",4,0,0,0,0,0,0,32,0)
        GLAP A 4 A_Pain
        Goto See
    Pain.PillarDamage:
	GLAA D 0 A_StopSound(6)
	GLAP A 4 A_Pain
	Goto See
    Death:
	GLAA D 0 A_StopSound(6)
        GLAD A 4 A_Scream
        GLAD BC 4
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal",6)
        GLAD D 3 A_Fall	
	GLAD EFGHIJK 3
        GLAD L -1 A_KillMaster
        Stop
    Ice:
	GLAA D 0 A_StopSound(6)
	GLAP A 5 A_GenericFreezeDeath
	GLAP A 0 A_KillMaster
	GLAP A 1 A_FreezeDeathChunks
	Wait
    XDeath:
	GLAA D 0 A_StopSound(6)
        XTRA C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_Fall
	TNT1 AAAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_KillMaster
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	GLAA D 0 A_StopSound(6)
	TNT1 A 0 Thing_SetTranslation(0,50)	
	TNT1 A 0 A_KillMaster
	GLAP A 1 A_FadeOut(0.015)
	TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
	TNT1 a 0 A_Stop	
	TNT1 a 0 A_Fall
	TNT1 A 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	GLAP AA 2 A_FadeOut(0.03)
	Goto Disintegrate+8
    }
}

ACTOR GladiatorPhalanx
{
    Radius 8
    Height 8
    Speed 28
    Damage 10
    RenderStyle Add
    Alpha 0.75
    Scale 0.25
    PROJECTILE
    +RANDOMIZE
    +EXTREMEDEATH
    +THRUGHOST
    DamageType "Phalanx"
    States
    {
    Spawn:
	X025 YXWVUTSRQPONMLKJIHGFBCA 2 Bright
	Loop
    Death:
	TNT1 A 0 A_CustomMissile("ExploSmokeGeneral",0,0,0)
	TNT1 A 0 A_PlaySound("q2gladiator/phalanx/explode")
	TNT1 A 0 A_Explode(50,128)
	TNT1 A 0 A_CustomMissile("NewExplosionMedium",0,0,0)
	TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("Q2RocketExtra",0,0,0,1,0,random(-1,3),random(1,360))
	Stop
    }
}

ACTOR PhalanxExplosion
{
    Radius 8
    Height 8
    Scale 0.6
    RenderStyle Add
    Alpha 0.8
    PROJECTILE
    States
    {
    Spawn:
	X003 A 0
	X003 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 Bright A_FadeOut(0.01)
	Stop
    }
}






//===========================================================================
//===========================================================================


//===========================================================================
//===========================================================================

actor IronMaiden2     7403                           //arachno
{
	DropItem "AEoDTeslaCannonItem" 10	//do you know how strong this is in "High tech"? 
	DropItem "CellAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 600
    Radius 20
    Height 64
    Scale 0.4
    Speed 5
    PainChance 150
    Mass 400
    Monster	RipLevelMin 1 
    +FLOORCLIP
    +DONTMORPH
    SeeSound "q2bitch/sight"
    PainSound "q2bitch/pain"
    DeathSound "q2bitch/death"
    ActiveSound "q2bitch/search"
    MeleeSound "implord/macehit"
    Obituary "%o was electrocuted by the Iron Maiden."
    HitObituary "%o shouldn't have approached that much to the Iron Maiden."
    MeleeDamage 8
    +BOSSDEATH
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 96
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
    Translation "0:255=%[0.0,0.0,0.0]:[0.8,0.8,0.8]", "176:191=192:207", "32:47=192:207", "208:223=192:207", "232:235=192:207"
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.DarkSyphon:
	TNT1 A 0 A_Jump(64,"Pain")
	TNT1 A 0 A_SpawnItemEx("DarkMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.RedSyphon:
	TNT1 A 0 A_Jump(105,"Pain")
	TNT1 A 0 A_SpawnItemEx("RedMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.GreenSyphon:
	TNT1 A 0 A_Jump(179,"Pain")
	TNT1 A 0 A_SpawnItemEx("GreenMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.BlueSyphon:
	TNT1 A 0 A_Jump(203,"Pain")
	TNT1 A 0 A_SpawnItemEx("BlueMana",0,0,0,0,0,0,0,32)
	Goto Pain
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
        BITI AAAAAAAAAAAAAAAA 5 A_Look
	TNT1 A 0 A_PlaySound("q2bitch/doingnothing")
	BITI AAAAAAAAAA 6 A_Look
	TNT1 A 0 A_Jump(128,7)
	BITI AAAAAAA 6 A_Look
	BITI AAAAAAAAAA 6 A_Look
        Loop
    See:
        BITW AABBCCDDEEFF 2 A_Chase
        Loop
    Missile:
	  TNT1 A 0 A_Jump(128,"Missile2")
	  TNT1 A 0 A_PlaySound("q2bitch/attackscream")
        BITA ABCD 5 A_FaceTarget
	  TNT1 a 0 A_PlaySound("caleb/tesla"/*,CHAN_auto*/)
	  TNT1 a 0 A_FaceTarget
        BITA D 5 A_CustomMissile("TeslaShotMon",29,-6,0)
	  BITA E 0 A_CPosRefire
        Goto Missile+6
    Missile2:
	  TNT1 A 0 A_PlaySound("q2bitch/attackscream")
        BITA ABCD 5 A_FaceTarget
	  BITA DDDD 4 A_FaceTarget
	  TNT1 a 0 A_PlaySound("caleb/teslaalt")
        BITA D 5 A_CustomMissile("TeslaShotAltMon",29,-6,0)
	  BITA DDDD 4 A_FaceTarget
	  BITA E 0 A_CPosRefire
	  BITA DD 4 A_FaceTarget
	  TNT1 a 0 A_PlaySound("caleb/teslaalt")
        BITA D 5 A_CustomMissile("TeslaShotAltMon",29,-6,0)
	  BITA DDDD 4 A_FaceTarget
        Goto See
    Pain:
        BITP A 2
        BITP A 5 A_Pain
        Goto See
    Death:
        BITD A 6
        BITD B 6 A_Scream
        BITD C 6
        BITD D 6 A_Fall
        BITD EFG 6
        BITD HIJKLMN 5
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Small")
        BITD O -1 A_KillMaster
        Stop
    Ice:
	BITP A 5 A_GenericFreezeDeath
	BITP A 0 A_KillMaster
	BITP A 1 A_FreezeDeathChunks
	Wait
    XDeath:
        TNT1 C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeSmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_KillMaster
	Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	"####" "#" 0 Thing_SetTranslation(0,50)	
	"####" "#" 0 A_KillMaster
	"####" "#" 1 A_FadeOut(0.015)
	"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
	"####" "#" 0 A_Stop	
	"####" "#" 0 A_Fall
	"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	"####" "##" 2 A_FadeOut(0.03)
	Goto Disintegrate+7
    Raise:
	BITD ONMLKJIHGFEDCBA 4
	Goto See
    }
}


ACTOR TeslaShotMon
{
Speed 32
Damage 5
Radius 3
Height 6
Scale 0.34
RenderStyle Add
PROJECTILE
+NODAMAGETHRUST
DeathSound "LLFireball/Explode"
DamageType "Electric"
States
{
Spawn:
	TEFX ABCDEFGHIJKLMNOPQRST 2 Bright
	Loop
Death:
	TNT1 AAAAAAAAA 0 A_SpawnItemEx("TeslaFX",0,0,0,random(6,-6),random(6,-6),random(6,-6),0,0)
	Stop
}
}

Actor TeslaShotAltMon : TeslaShotAlt
{
Damage 0
DamageType "Electric"
}

//===========================================================================
//===========================================================================
// When the strogg were making designs for makron's brain container, this was
// an early design of it. While not as resistent, and with a lighter arsenal,
// this served perfectly as that, a prototype. They later expanded it and
// changed the weapons for something more deadlier. However, due to the
// implementation of the dark matter gun and the BFG, they had to leave out
// the Devastator, which was a pretty demolishing weapon on this model. 
//===========================================================================
//===========================================================================

actor PrototypeContainer		7404   //arachno
{
	DropItem "AEoDDeathRayItem" 24
	DropItem "ExploAmmo"
	DropItem "ExploAmmo"
	DropItem "CellAmmo"
	DropItem "CellAmmo"
	DropItem "PowerslaveSpawner" 128
	DropItem "PowerupSpawner" 8
    Health 700
    Radius 24
    Height 56
    Scale 0.45
    Speed 6
    PainChance 25
    Mass 4000
    Monster	RipLevelMin 1 
    +FLOORCLIP
    +MISSILEMORE
    +BOSS
    +BOSSDEATH
    +NORADIUSDMG
    BloodType NoBloodPuff
    +LOOKALLAROUND
    +DONTMORPH
    +NOFEAR
    SeeSound "q2makron2/voice"
    PainSound "q2makron1/pain"
    DeathSound "q2makron2/death"
    ActiveSound "q2makron2/seeking"
    AttackSound "q2weapon/railgunfire"
    Obituary "%o found a prototype container."
    DamageFactor "Wormwood", 0.2
    PainChance "Charm", 192
    PainChance "Terror", 192
    PainChance "Drain", 96
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 255
    PainChance "ChaosExpl2", 255
    Translation "0:255=%[0.0,0.0,0.0]:[0.8,0.8,0.8]", "176:191=112:127", "32:47=112:127", "208:223=112:127", "232:235=112:127"
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
	BS5I A 5 A_Look
        Loop
    See:
	TNT1 A 0 A_JumpIfInventory("Iwasattacking",1,"FinishAtt")
    SeeChase:
	BS5W AABBCCDDEE 3 A_Chase
	Loop
    FinishAtt:
	TNT1 A 0 A_TakeInventory("Iwasattacking",1)
	BS5R FG 7 A_FaceTarget
	Goto "SeeChase"
    Missile:
	TNT1 a 0 A_Jump(255,"Laser","DeathRay","Devastator")
    Laser:
	BS5R ABCD 6 A_FaceTarget
	BS5R E 0 A_PlaySound("reilsss/weapons/lasergunfire2")
	BS5R E 3 A_CustomMissile("BlueLaserBall",48,0,0)
	BS5R E 4
	BS5R E 0 A_SentinelRefire
	Goto "Laser"+4
    DeathRay:	
	BS5B ABC 7 A_FaceTarget
	BS5B D 3 A_FaceTarget
	BS5B D 0 A_PlaySound("weapons/deathray/fire",7,1.0,0)
	BS5B D 0 A_CustomMissile("IntDeathRay",45,-7,0)
	BS5B EFG 7
	BS5R E 0 A_CPosRefire
	BS5B ABC 7 A_FaceTarget
	BS5B D 3 A_FaceTarget
	BS5B D 0 A_PlaySound("weapons/deathray/fire",7,1.0,0)
	BS5B D 0 A_CustomMissile("IntDeathRay",45,-7,0)
	BS5B EFG 7
	Goto "SeeChase"

    Devastator:
	BS5A AB 8 A_FaceTarget

	BS5A Z 0 A_FaceTarget
	BS5A FF 2 Bright A_CustomMissile("MicroRocket",40,10,24)
	BS5A Z 0 A_FaceTarget
	BS5A GG 2 Bright A_CustomMissile("MicroRocket",40,10,16)
	BS5A Z 0 A_FaceTarget
	BS5A HH 2 Bright A_CustomMissile("MicroRocket",40,10,8)

	BS5A Z 0 A_FaceTarget
	BS5A II 2 Bright A_CustomMissile("MicroRocket",40,10,0)	

	BS5A Z 0 A_FaceTarget
	BS5A JJ 2 Bright A_CustomMissile("MicroRocket",40,10,-8)
	BS5A Z 0 A_FaceTarget
	BS5A KK 2 Bright A_CustomMissile("MicroRocket",40,10,-16)
	BS5A Z 0 A_FaceTarget
	BS5A LL 2 Bright A_CustomMissile("MicroRocket",40,10,-24)
	BS5A Z 0 A_FaceTarget
	BS5A KK 2 Bright A_CustomMissile("MicroRocket",40,10,-16)
	BS5A Z 0 A_FaceTarget
	BS5A JJ 2 Bright A_CustomMissile("MicroRocket",40,10,-8)

	BS5A Z 0 A_FaceTarget
	BS5A II 2 Bright A_CustomMissile("MicroRocket",40,10,0)	

	BS5A Z 0 A_FaceTarget
	BS5A HH 2 Bright A_CustomMissile("MicroRocket",40,10,8)
	BS5A Z 0 A_FaceTarget
	BS5A GG 2 Bright A_CustomMissile("MicroRocket",40,10,16)
	BS5A Z 0 A_FaceTarget
	BS5A FF 2 Bright A_CustomMissile("MicroRocket",40,10,24)


	BS5A BA 8 
	Goto "SeeChase"
    Pain:
	TNT1 A 0 A_TakeInventory("Iwasattacking",1)
	BS5P A 2
	BS5P A 5 A_Pain
	Goto "SeeChase"
    Death:
	TNT1 A 0 A_CustomMissile("PContTorso",50,0,0+random(90,-90))
	TNT1 AAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
        BS5D B 25 A_Scream
        BS5D C 20 A_Fall
        BS5D D 6
	  TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal")
	  BS5D EFGH 6
	  "####" "#" 0 A_QueueCorpse
	BS5D H -1 A_KillMaster
        Stop
	Death.Telefrag:
	XDeath.Telefrag:
		TNT1 A 0 A_PlaySound("other/gibdeath")
		TNT1 A 0 A_fall
		TNT1 AAA 0 A_SpawnItemEx("BossDeathExplosion",random(0,25),0,random(0,70),0,0,0,0,random(0,359),32)
		TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
		TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
		TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
		TNT1 AAAAAAAAAAAAAAAAAAA 0 A_TossGib
		
		TNT1 A 0 A_KillMaster
		Stop
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	"####" "#" 0 Thing_SetTranslation(0,50)	
	"####" "#" 0 A_Killmaster
	"####" "#" 1 A_FadeOut(0.015)
	"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
	"####" "#" 0 A_Stop	
	"####" "#" 0 A_Fall
	"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	"####" "##" 2 A_FadeOut(0.03)
	Goto Disintegrate+7
	
	Ice:
		"####" "#" 5 A_GenericFreezeDeath
		"####" "#" 0 A_KillMaster
		"####" "#" 1 A_FreezeDeathChunks
		Wait
    }
}
actor PContTorso
{
	Projectile
	Damage 0
	+DOOMBOUNCE
	BounceFactor 0.3
	-NOLIFTDROP
	-SOLID
	+DROPOFF
	-NOGRAVITY
	-NOBLOCKMAP
	Scale 0.45
	Translation "0:255=%[0.0,0.0,0.0]:[0.8,0.8,0.8]", "176:191=112:127", "32:47=112:127", "208:223=112:127", "232:235=112:127"
	States
	{
	Spawn:
		BS5D AAAAA 5
	Death:
		"####" "#" 0 A_QueueCorpse
		BS5D A -1
		Loop
	}
}

//===========================================================================
//===========================================================================

// Not bigger, but meaner version of the tank

//===========================================================================
//===========================================================================
actor TankCommander 	// archvile
{
	DropItem "AEoDHERocketLauncherItem" 32
	DropItem "CellBigAmmo"
	DropItem "ExploBigAmmo"
	DropITem "BulletBigAmmo"
	DropItem "HealthHeart" 210
	DropItem "PowerslaveSpawner" 28
	DropItem "PowerupSpawner" 8
    Health 1500
    Radius 20
    Height 56
    Scale 0.52
    Speed 10
    PainChance 2		//lolwut?
    Mass 9000
    Monster	RipLevelMin 1 
    +BOSSDEATH
    +FLOORCLIP
    +MISSILEMORE
    +MISSILEEVENMORE
    +BOSS
    +NORADIUSDMG
    BloodType NoBloodPuff
    +DONTMORPH
    SeeSound "q2tank/sight"
    PainSound "q2tank/pain"
    DeathSound "q2tank/death"
    ActiveSound "q2tank/idle"
    AttackSound "weapons/shtgn2fr"
    Obituary "%o encountered a tank commander."
    Translation "0:255=%[0.0,0.0,0.0]:[1.66,1.66,1.66]", "176:191=176:191", "208:223=208:223", "32:47=32:47"
    DamageFactor "Wormwood", 0.5
    PainChance "Charm", 96
    PainChance "Terror", 96
    PainChance "Drain", 64
    PainChance "Chaos", 255
    PainChance "ChaosExpl1", 128
    PainChance "ChaosExpl2", 128
//Mechanic
	DamageFactor "Fire", 1.25
	DamageFactor "Ice", 0.75
	DamageFactor "Electric", 1.5
	DamageFactor "AEPoison", 0.5
	DamageFactor "AEBullet", 0.75
	DamageFactor "AEMagic", 0.75
 	DamageFactor "Plasma", 1.25
 	DamageFactor "PlasmaDisint", 1.25
    States
    {
    Pain.Chaos:
	TNT1 A 0
	TNT1 A 0 A_CustomMissile("ChaosExpl1",0,0,0)
	TNT1 A 0 A_CustomMissile("ChaosExpl2",0,0,0)
	Goto See
    Pain.ChaosExpl1:
	TNT1 A 0
	TNT1 A 0 A_ClearTarget
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",1)
	Goto Spawn
    Pain.ChaosExpl2:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("QUICKTORETALIATE",0)
	Goto See
    Pain.Charm:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIENDLY",1)
	Goto See
    Pain.Terror:
	TNT1 A 0
	TNT1 A 0 A_ChangeFlag("FRIGHTENED",1)
	Goto See
    Pain.Drain:
	TNT1 A 0
	TNT1 A 0 A_SpawnItemEx("DrainGiver",0,0,0,0,0,0,0,32,0)
	Goto Pain
    Spawn:
	TK1I A 5 A_Look
	Loop
    See:
	TNT1 A 0 A_JumpIfInventory("Iwasattacking",1,"EndMachinegun")
	TNT1 A 0 A_JumpIfInventory("IwasattackingB",1,"EndBlaster")
	TNT1 A 0 A_PlaySound("q2tank/step")
	TK1W A 7
	TK1W BCD 6 A_Chase
	TNT1 A 0 A_PlaySound("q2tank/step")
	TK1W E 7
	TK1W FGH 6 A_Chase
	Goto See+2
    EndMachinegun:
	TNT1 A 0 A_TakeInventory("Iwasattacking",1)
	TK1C EDCBA 4
	Goto See+2
    EndBlaster:
	TNT1 A 0 A_TakeInventory("IwasattackingB",1)
	TK1B DCBA 6
	Goto See+2
    Missile:
	TNT1 A 0 A_Jump(255,"Machinegun","Rocket","Blaster")
    Blaster:
	TK1B ABCD 6 A_FaceTarget
	TNT1 A 0 A_GiveInventory("IwasattackingB",1)
	TNT1 A 0 A_PlaySound("reilsss/weapons/plasmariflefire", CHAN_WEAPON, 1.0, 0)
	TK1B E 3 Bright A_CustomMissile("D3PlasmaBall", 40, -15, 0, 1)
	TK1B D 3 A_FaceTarget
	TNT1 A 0 A_CPosRefire
	Goto Blaster+5
    Machinegun:
	TK1C ABCDE 4 A_FaceTarget
	TNT1 A 0 A_GiveInventory("Iwasattacking",1)
	TNT1 A 0 A_SpawnItemEx("MonMuzzleFlash",20,20,45,0,0,0,0,32)
	TNT1 A 0 A_SpawnItemEx("NewExploSmallSmoke",20,20,48,0,0,frandom(0.4,0.99),0,32,128)
	TK1C F 3 Bright A_CustomBulletAttack(5,5,2,5,"BulletDamagePuff")
	TNT1 A 0 A_CPosRefire
	Goto Machinegun+6
    Rocket:
	TK1R ABCDE 6 A_FaceTarget
	TK1R F 0 A_PlaySound("q2tank/mechsound1")
	TK1R FGHIJK 6 A_FaceTarget
	TK1R L 8 A_FaceTarget
	TK1R M 6 Bright A_CustomMissile("ZombieSuperRocket", 70, 25, 0)
	TK1R N 6 A_FaceTarget
	TK1R O 6 Bright A_CustomMissile("ZombieSuperRocket", 70, 20, 0)
	TK1R P 6 A_FaceTarget
	TK1R Q 6 Bright A_CustomMissile("ZombieSuperRocket", 70, 15, 0)
	TK1R RSTUVWX 7
	Goto See
    Pain:
        TNT1 A 0 A_GiveInventory("IwasattackingB",1)
        TNT1 A 0 A_TakeInventory("Iwasattacking",1)
        TK1P A 10 A_Pain
        TK1P B 8 
        Goto See
    Death.UnholyDisint:
    Death.PlasmaDisint:
    Disintegrate:
	"####" "#" 0 Thing_SetTranslation(0,50)	
	"####" "#" 1 A_FadeOut(0.015)
	"####" "#" 0 A_ChangeFlag("NOINTERACTION",1)
	"####" "#" 0 A_Stop	
	"####" "#" 0 A_Fall
	"####" "#" 0 A_SpawnItemEx("DisintegrateShadowMediumBig",0,0,40,0,0,0,0,32)
	"####" "#" 0 A_SpawnItemEx("DisintegrateSparksMediumBig",0,0,40,0,0,0,0,32)
	"####" "##" 2 A_FadeOut(0.03)
	Goto Disintegrate+6
    Death:
	TNT1 AAA 0 A_TossGib
	TK1D A 1 A_Scream
	TK1D ABCDEF 6
	TNT1 AAA 0 A_TossGib
	TK1D GHIJKLM 5
	TNT1 AAA 0 A_TossGib
	TK1D NOPQR 4
	TNT1 A 0 A_PlaySound("quake4/Misc/Body/Metal")
	TK1D S 4
	TNT1 AAA 0 A_TossGib
	TNT1 A 0 A_KillMaster
	TK1D T -1 A_Fall
	Stop
    XDeath:
	XTRA C 0 A_PlaySound("other/gibdeath")
	TNT1 A 0 A_fall
	TNT1 AAA 0 A_SpawnItemEx("BossDeathExplosion",random(0,25),0,random(0,70),0,0,0,0,random(0,359),32)
	TNT1 AAAAA 0 A_SpawnItemEx("GibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAA 0 A_SpawnItemEx("SmallGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 A 0 A_SpawnItemEx("QuakeGibDropper",0,0,random(20,40),0,0,0,0,1)
	TNT1 AAAAAAAAAAAAAAAAAAA 0 A_TossGib
	TNT1 A 0 A_KillMaster
	Stop
    Raise:
	TK1D TSRQPO 6
	Goto See
    }
}

Actor IwasattackingB : Inventory
{
    Inventory.MaxAmount 1
}